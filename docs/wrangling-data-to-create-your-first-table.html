<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 6 Wrangling data to create your first table | Quantitative methods and statistics (In Sport and Exercise Science)</title>
  <meta name="description" content="These course notes let’s you follow along in the course Quantitative methods and Statistics (IDR4000) as given at the Section for Health and Exercise Physiology, Inland University of Applied Sciences. Cover image Created with BioRender.com." />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 6 Wrangling data to create your first table | Quantitative methods and statistics (In Sport and Exercise Science)" />
  <meta property="og:type" content="book" />
  
  <meta property="og:image" content="images/cover.png" />
  <meta property="og:description" content="These course notes let’s you follow along in the course Quantitative methods and Statistics (IDR4000) as given at the Section for Health and Exercise Physiology, Inland University of Applied Sciences. Cover image Created with BioRender.com." />
  <meta name="github-repo" content="dhammarstrom/quant-methods" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 6 Wrangling data to create your first table | Quantitative methods and statistics (In Sport and Exercise Science)" />
  
  <meta name="twitter:description" content="These course notes let’s you follow along in the course Quantitative methods and Statistics (IDR4000) as given at the Section for Health and Exercise Physiology, Inland University of Applied Sciences. Cover image Created with BioRender.com." />
  <meta name="twitter:image" content="images/cover.png" />

<meta name="author" content="Daniel Hammarström" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="creating-your-first-graph.html"/>
<link rel="next" href="writing-your-first-reproducible-report.html"/>
<script src="libs/header-attrs-2.5/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Quantitative methods and statistics (In Sport and Exercise Science)</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#practical-information"><i class="fa fa-check"></i><b>1.1</b> Practical information</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="index.html"><a href="index.html#learning-objectives"><i class="fa fa-check"></i><b>1.1.1</b> Learning objectives</a></li>
<li class="chapter" data-level="1.1.2" data-path="index.html"><a href="index.html#learning-strategies"><i class="fa fa-check"></i><b>1.1.2</b> Learning strategies</a></li>
<li class="chapter" data-level="1.1.3" data-path="index.html"><a href="index.html#course-evaluation"><i class="fa fa-check"></i><b>1.1.3</b> Course evaluation</a></li>
<li class="chapter" data-level="1.1.4" data-path="index.html"><a href="index.html#lecturers-and-course-administration"><i class="fa fa-check"></i><b>1.1.4</b> Lecturers and course administration</a></li>
<li class="chapter" data-level="1.1.5" data-path="index.html"><a href="index.html#updates-notifications-and-general-communication"><i class="fa fa-check"></i><b>1.1.5</b> Updates, notifications and general communication</a></li>
<li class="chapter" data-level="1.1.6" data-path="index.html"><a href="index.html#literature"><i class="fa fa-check"></i><b>1.1.6</b> Literature</a></li>
<li class="chapter" data-level="1.1.7" data-path="index.html"><a href="index.html#grades"><i class="fa fa-check"></i><b>1.1.7</b> Grades</a></li>
<li class="chapter" data-level="1.1.8" data-path="index.html"><a href="index.html#language"><i class="fa fa-check"></i><b>1.1.8</b> Language</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#assignments-and-portfolio-exam"><i class="fa fa-check"></i><b>1.2</b> Assignments and Portfolio exam</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#other-information"><i class="fa fa-check"></i><b>1.3</b> Other information</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="introduction-to-data-science.html"><a href="introduction-to-data-science.html"><i class="fa fa-check"></i><b>2</b> Introduction to data science</a>
<ul>
<li class="chapter" data-level="2.1" data-path="introduction-to-data-science.html"><a href="introduction-to-data-science.html#about-data-in-the-world-of-sport-and-exercise"><i class="fa fa-check"></i><b>2.1</b> About data in the world of sport and exercise</a></li>
<li class="chapter" data-level="2.2" data-path="introduction-to-data-science.html"><a href="introduction-to-data-science.html#replication-and-reproducibility"><i class="fa fa-check"></i><b>2.2</b> Replication and Reproducibility</a></li>
<li class="chapter" data-level="2.3" data-path="introduction-to-data-science.html"><a href="introduction-to-data-science.html#tools-in-data-science"><i class="fa fa-check"></i><b>2.3</b> Tools in data science</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="storing-data-in-spreadsheets.html"><a href="storing-data-in-spreadsheets.html"><i class="fa fa-check"></i><b>3</b> Storing data in spreadsheets</a>
<ul>
<li class="chapter" data-level="3.1" data-path="storing-data-in-spreadsheets.html"><a href="storing-data-in-spreadsheets.html#cells-and-simple-functions"><i class="fa fa-check"></i><b>3.1</b> Cells and simple functions</a></li>
<li class="chapter" data-level="3.2" data-path="storing-data-in-spreadsheets.html"><a href="storing-data-in-spreadsheets.html#tidy-data-and-data-storage"><i class="fa fa-check"></i><b>3.2</b> Tidy data and data storage</a></li>
<li class="chapter" data-level="3.3" data-path="storing-data-in-spreadsheets.html"><a href="storing-data-in-spreadsheets.html#recording-data"><i class="fa fa-check"></i><b>3.3</b> Recording data</a></li>
<li class="chapter" data-level="3.4" data-path="storing-data-in-spreadsheets.html"><a href="storing-data-in-spreadsheets.html#saving-data"><i class="fa fa-check"></i><b>3.4</b> Saving data</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="installing-and-starting-up-r-and-r-studio.html"><a href="installing-and-starting-up-r-and-r-studio.html"><i class="fa fa-check"></i><b>4</b> Installing and starting up R (and R Studio)</a>
<ul>
<li class="chapter" data-level="4.1" data-path="installing-and-starting-up-r-and-r-studio.html"><a href="installing-and-starting-up-r-and-r-studio.html#installing-r"><i class="fa fa-check"></i><b>4.1</b> Installing R</a></li>
<li class="chapter" data-level="4.2" data-path="installing-and-starting-up-r-and-r-studio.html"><a href="installing-and-starting-up-r-and-r-studio.html#installing-r-studio"><i class="fa fa-check"></i><b>4.2</b> Installing R Studio</a></li>
<li class="chapter" data-level="4.3" data-path="installing-and-starting-up-r-and-r-studio.html"><a href="installing-and-starting-up-r-and-r-studio.html#getting-to-know-r-and-rstudio"><i class="fa fa-check"></i><b>4.3</b> Getting to know R and RStudio</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="installing-and-starting-up-r-and-r-studio.html"><a href="installing-and-starting-up-r-and-r-studio.html#the-source"><i class="fa fa-check"></i><b>4.3.1</b> The source</a></li>
<li class="chapter" data-level="4.3.2" data-path="installing-and-starting-up-r-and-r-studio.html"><a href="installing-and-starting-up-r-and-r-studio.html#environment"><i class="fa fa-check"></i><b>4.3.2</b> Environment</a></li>
<li class="chapter" data-level="4.3.3" data-path="installing-and-starting-up-r-and-r-studio.html"><a href="installing-and-starting-up-r-and-r-studio.html#the-console"><i class="fa fa-check"></i><b>4.3.3</b> The console</a></li>
<li class="chapter" data-level="4.3.4" data-path="installing-and-starting-up-r-and-r-studio.html"><a href="installing-and-starting-up-r-and-r-studio.html#files-plots-packages-and-help-files"><i class="fa fa-check"></i><b>4.3.4</b> Files, plots, packages and help files</a></li>
<li class="chapter" data-level="4.3.5" data-path="installing-and-starting-up-r-and-r-studio.html"><a href="installing-and-starting-up-r-and-r-studio.html#customizing-the-apperance-of-rstudio"><i class="fa fa-check"></i><b>4.3.5</b> Customizing the apperance of RStudio</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="installing-and-starting-up-r-and-r-studio.html"><a href="installing-and-starting-up-r-and-r-studio.html#reproducible-computing"><i class="fa fa-check"></i><b>4.4</b> Reproducible computing</a></li>
<li class="chapter" data-level="4.5" data-path="installing-and-starting-up-r-and-r-studio.html"><a href="installing-and-starting-up-r-and-r-studio.html#packages"><i class="fa fa-check"></i><b>4.5</b> Packages</a></li>
<li class="chapter" data-level="4.6" data-path="installing-and-starting-up-r-and-r-studio.html"><a href="installing-and-starting-up-r-and-r-studio.html#installing-and-using-swirl"><i class="fa fa-check"></i><b>4.6</b> Installing and using <code>swirl</code></a></li>
<li class="chapter" data-level="4.7" data-path="installing-and-starting-up-r-and-r-studio.html"><a href="installing-and-starting-up-r-and-r-studio.html#r-scripts"><i class="fa fa-check"></i><b>4.7</b> R scripts</a></li>
<li class="chapter" data-level="4.8" data-path="installing-and-starting-up-r-and-r-studio.html"><a href="installing-and-starting-up-r-and-r-studio.html#r-markdown-files"><i class="fa fa-check"></i><b>4.8</b> R markdown files</a>
<ul>
<li class="chapter" data-level="4.8.1" data-path="installing-and-starting-up-r-and-r-studio.html"><a href="installing-and-starting-up-r-and-r-studio.html#starting-up-your-first-r-markdown-file"><i class="fa fa-check"></i><b>4.8.1</b> Starting up your first R markdown file</a></li>
</ul></li>
<li class="chapter" data-level="4.9" data-path="installing-and-starting-up-r-and-r-studio.html"><a href="installing-and-starting-up-r-and-r-studio.html#r-markdown"><i class="fa fa-check"></i><b>4.9</b> R Markdown</a>
<ul>
<li class="chapter" data-level="4.9.1" data-path="installing-and-starting-up-r-and-r-studio.html"><a href="installing-and-starting-up-r-and-r-studio.html#microsoft-word-intergration"><i class="fa fa-check"></i><b>4.9.1</b> Microsoft Word intergration</a></li>
<li class="chapter" data-level="4.9.2" data-path="installing-and-starting-up-r-and-r-studio.html"><a href="installing-and-starting-up-r-and-r-studio.html#adding-references"><i class="fa fa-check"></i><b>4.9.2</b> Adding references</a></li>
<li class="chapter" data-level="4.9.3" data-path="installing-and-starting-up-r-and-r-studio.html"><a href="installing-and-starting-up-r-and-r-studio.html#a-note-on-folder-structures"><i class="fa fa-check"></i><b>4.9.3</b> A note on folder structures</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="creating-your-first-graph.html"><a href="creating-your-first-graph.html"><i class="fa fa-check"></i><b>5</b> Creating your first graph</a>
<ul>
<li class="chapter" data-level="5.1" data-path="creating-your-first-graph.html"><a href="creating-your-first-graph.html#resources"><i class="fa fa-check"></i><b>5.1</b> Resources</a></li>
<li class="chapter" data-level="5.2" data-path="creating-your-first-graph.html"><a href="creating-your-first-graph.html#learning-objectives-1"><i class="fa fa-check"></i><b>5.2</b> Learning objectives</a></li>
<li class="chapter" data-level="5.3" data-path="creating-your-first-graph.html"><a href="creating-your-first-graph.html#prerequisites"><i class="fa fa-check"></i><b>5.3</b> Prerequisites</a></li>
<li class="chapter" data-level="5.4" data-path="creating-your-first-graph.html"><a href="creating-your-first-graph.html#the-ggplot2-system"><i class="fa fa-check"></i><b>5.4</b> The <code>ggplot2</code> system</a></li>
<li class="chapter" data-level="5.5" data-path="creating-your-first-graph.html"><a href="creating-your-first-graph.html#different-geoms-using-real-data"><i class="fa fa-check"></i><b>5.5</b> Different geoms using real data</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="creating-your-first-graph.html"><a href="creating-your-first-graph.html#a-plot-of-values-per-group"><i class="fa fa-check"></i><b>5.5.1</b> A plot of values per group</a></li>
<li class="chapter" data-level="5.5.2" data-path="creating-your-first-graph.html"><a href="creating-your-first-graph.html#data-over-time-per-group-and-individual"><i class="fa fa-check"></i><b>5.5.2</b> Data over time per group and individual</a></li>
<li class="chapter" data-level="5.5.3" data-path="creating-your-first-graph.html"><a href="creating-your-first-graph.html#titles-and-labels"><i class="fa fa-check"></i><b>5.5.3</b> Titles and labels</a></li>
<li class="chapter" data-level="5.5.4" data-path="creating-your-first-graph.html"><a href="creating-your-first-graph.html#annotations"><i class="fa fa-check"></i><b>5.5.4</b> Annotations</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="creating-your-first-graph.html"><a href="creating-your-first-graph.html#themes"><i class="fa fa-check"></i><b>5.6</b> Themes</a></li>
<li class="chapter" data-level="5.7" data-path="creating-your-first-graph.html"><a href="creating-your-first-graph.html#test-your-understandning"><i class="fa fa-check"></i><b>5.7</b> Test your understandning</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="wrangling-data-to-create-your-first-table.html"><a href="wrangling-data-to-create-your-first-table.html"><i class="fa fa-check"></i><b>6</b> Wrangling data to create your first table</a>
<ul>
<li class="chapter" data-level="6.0.1" data-path="wrangling-data-to-create-your-first-table.html"><a href="wrangling-data-to-create-your-first-table.html#resources-1"><i class="fa fa-check"></i><b>6.0.1</b> Resources</a></li>
<li class="chapter" data-level="6.1" data-path="wrangling-data-to-create-your-first-table.html"><a href="wrangling-data-to-create-your-first-table.html#making-table-1"><i class="fa fa-check"></i><b>6.1</b> Making “Table 1”</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="wrangling-data-to-create-your-first-table.html"><a href="wrangling-data-to-create-your-first-table.html#prerequisistes"><i class="fa fa-check"></i><b>6.1.1</b> Prerequisistes</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="wrangling-data-to-create-your-first-table.html"><a href="wrangling-data-to-create-your-first-table.html#first-steps-decide-what-data-to-use-and-summarise"><i class="fa fa-check"></i><b>6.2</b> First steps, decide what data to use and summarise</a></li>
<li class="chapter" data-level="6.3" data-path="wrangling-data-to-create-your-first-table.html"><a href="wrangling-data-to-create-your-first-table.html#final-thoughts-on-knitrkable-and-kableextra"><i class="fa fa-check"></i><b>6.3</b> Final thoughts on <code>knitr::kable</code> and <code>kableExtra</code></a></li>
<li class="chapter" data-level="6.4" data-path="wrangling-data-to-create-your-first-table.html"><a href="wrangling-data-to-create-your-first-table.html#flextable"><i class="fa fa-check"></i><b>6.4</b> Flextable</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="writing-your-first-reproducible-report.html"><a href="writing-your-first-reproducible-report.html"><i class="fa fa-check"></i><b>7</b> Writing your first reproducible report</a></li>
<li class="chapter" data-level="8" data-path="version-control-and-collaborative-coding-introducing-git-and-github-com.html"><a href="version-control-and-collaborative-coding-introducing-git-and-github-com.html"><i class="fa fa-check"></i><b>8</b> Version control and collaborative coding – introducing git and github.com</a></li>
<li class="chapter" data-level="9" data-path="reliability-in-the-physiology-lab.html"><a href="reliability-in-the-physiology-lab.html"><i class="fa fa-check"></i><b>9</b> Reliability in the physiology lab</a></li>
<li class="chapter" data-level="10" data-path="introduction-to-the-molecular-exercise-physiology-lab.html"><a href="introduction-to-the-molecular-exercise-physiology-lab.html"><i class="fa fa-check"></i><b>10</b> Introduction to the molecular exercise physiology lab</a></li>
<li class="chapter" data-level="11" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i><b>11</b> References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Quantitative methods and statistics (In Sport and Exercise Science)</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="wrangling-data-to-create-your-first-table" class="section level1" number="6">
<h1><span class="header-section-number">Chapter 6</span> Wrangling data to create your first table</h1>
<p>Tables can be created as part of a R markdown document. This is because most “table generators” actually converts your code into an output format based on the rules of that particular format. The most common format to work with when you are building your analysis is html. Tables are special since their creation depend more heavily on the output format compared to other elements of R markdown documents. For example, when using the <code>kable</code> function from the <code>knitr</code> package you have to specify if you want html or latex output. Word output is not possible using the <code>knitr</code> package, but other table generators in rmarkdown (such as <code>flextable</code>) <em>can</em> produce word output, meaning you can put tables in word documents from your R markdown file. There are several alternatives for generating tables<a href="#fn17" class="footnote-ref" id="fnref17"><sup>17</sup></a>. We will start by exploring the built-in function in the <code>knitr</code> package.</p>
<p>The basic work-flow of creating a table in R markdown is to first transform the data into a nice format and then get this underlying data into the table generator. The table generator is written in a code chunk an upon rendering of the R markdown file, the table generator will create, for example, html output.</p>
<p>In this chapter we will also introduce some data wrangling tools since the table we will produce consists of summarized data.</p>
<div id="resources-1" class="section level3" number="6.0.1">
<h3><span class="header-section-number">6.0.1</span> Resources</h3>
<p>The <code>kable</code> function is described in a newly developed book, available online called <a href="https://bookdown.org/yihui/rmarkdown-cookbook/kable.html">the R Markdown Cookbook</a>. The package, <code>kableExtra</code> comes with excellent <a href="https://cran.r-project.org/web/packages/kableExtra/">vignettes</a> for both html and pdf outputs. <code>kableExtra</code> provides extra functions to customize your basic <code>knitr</code> table.</p>
</div>
<div id="making-table-1" class="section level2" number="6.1">
<h2><span class="header-section-number">6.1</span> Making “Table 1”</h2>
<p>The first table in many report in sport and exercise studies is that “Participant characteristics” table. This first table summarizes background information on the participants. We will try to reproduce</p>
<div id="prerequisistes" class="section level3" number="6.1.1">
<h3><span class="header-section-number">6.1.1</span> Prerequisistes</h3>
<p>Load packages with the following commands:</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="wrangling-data-to-create-your-first-table.html#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse) <span class="co"># for data wrangling and file download</span></span>
<span id="cb55-2"><a href="wrangling-data-to-create-your-first-table.html#cb55-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr) <span class="co"># for the kable function</span></span>
<span id="cb55-3"><a href="wrangling-data-to-create-your-first-table.html#cb55-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra) <span class="co"># for extended capabilities</span></span></code></pre></div>
<p>Download the example file with the following command:</p>
</div>
</div>
<div id="first-steps-decide-what-data-to-use-and-summarise" class="section level2" number="6.2">
<h2><span class="header-section-number">6.2</span> First steps, decide what data to use and summarise</h2>
<p>Before we can start to format the table, we need to decide what data to put in it. The goal here is to create a summary table of participant characteristics. We can group the participants based on inclusion/exclusion from the study and sex.</p>
<p>Above, we stored the data in an object called <code>dxa_data</code>. Use the below code to see what it contains.</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="wrangling-data-to-create-your-first-table.html#cb56-1" aria-hidden="true" tabindex="-1"></a>dxa_data <span class="sc">%&gt;%</span></span>
<span id="cb56-2"><a href="wrangling-data-to-create-your-first-table.html#cb56-2" aria-hidden="true" tabindex="-1"></a>        <span class="fu">print</span>()</span></code></pre></div>
<p>This is data from iDXA measurements that also contains weight, height, age, sex and if participants were included in the data analysis or not (<code>include == "incl"</code> or <code>include == "excl"</code>). First we want to use lean body mass as a percentage of the whole body mass as a measure to describe the participants. The below code does the calculation. We also select columns of interest for further data preparations using the <code>select()</code> function. Store the data in a new object, so that the raw data can be used later.</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="wrangling-data-to-create-your-first-table.html#cb57-1" aria-hidden="true" tabindex="-1"></a>dxa <span class="ot">&lt;-</span> dxa_data <span class="sc">%&gt;%</span></span>
<span id="cb57-2"><a href="wrangling-data-to-create-your-first-table.html#cb57-2" aria-hidden="true" tabindex="-1"></a>        <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span></span>
<span id="cb57-3"><a href="wrangling-data-to-create-your-first-table.html#cb57-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">LBM =</span> (lean.whole <span class="sc">/</span> (fat.whole <span class="sc">+</span> BMD.whole <span class="sc">+</span> lean.whole)) <span class="sc">*</span> <span class="dv">100</span>) <span class="sc">%&gt;%</span></span>
<span id="cb57-4"><a href="wrangling-data-to-create-your-first-table.html#cb57-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">select</span>(subject, age, height, weight, LBM, sex, include) <span class="sc">%&gt;%</span></span>
<span id="cb57-5"><a href="wrangling-data-to-create-your-first-table.html#cb57-5" aria-hidden="true" tabindex="-1"></a>        <span class="fu">print</span>()</span></code></pre></div>
<p>Using <code>dplyr::group_by()</code> and <code>dplyr::summarise()</code> we can now create a summary table.</p>
<blockquote>
<p>When writing <code>dplyr::group_by()</code> it means that we specify the function <code>group_by()</code> from the package <code>dplyr</code>. The double colon is used to connect the package to the function, we use it here to specify what package we are using.</p>
</blockquote>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="wrangling-data-to-create-your-first-table.html#cb58-1" aria-hidden="true" tabindex="-1"></a>dxa <span class="sc">%&gt;%</span></span>
<span id="cb58-2"><a href="wrangling-data-to-create-your-first-table.html#cb58-2" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb58-3"><a href="wrangling-data-to-create-your-first-table.html#cb58-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">group_by</span>(sex, include) <span class="sc">%&gt;%</span></span>
<span id="cb58-4"><a href="wrangling-data-to-create-your-first-table.html#cb58-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">summarise</span>(<span class="at">m.age =</span> <span class="fu">mean</span>(age), </span>
<span id="cb58-5"><a href="wrangling-data-to-create-your-first-table.html#cb58-5" aria-hidden="true" tabindex="-1"></a>                  <span class="at">s.age =</span> <span class="fu">sd</span>(age), </span>
<span id="cb58-6"><a href="wrangling-data-to-create-your-first-table.html#cb58-6" aria-hidden="true" tabindex="-1"></a>                  <span class="at">m.height =</span> <span class="fu">mean</span>(height), </span>
<span id="cb58-7"><a href="wrangling-data-to-create-your-first-table.html#cb58-7" aria-hidden="true" tabindex="-1"></a>                  <span class="at">s.height =</span> <span class="fu">sd</span>(height), </span>
<span id="cb58-8"><a href="wrangling-data-to-create-your-first-table.html#cb58-8" aria-hidden="true" tabindex="-1"></a>                  <span class="at">m.weight =</span> <span class="fu">mean</span>(weight), </span>
<span id="cb58-9"><a href="wrangling-data-to-create-your-first-table.html#cb58-9" aria-hidden="true" tabindex="-1"></a>                  <span class="at">s.weight =</span> <span class="fu">sd</span>(weight), </span>
<span id="cb58-10"><a href="wrangling-data-to-create-your-first-table.html#cb58-10" aria-hidden="true" tabindex="-1"></a>                  <span class="at">m.lbm =</span> <span class="fu">mean</span>(LBM), </span>
<span id="cb58-11"><a href="wrangling-data-to-create-your-first-table.html#cb58-11" aria-hidden="true" tabindex="-1"></a>                  <span class="at">s.lbm =</span><span class="fu">sd</span>(LBM)) <span class="sc">%&gt;%</span></span>
<span id="cb58-12"><a href="wrangling-data-to-create-your-first-table.html#cb58-12" aria-hidden="true" tabindex="-1"></a>        <span class="fu">print</span>()</span></code></pre></div>
<p>This was somewhat inefficient. We can add a line and calculate per variable.</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="wrangling-data-to-create-your-first-table.html#cb59-1" aria-hidden="true" tabindex="-1"></a>summary_table <span class="ot">&lt;-</span> dxa <span class="sc">%&gt;%</span></span>
<span id="cb59-2"><a href="wrangling-data-to-create-your-first-table.html#cb59-2" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb59-3"><a href="wrangling-data-to-create-your-first-table.html#cb59-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">pivot_longer</span>(<span class="at">cols =</span> age<span class="sc">:</span>LBM, <span class="at">names_to =</span> <span class="st">&quot;variable&quot;</span>, <span class="at">values_to =</span> <span class="st">&quot;value&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-4"><a href="wrangling-data-to-create-your-first-table.html#cb59-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">group_by</span>(sex, include, variable) <span class="sc">%&gt;%</span></span>
<span id="cb59-5"><a href="wrangling-data-to-create-your-first-table.html#cb59-5" aria-hidden="true" tabindex="-1"></a>        <span class="fu">summarise</span>(<span class="at">m =</span> <span class="fu">mean</span>(value), </span>
<span id="cb59-6"><a href="wrangling-data-to-create-your-first-table.html#cb59-6" aria-hidden="true" tabindex="-1"></a>                  <span class="at">s =</span> <span class="fu">sd</span>(value)) <span class="sc">%&gt;%</span></span>
<span id="cb59-7"><a href="wrangling-data-to-create-your-first-table.html#cb59-7" aria-hidden="true" tabindex="-1"></a>        <span class="fu">print</span>()</span></code></pre></div>
<p>This was more efficient! But it’s not formatted to be a table just yet. Of course there are many ways to create this table. But first, we can format the numbers to make nice presentations. For simplicity, lets say that all numbers will be printed with a single digit. We could use <code>round(x, 1)</code> but this will in some cases produce a number without trailing zero. Instead we will use <code>sprintf("%.1f", x)</code> where x is the number of interest. We will also combine mean and standard deviation to a single cell using the <code>paste0()</code> function. <code>paste0()</code> combines numbers and text into a character string, this means they will lose some information but that is OK.</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="wrangling-data-to-create-your-first-table.html#cb60-1" aria-hidden="true" tabindex="-1"></a>summary_table <span class="ot">&lt;-</span> dxa <span class="sc">%&gt;%</span></span>
<span id="cb60-2"><a href="wrangling-data-to-create-your-first-table.html#cb60-2" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb60-3"><a href="wrangling-data-to-create-your-first-table.html#cb60-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">pivot_longer</span>(<span class="at">cols =</span> age<span class="sc">:</span>LBM, <span class="at">names_to =</span> <span class="st">&quot;variable&quot;</span>, <span class="at">values_to =</span> <span class="st">&quot;value&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb60-4"><a href="wrangling-data-to-create-your-first-table.html#cb60-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">group_by</span>(sex, include, variable) <span class="sc">%&gt;%</span></span>
<span id="cb60-5"><a href="wrangling-data-to-create-your-first-table.html#cb60-5" aria-hidden="true" tabindex="-1"></a>        <span class="fu">summarise</span>(<span class="at">m =</span> <span class="fu">mean</span>(value), </span>
<span id="cb60-6"><a href="wrangling-data-to-create-your-first-table.html#cb60-6" aria-hidden="true" tabindex="-1"></a>                  <span class="at">s =</span> <span class="fu">sd</span>(value)) <span class="sc">%&gt;%</span></span>
<span id="cb60-7"><a href="wrangling-data-to-create-your-first-table.html#cb60-7" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb60-8"><a href="wrangling-data-to-create-your-first-table.html#cb60-8" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">summary =</span> <span class="fu">paste0</span>(<span class="fu">sprintf</span>(<span class="st">&quot;%.1f&quot;</span>, m),</span>
<span id="cb60-9"><a href="wrangling-data-to-create-your-first-table.html#cb60-9" aria-hidden="true" tabindex="-1"></a>                                <span class="st">&quot; (&quot;</span>,</span>
<span id="cb60-10"><a href="wrangling-data-to-create-your-first-table.html#cb60-10" aria-hidden="true" tabindex="-1"></a>                                <span class="fu">sprintf</span>(<span class="st">&quot;%.1f&quot;</span>, s), </span>
<span id="cb60-11"><a href="wrangling-data-to-create-your-first-table.html#cb60-11" aria-hidden="true" tabindex="-1"></a>                                <span class="st">&quot;)&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb60-12"><a href="wrangling-data-to-create-your-first-table.html#cb60-12" aria-hidden="true" tabindex="-1"></a>        <span class="fu">select</span>(sex, include, variable, summary) <span class="sc">%&gt;%</span></span>
<span id="cb60-13"><a href="wrangling-data-to-create-your-first-table.html#cb60-13" aria-hidden="true" tabindex="-1"></a>        <span class="fu">pivot_wider</span>(<span class="at">id_cols =</span> variable, <span class="at">names_from =</span> <span class="fu">c</span>(sex, include), <span class="at">values_from =</span> summary ) <span class="sc">%&gt;%</span></span>
<span id="cb60-14"><a href="wrangling-data-to-create-your-first-table.html#cb60-14" aria-hidden="true" tabindex="-1"></a>        <span class="fu">print</span>()</span></code></pre></div>
<p>The summary table is ready for making a table.</p>
<p>In R Markdown chunk settings, we need to set the output format to <code>results = "asis"</code>. This will print the table correctly. To create the table, all we need to do is to is to pipe it to <code>kable()</code>. In the <code>kable</code> function we can set <code>caption</code> to the represent the title of the table. <code>col.names</code> lets you specify column names without changing variable names, this is handy when you want the same name to repeat many times.</p>
<pre><code>```{r my_table, results=&quot;asis&quot;}
summary_table %&gt;%
        kable(format = &quot;html&quot;, col.names = c(&quot;Variable&quot;, 
                                                &quot;Female excluded&quot;,
                                                &quot;Female included&quot;, 
                                                &quot;Male excluded&quot;, 
                                                &quot;Male included&quot;), 
                                        caption = &quot;Participant characteristics&quot;)
```</code></pre>
<p>We might want to extend the table and make it a bit nicer, this is where <code>kableExtra</code> comes in. Lets say that we want to include a row above Female/Male and only print this information once. After the <code>kable()</code> command, we use commands from the <code>kableExtra</code> package.</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="wrangling-data-to-create-your-first-table.html#cb62-1" aria-hidden="true" tabindex="-1"></a>summary_table <span class="sc">%&gt;%</span></span>
<span id="cb62-2"><a href="wrangling-data-to-create-your-first-table.html#cb62-2" aria-hidden="true" tabindex="-1"></a>        <span class="fu">kable</span>(<span class="at">format =</span> <span class="st">&quot;html&quot;</span>, <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">&quot; &quot;</span>, </span>
<span id="cb62-3"><a href="wrangling-data-to-create-your-first-table.html#cb62-3" aria-hidden="true" tabindex="-1"></a>                                                <span class="st">&quot;Excluded&quot;</span>,</span>
<span id="cb62-4"><a href="wrangling-data-to-create-your-first-table.html#cb62-4" aria-hidden="true" tabindex="-1"></a>                                                <span class="st">&quot;Included&quot;</span>, </span>
<span id="cb62-5"><a href="wrangling-data-to-create-your-first-table.html#cb62-5" aria-hidden="true" tabindex="-1"></a>                                                <span class="st">&quot;Excluded&quot;</span>, </span>
<span id="cb62-6"><a href="wrangling-data-to-create-your-first-table.html#cb62-6" aria-hidden="true" tabindex="-1"></a>                                                <span class="st">&quot;Included&quot;</span>), </span>
<span id="cb62-7"><a href="wrangling-data-to-create-your-first-table.html#cb62-7" aria-hidden="true" tabindex="-1"></a>                                        <span class="at">caption =</span> <span class="st">&quot;Participant characteristics&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb62-8"><a href="wrangling-data-to-create-your-first-table.html#cb62-8" aria-hidden="true" tabindex="-1"></a>                                        <span class="fu">add_header_above</span>(<span class="fu">c</span>(<span class="st">&quot; &quot;</span> <span class="ot">=</span> <span class="dv">1</span>, <span class="st">&quot;Female&quot;</span> <span class="ot">=</span> <span class="dv">2</span>, <span class="st">&quot;Male&quot;</span> <span class="ot">=</span> <span class="dv">2</span>))</span></code></pre></div>
<p>There is still some work to do here, variable names should be with a capital letter, this is most easily done in data preparation stages by changing the variables factor.</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="wrangling-data-to-create-your-first-table.html#cb63-1" aria-hidden="true" tabindex="-1"></a>dxa <span class="sc">%&gt;%</span></span>
<span id="cb63-2"><a href="wrangling-data-to-create-your-first-table.html#cb63-2" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb63-3"><a href="wrangling-data-to-create-your-first-table.html#cb63-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">pivot_longer</span>(<span class="at">cols =</span> age<span class="sc">:</span>LBM, <span class="at">names_to =</span> <span class="st">&quot;variable&quot;</span>, <span class="at">values_to =</span> <span class="st">&quot;value&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb63-4"><a href="wrangling-data-to-create-your-first-table.html#cb63-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">group_by</span>(sex, include, variable) <span class="sc">%&gt;%</span></span>
<span id="cb63-5"><a href="wrangling-data-to-create-your-first-table.html#cb63-5" aria-hidden="true" tabindex="-1"></a>        <span class="fu">summarise</span>(<span class="at">m =</span> <span class="fu">mean</span>(value), </span>
<span id="cb63-6"><a href="wrangling-data-to-create-your-first-table.html#cb63-6" aria-hidden="true" tabindex="-1"></a>                  <span class="at">s =</span> <span class="fu">sd</span>(value)) <span class="sc">%&gt;%</span></span>
<span id="cb63-7"><a href="wrangling-data-to-create-your-first-table.html#cb63-7" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb63-8"><a href="wrangling-data-to-create-your-first-table.html#cb63-8" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">summary =</span> <span class="fu">paste0</span>(<span class="fu">sprintf</span>(<span class="st">&quot;%.1f&quot;</span>, m),</span>
<span id="cb63-9"><a href="wrangling-data-to-create-your-first-table.html#cb63-9" aria-hidden="true" tabindex="-1"></a>                                <span class="st">&quot; (&quot;</span>,</span>
<span id="cb63-10"><a href="wrangling-data-to-create-your-first-table.html#cb63-10" aria-hidden="true" tabindex="-1"></a>                                <span class="fu">sprintf</span>(<span class="st">&quot;%.1f&quot;</span>, s), </span>
<span id="cb63-11"><a href="wrangling-data-to-create-your-first-table.html#cb63-11" aria-hidden="true" tabindex="-1"></a>                                <span class="st">&quot;)&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb63-12"><a href="wrangling-data-to-create-your-first-table.html#cb63-12" aria-hidden="true" tabindex="-1"></a>        <span class="fu">select</span>(sex, include, variable, summary) <span class="sc">%&gt;%</span></span>
<span id="cb63-13"><a href="wrangling-data-to-create-your-first-table.html#cb63-13" aria-hidden="true" tabindex="-1"></a>        <span class="fu">pivot_wider</span>(<span class="at">id_cols =</span> variable, <span class="at">names_from =</span> <span class="fu">c</span>(sex, include), <span class="at">values_from =</span> summary ) <span class="sc">%&gt;%</span></span>
<span id="cb63-14"><a href="wrangling-data-to-create-your-first-table.html#cb63-14" aria-hidden="true" tabindex="-1"></a>        <span class="co"># sort the rows -- create a factor level</span></span>
<span id="cb63-15"><a href="wrangling-data-to-create-your-first-table.html#cb63-15" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">variable =</span> <span class="fu">factor</span>(variable, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;age&quot;</span>, <span class="st">&quot;height&quot;</span>, <span class="st">&quot;weight&quot;</span>, <span class="st">&quot;LBM&quot;</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb63-16"><a href="wrangling-data-to-create-your-first-table.html#cb63-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-17"><a href="wrangling-data-to-create-your-first-table.html#cb63-17" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">Variable =</span> <span class="fu">c</span>(<span class="st">&quot;Age (yrs)&quot;</span>, <span class="st">&quot;Stature (cm)&quot;</span>, <span class="st">&quot;Body mass (kg)&quot;</span>, <span class="st">&quot;Lean body mass (%)&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb63-18"><a href="wrangling-data-to-create-your-first-table.html#cb63-18" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb63-19"><a href="wrangling-data-to-create-your-first-table.html#cb63-19" aria-hidden="true" tabindex="-1"></a>        <span class="fu">arrange</span>(variable) <span class="sc">%&gt;%</span></span>
<span id="cb63-20"><a href="wrangling-data-to-create-your-first-table.html#cb63-20" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb63-21"><a href="wrangling-data-to-create-your-first-table.html#cb63-21" aria-hidden="true" tabindex="-1"></a>        <span class="fu">select</span>(Variable, female_excl<span class="sc">:</span>male_incl) <span class="sc">%&gt;%</span></span>
<span id="cb63-22"><a href="wrangling-data-to-create-your-first-table.html#cb63-22" aria-hidden="true" tabindex="-1"></a>        <span class="fu">kable</span>(<span class="at">format =</span> <span class="st">&quot;html&quot;</span>, <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">&quot; &quot;</span>, </span>
<span id="cb63-23"><a href="wrangling-data-to-create-your-first-table.html#cb63-23" aria-hidden="true" tabindex="-1"></a>                                                <span class="st">&quot;Excluded&quot;</span>,</span>
<span id="cb63-24"><a href="wrangling-data-to-create-your-first-table.html#cb63-24" aria-hidden="true" tabindex="-1"></a>                                                <span class="st">&quot;Included&quot;</span>, </span>
<span id="cb63-25"><a href="wrangling-data-to-create-your-first-table.html#cb63-25" aria-hidden="true" tabindex="-1"></a>                                                <span class="st">&quot;Excluded&quot;</span>, </span>
<span id="cb63-26"><a href="wrangling-data-to-create-your-first-table.html#cb63-26" aria-hidden="true" tabindex="-1"></a>                                                <span class="st">&quot;Included&quot;</span>), </span>
<span id="cb63-27"><a href="wrangling-data-to-create-your-first-table.html#cb63-27" aria-hidden="true" tabindex="-1"></a>                                        <span class="at">caption =</span> <span class="st">&quot;Table 1. Participant characteristics&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb63-28"><a href="wrangling-data-to-create-your-first-table.html#cb63-28" aria-hidden="true" tabindex="-1"></a>                                        <span class="fu">add_header_above</span>(<span class="fu">c</span>(<span class="st">&quot; &quot;</span> <span class="ot">=</span> <span class="dv">1</span>, <span class="st">&quot;Female&quot;</span> <span class="ot">=</span> <span class="dv">2</span>, <span class="st">&quot;Male&quot;</span> <span class="ot">=</span> <span class="dv">2</span>)) </span></code></pre></div>
<p>kableExtra lets us add footnotes using the <code>footnote</code> function. An example of the whole pipe could be:</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="wrangling-data-to-create-your-first-table.html#cb64-1" aria-hidden="true" tabindex="-1"></a>dxa <span class="sc">%&gt;%</span></span>
<span id="cb64-2"><a href="wrangling-data-to-create-your-first-table.html#cb64-2" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb64-3"><a href="wrangling-data-to-create-your-first-table.html#cb64-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">pivot_longer</span>(<span class="at">cols =</span> age<span class="sc">:</span>LBM, <span class="at">names_to =</span> <span class="st">&quot;variable&quot;</span>, <span class="at">values_to =</span> <span class="st">&quot;value&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb64-4"><a href="wrangling-data-to-create-your-first-table.html#cb64-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">group_by</span>(sex, include, variable) <span class="sc">%&gt;%</span></span>
<span id="cb64-5"><a href="wrangling-data-to-create-your-first-table.html#cb64-5" aria-hidden="true" tabindex="-1"></a>        <span class="fu">summarise</span>(<span class="at">m =</span> <span class="fu">mean</span>(value), </span>
<span id="cb64-6"><a href="wrangling-data-to-create-your-first-table.html#cb64-6" aria-hidden="true" tabindex="-1"></a>                  <span class="at">s =</span> <span class="fu">sd</span>(value)) <span class="sc">%&gt;%</span></span>
<span id="cb64-7"><a href="wrangling-data-to-create-your-first-table.html#cb64-7" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb64-8"><a href="wrangling-data-to-create-your-first-table.html#cb64-8" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">summary =</span> <span class="fu">paste0</span>(<span class="fu">sprintf</span>(<span class="st">&quot;%.1f&quot;</span>, m),</span>
<span id="cb64-9"><a href="wrangling-data-to-create-your-first-table.html#cb64-9" aria-hidden="true" tabindex="-1"></a>                                <span class="st">&quot; (&quot;</span>,</span>
<span id="cb64-10"><a href="wrangling-data-to-create-your-first-table.html#cb64-10" aria-hidden="true" tabindex="-1"></a>                                <span class="fu">sprintf</span>(<span class="st">&quot;%.1f&quot;</span>, s), </span>
<span id="cb64-11"><a href="wrangling-data-to-create-your-first-table.html#cb64-11" aria-hidden="true" tabindex="-1"></a>                                <span class="st">&quot;)&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb64-12"><a href="wrangling-data-to-create-your-first-table.html#cb64-12" aria-hidden="true" tabindex="-1"></a>        <span class="fu">select</span>(sex, include, variable, summary) <span class="sc">%&gt;%</span></span>
<span id="cb64-13"><a href="wrangling-data-to-create-your-first-table.html#cb64-13" aria-hidden="true" tabindex="-1"></a>        <span class="fu">pivot_wider</span>(<span class="at">id_cols =</span> variable, <span class="at">names_from =</span> <span class="fu">c</span>(sex, include), <span class="at">values_from =</span> summary ) <span class="sc">%&gt;%</span></span>
<span id="cb64-14"><a href="wrangling-data-to-create-your-first-table.html#cb64-14" aria-hidden="true" tabindex="-1"></a>        <span class="co"># sort the rows -- create a factor level</span></span>
<span id="cb64-15"><a href="wrangling-data-to-create-your-first-table.html#cb64-15" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">variable =</span> <span class="fu">factor</span>(variable, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;age&quot;</span>, <span class="st">&quot;height&quot;</span>, <span class="st">&quot;weight&quot;</span>, <span class="st">&quot;LBM&quot;</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb64-16"><a href="wrangling-data-to-create-your-first-table.html#cb64-16" aria-hidden="true" tabindex="-1"></a>        <span class="fu">arrange</span>(variable) <span class="sc">%&gt;%</span></span>
<span id="cb64-17"><a href="wrangling-data-to-create-your-first-table.html#cb64-17" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">Variable =</span> <span class="fu">c</span>(<span class="st">&quot;Age (yrs)&quot;</span>, <span class="st">&quot;Stature (cm)&quot;</span>, <span class="st">&quot;Body mass (kg)&quot;</span>, <span class="st">&quot;Lean body mass (%)&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb64-18"><a href="wrangling-data-to-create-your-first-table.html#cb64-18" aria-hidden="true" tabindex="-1"></a>        <span class="fu">select</span>(Variable, female_excl<span class="sc">:</span>male_incl) <span class="sc">%&gt;%</span></span>
<span id="cb64-19"><a href="wrangling-data-to-create-your-first-table.html#cb64-19" aria-hidden="true" tabindex="-1"></a>        <span class="fu">kable</span>(<span class="at">format =</span> <span class="st">&quot;html&quot;</span>, <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">&quot; &quot;</span>, </span>
<span id="cb64-20"><a href="wrangling-data-to-create-your-first-table.html#cb64-20" aria-hidden="true" tabindex="-1"></a>                                                <span class="st">&quot;Excluded&quot;</span>,</span>
<span id="cb64-21"><a href="wrangling-data-to-create-your-first-table.html#cb64-21" aria-hidden="true" tabindex="-1"></a>                                                <span class="st">&quot;Included&quot;</span>, </span>
<span id="cb64-22"><a href="wrangling-data-to-create-your-first-table.html#cb64-22" aria-hidden="true" tabindex="-1"></a>                                                <span class="st">&quot;Excluded&quot;</span>, </span>
<span id="cb64-23"><a href="wrangling-data-to-create-your-first-table.html#cb64-23" aria-hidden="true" tabindex="-1"></a>                                                <span class="st">&quot;Included&quot;</span>), </span>
<span id="cb64-24"><a href="wrangling-data-to-create-your-first-table.html#cb64-24" aria-hidden="true" tabindex="-1"></a>                                        <span class="at">caption =</span> <span class="st">&quot;Table 1. Participant characteristics&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb64-25"><a href="wrangling-data-to-create-your-first-table.html#cb64-25" aria-hidden="true" tabindex="-1"></a>                                        <span class="fu">add_header_above</span>(<span class="fu">c</span>(<span class="st">&quot; &quot;</span> <span class="ot">=</span> <span class="dv">1</span>, <span class="st">&quot;Female&quot;</span> <span class="ot">=</span> <span class="dv">2</span>, <span class="st">&quot;Male&quot;</span> <span class="ot">=</span> <span class="dv">2</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb64-26"><a href="wrangling-data-to-create-your-first-table.html#cb64-26" aria-hidden="true" tabindex="-1"></a>                                        <span class="fu">footnote</span>(<span class="at">general =</span> <span class="st">&quot;Values are Mean (SD)&quot;</span>)</span></code></pre></div>
</div>
<div id="final-thoughts-on-knitrkable-and-kableextra" class="section level2" number="6.3">
<h2><span class="header-section-number">6.3</span> Final thoughts on <code>knitr::kable</code> and <code>kableExtra</code></h2>
<p>The <a href="https://cran.r-project.org/web/packages/kableExtra/vignettes/awesome_table_in_html.html">vignette describining the kableExtra package</a> is highly recommended! If you want to extend to pdf-tables (which are really nice!). Use the <span class="math inline">\(\LaTeX\)</span> vignette found <a href="https://cran.r-project.org/web/packages/kableExtra/vignettes/awesome_table_in_pdf.pdf">here</a>. When creating pdf/<span class="math inline">\(\LaTeX\)</span> tables/reports some basic understandning of <span class="math inline">\(\LaTeX\)</span> is good.</p>
</div>
<div id="flextable" class="section level2" number="6.4">
<h2><span class="header-section-number">6.4</span> Flextable</h2>
<p>Flextable comes with the option of specifying tables directly in word outputs. This does not need any further formatting compared to HTML formatting.</p>
<p>Lets use the <code>summary_table</code> to specify the flextable. Flextable also works as part of a pipe. The basic function is <code>flextable</code>.</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="wrangling-data-to-create-your-first-table.html#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(flextable)</span>
<span id="cb65-2"><a href="wrangling-data-to-create-your-first-table.html#cb65-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-3"><a href="wrangling-data-to-create-your-first-table.html#cb65-3" aria-hidden="true" tabindex="-1"></a>summary_table <span class="sc">%&gt;%</span></span>
<span id="cb65-4"><a href="wrangling-data-to-create-your-first-table.html#cb65-4" aria-hidden="true" tabindex="-1"></a>   <span class="fu">flextable</span>()</span></code></pre></div>
<p>We can now add changes to the underlying table and add new header labels to produce a table similar to the one above.</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="wrangling-data-to-create-your-first-table.html#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(flextable)</span>
<span id="cb66-2"><a href="wrangling-data-to-create-your-first-table.html#cb66-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-3"><a href="wrangling-data-to-create-your-first-table.html#cb66-3" aria-hidden="true" tabindex="-1"></a>summary_table <span class="sc">%&gt;%</span></span>
<span id="cb66-4"><a href="wrangling-data-to-create-your-first-table.html#cb66-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">variable =</span> <span class="fu">factor</span>(variable, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;age&quot;</span>, <span class="st">&quot;height&quot;</span>, <span class="st">&quot;weight&quot;</span>, <span class="st">&quot;LBM&quot;</span>), </span>
<span id="cb66-5"><a href="wrangling-data-to-create-your-first-table.html#cb66-5" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;Age (yrs)&quot;</span>, </span>
<span id="cb66-6"><a href="wrangling-data-to-create-your-first-table.html#cb66-6" aria-hidden="true" tabindex="-1"></a>                                          <span class="st">&quot;Stature (cm)&quot;</span>, </span>
<span id="cb66-7"><a href="wrangling-data-to-create-your-first-table.html#cb66-7" aria-hidden="true" tabindex="-1"></a>                                          <span class="st">&quot;Body mass (kg)&quot;</span>,</span>
<span id="cb66-8"><a href="wrangling-data-to-create-your-first-table.html#cb66-8" aria-hidden="true" tabindex="-1"></a>                                          <span class="st">&quot;Lean body mass (%)&quot;</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb66-9"><a href="wrangling-data-to-create-your-first-table.html#cb66-9" aria-hidden="true" tabindex="-1"></a>   <span class="fu">flextable</span>()  <span class="sc">%&gt;%</span></span>
<span id="cb66-10"><a href="wrangling-data-to-create-your-first-table.html#cb66-10" aria-hidden="true" tabindex="-1"></a>   <span class="fu">set_header_labels</span>(<span class="at">variable =</span> <span class="st">&quot;&quot;</span>,</span>
<span id="cb66-11"><a href="wrangling-data-to-create-your-first-table.html#cb66-11" aria-hidden="true" tabindex="-1"></a>                    <span class="at">female_excl =</span> <span class="st">&quot;Exclude&quot;</span>, </span>
<span id="cb66-12"><a href="wrangling-data-to-create-your-first-table.html#cb66-12" aria-hidden="true" tabindex="-1"></a>                     <span class="at">female_incl =</span> <span class="st">&quot;Include&quot;</span>,</span>
<span id="cb66-13"><a href="wrangling-data-to-create-your-first-table.html#cb66-13" aria-hidden="true" tabindex="-1"></a>                     <span class="at">male_excl =</span> <span class="st">&quot;Exclude&quot;</span>, </span>
<span id="cb66-14"><a href="wrangling-data-to-create-your-first-table.html#cb66-14" aria-hidden="true" tabindex="-1"></a>                     <span class="at">male_incl =</span> <span class="st">&quot;Include&quot;</span>)</span></code></pre></div>
<p>Note that flextable does not need <code>output = "asis"</code> to work in markdown files. Similar to kable, flextable can give a preview by just running the code, meaning you do not have to knit the whole document to see what changes you have done.</p>
<p>Lets finnish up by adding a header and a footnote.</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="wrangling-data-to-create-your-first-table.html#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(flextable)</span>
<span id="cb67-2"><a href="wrangling-data-to-create-your-first-table.html#cb67-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-3"><a href="wrangling-data-to-create-your-first-table.html#cb67-3" aria-hidden="true" tabindex="-1"></a>summary_table <span class="sc">%&gt;%</span></span>
<span id="cb67-4"><a href="wrangling-data-to-create-your-first-table.html#cb67-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">variable =</span> <span class="fu">factor</span>(variable, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;age&quot;</span>, <span class="st">&quot;height&quot;</span>, <span class="st">&quot;weight&quot;</span>, <span class="st">&quot;LBM&quot;</span>), </span>
<span id="cb67-5"><a href="wrangling-data-to-create-your-first-table.html#cb67-5" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;Age (yrs)&quot;</span>, </span>
<span id="cb67-6"><a href="wrangling-data-to-create-your-first-table.html#cb67-6" aria-hidden="true" tabindex="-1"></a>                                          <span class="st">&quot;Stature (cm)&quot;</span>, </span>
<span id="cb67-7"><a href="wrangling-data-to-create-your-first-table.html#cb67-7" aria-hidden="true" tabindex="-1"></a>                                          <span class="st">&quot;Body mass (kg)&quot;</span>,</span>
<span id="cb67-8"><a href="wrangling-data-to-create-your-first-table.html#cb67-8" aria-hidden="true" tabindex="-1"></a>                                          <span class="st">&quot;Lean body mass (%)&quot;</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb67-9"><a href="wrangling-data-to-create-your-first-table.html#cb67-9" aria-hidden="true" tabindex="-1"></a>   <span class="fu">flextable</span>()  <span class="sc">%&gt;%</span></span>
<span id="cb67-10"><a href="wrangling-data-to-create-your-first-table.html#cb67-10" aria-hidden="true" tabindex="-1"></a>   <span class="fu">set_header_labels</span>(<span class="at">variable =</span> <span class="st">&quot;&quot;</span>,</span>
<span id="cb67-11"><a href="wrangling-data-to-create-your-first-table.html#cb67-11" aria-hidden="true" tabindex="-1"></a>                    <span class="at">female_excl =</span> <span class="st">&quot;Exclude&quot;</span>, </span>
<span id="cb67-12"><a href="wrangling-data-to-create-your-first-table.html#cb67-12" aria-hidden="true" tabindex="-1"></a>                     <span class="at">female_incl =</span> <span class="st">&quot;Include&quot;</span>,</span>
<span id="cb67-13"><a href="wrangling-data-to-create-your-first-table.html#cb67-13" aria-hidden="true" tabindex="-1"></a>                     <span class="at">male_excl =</span> <span class="st">&quot;Exclude&quot;</span>, </span>
<span id="cb67-14"><a href="wrangling-data-to-create-your-first-table.html#cb67-14" aria-hidden="true" tabindex="-1"></a>                     <span class="at">male_incl =</span> <span class="st">&quot;Include&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb67-15"><a href="wrangling-data-to-create-your-first-table.html#cb67-15" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Adds a header specified for all columns of the table</span></span>
<span id="cb67-16"><a href="wrangling-data-to-create-your-first-table.html#cb67-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_header_row</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;&quot;</span>, <span class="st">&quot;Female&quot;</span>, <span class="st">&quot;Female&quot;</span>, <span class="st">&quot;Male&quot;</span>, <span class="st">&quot;Male&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb67-17"><a href="wrangling-data-to-create-your-first-table.html#cb67-17" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb67-18"><a href="wrangling-data-to-create-your-first-table.html#cb67-18" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Merge the new cells with the same data</span></span>
<span id="cb67-19"><a href="wrangling-data-to-create-your-first-table.html#cb67-19" aria-hidden="true" tabindex="-1"></a>    <span class="co"># part = &quot;header&quot; meands that we want to add a row in the &quot;header&quot; part of the table.</span></span>
<span id="cb67-20"><a href="wrangling-data-to-create-your-first-table.html#cb67-20" aria-hidden="true" tabindex="-1"></a>    <span class="co"># i = 1 means row 1</span></span>
<span id="cb67-21"><a href="wrangling-data-to-create-your-first-table.html#cb67-21" aria-hidden="true" tabindex="-1"></a>    <span class="co"># j = 2:3 means column 2 to 3</span></span>
<span id="cb67-22"><a href="wrangling-data-to-create-your-first-table.html#cb67-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">merge_at</span>(<span class="at">part =</span> <span class="st">&quot;header&quot;</span>, <span class="at">i =</span> <span class="dv">1</span>, <span class="at">j =</span> <span class="dv">2</span><span class="sc">:</span><span class="dv">3</span>) <span class="sc">%&gt;%</span></span>
<span id="cb67-23"><a href="wrangling-data-to-create-your-first-table.html#cb67-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">merge_at</span>(<span class="at">part =</span> <span class="st">&quot;header&quot;</span>, <span class="at">i =</span> <span class="dv">1</span>, <span class="at">j =</span> <span class="dv">4</span><span class="sc">:</span><span class="dv">5</span>) <span class="sc">%&gt;%</span></span>
<span id="cb67-24"><a href="wrangling-data-to-create-your-first-table.html#cb67-24" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Add footnote</span></span>
<span id="cb67-25"><a href="wrangling-data-to-create-your-first-table.html#cb67-25" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_footer_row</span>(<span class="at">values =</span> <span class="st">&quot;Values are mean and (SD)&quot;</span>, <span class="at">colwidths =</span> <span class="dv">5</span>) <span class="sc">%&gt;%</span></span>
<span id="cb67-26"><a href="wrangling-data-to-create-your-first-table.html#cb67-26" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Make the columns widths match the content</span></span>
<span id="cb67-27"><a href="wrangling-data-to-create-your-first-table.html#cb67-27" aria-hidden="true" tabindex="-1"></a>    <span class="fu">autofit</span>()</span></code></pre></div>
<p>Nice! This table should print if the code chunk is included in a R Markdown file and the output is choosen to be “Knit to word.” See <a href="https://davidgohel.github.io/flextable/">flextable documentation</a> for more customizations.</p>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="17">
<li id="fn17"><p>See for example the <a href="https://gt.rstudio.com/index.html">description of the <code>gt</code> package</a> that list a bunch of table generators.<a href="wrangling-data-to-create-your-first-table.html#fnref17" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="creating-your-first-graph.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="writing-your-first-reproducible-report.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["quant-methods.pdf"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
