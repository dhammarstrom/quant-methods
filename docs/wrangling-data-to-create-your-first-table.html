<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 6 Wrangling data to create your first table | Quantitative methods and statistics (In Sport and Exercise Science)</title>
  <meta name="description" content="These course notes let’s you follow along in the course Quantitative methods and Statistics (IDR4000) as given at the Section for Health and Exercise Physiology, Inland University of Applied Sciences. Cover image Created with BioRender.com." />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 6 Wrangling data to create your first table | Quantitative methods and statistics (In Sport and Exercise Science)" />
  <meta property="og:type" content="book" />
  
  <meta property="og:image" content="images/cover.png" />
  <meta property="og:description" content="These course notes let’s you follow along in the course Quantitative methods and Statistics (IDR4000) as given at the Section for Health and Exercise Physiology, Inland University of Applied Sciences. Cover image Created with BioRender.com." />
  <meta name="github-repo" content="dhammarstrom/quant-methods" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 6 Wrangling data to create your first table | Quantitative methods and statistics (In Sport and Exercise Science)" />
  
  <meta name="twitter:description" content="These course notes let’s you follow along in the course Quantitative methods and Statistics (IDR4000) as given at the Section for Health and Exercise Physiology, Inland University of Applied Sciences. Cover image Created with BioRender.com." />
  <meta name="twitter:image" content="images/cover.png" />

<meta name="author" content="Daniel Hammarström" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="creating-your-first-graph.html"/>
<link rel="next" href="writing-your-first-reproducible-report.html"/>
<script src="libs/header-attrs-2.5/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Quantitative methods and statistics (In Sport and Exercise Science)</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#practical-information"><i class="fa fa-check"></i><b>1.1</b> Practical information</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="index.html"><a href="index.html#learning-objectives"><i class="fa fa-check"></i><b>1.1.1</b> Learning objectives</a></li>
<li class="chapter" data-level="1.1.2" data-path="index.html"><a href="index.html#learning-strategies"><i class="fa fa-check"></i><b>1.1.2</b> Learning strategies</a></li>
<li class="chapter" data-level="1.1.3" data-path="index.html"><a href="index.html#course-evaluation"><i class="fa fa-check"></i><b>1.1.3</b> Course evaluation</a></li>
<li class="chapter" data-level="1.1.4" data-path="index.html"><a href="index.html#lecturers-and-course-administration"><i class="fa fa-check"></i><b>1.1.4</b> Lecturers and course administration</a></li>
<li class="chapter" data-level="1.1.5" data-path="index.html"><a href="index.html#updates-notifications-and-general-communication"><i class="fa fa-check"></i><b>1.1.5</b> Updates, notifications and general communication</a></li>
<li class="chapter" data-level="1.1.6" data-path="index.html"><a href="index.html#literature"><i class="fa fa-check"></i><b>1.1.6</b> Literature</a></li>
<li class="chapter" data-level="1.1.7" data-path="index.html"><a href="index.html#grades"><i class="fa fa-check"></i><b>1.1.7</b> Grades</a></li>
<li class="chapter" data-level="1.1.8" data-path="index.html"><a href="index.html#language"><i class="fa fa-check"></i><b>1.1.8</b> Language</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#assignments-and-portfolio-exam"><i class="fa fa-check"></i><b>1.2</b> Assignments and Portfolio exam</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#other-information"><i class="fa fa-check"></i><b>1.3</b> Other information</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="introduction-to-data-science.html"><a href="introduction-to-data-science.html"><i class="fa fa-check"></i><b>2</b> Introduction to data science</a>
<ul>
<li class="chapter" data-level="2.1" data-path="introduction-to-data-science.html"><a href="introduction-to-data-science.html#about-data-in-the-world-of-sport-and-exercise"><i class="fa fa-check"></i><b>2.1</b> About data in the world of sport and exercise</a></li>
<li class="chapter" data-level="2.2" data-path="introduction-to-data-science.html"><a href="introduction-to-data-science.html#replication-and-reproducibility"><i class="fa fa-check"></i><b>2.2</b> Replication and Reproducibility</a></li>
<li class="chapter" data-level="2.3" data-path="introduction-to-data-science.html"><a href="introduction-to-data-science.html#tools-in-data-science"><i class="fa fa-check"></i><b>2.3</b> Tools in data science</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="storing-data-in-spreadsheets.html"><a href="storing-data-in-spreadsheets.html"><i class="fa fa-check"></i><b>3</b> Storing data in spreadsheets</a>
<ul>
<li class="chapter" data-level="3.1" data-path="storing-data-in-spreadsheets.html"><a href="storing-data-in-spreadsheets.html#cells-and-simple-functions"><i class="fa fa-check"></i><b>3.1</b> Cells and simple functions</a></li>
<li class="chapter" data-level="3.2" data-path="storing-data-in-spreadsheets.html"><a href="storing-data-in-spreadsheets.html#tidy-data-and-data-storage"><i class="fa fa-check"></i><b>3.2</b> Tidy data and data storage</a></li>
<li class="chapter" data-level="3.3" data-path="storing-data-in-spreadsheets.html"><a href="storing-data-in-spreadsheets.html#recording-data"><i class="fa fa-check"></i><b>3.3</b> Recording data</a></li>
<li class="chapter" data-level="3.4" data-path="storing-data-in-spreadsheets.html"><a href="storing-data-in-spreadsheets.html#saving-data"><i class="fa fa-check"></i><b>3.4</b> Saving data</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="installing-and-starting-up-r-and-r-studio.html"><a href="installing-and-starting-up-r-and-r-studio.html"><i class="fa fa-check"></i><b>4</b> Installing and starting up R (and R Studio)</a>
<ul>
<li class="chapter" data-level="4.1" data-path="installing-and-starting-up-r-and-r-studio.html"><a href="installing-and-starting-up-r-and-r-studio.html#installing-r"><i class="fa fa-check"></i><b>4.1</b> Installing R</a></li>
<li class="chapter" data-level="4.2" data-path="installing-and-starting-up-r-and-r-studio.html"><a href="installing-and-starting-up-r-and-r-studio.html#installing-r-studio"><i class="fa fa-check"></i><b>4.2</b> Installing R Studio</a></li>
<li class="chapter" data-level="4.3" data-path="installing-and-starting-up-r-and-r-studio.html"><a href="installing-and-starting-up-r-and-r-studio.html#getting-to-know-r-and-rstudio"><i class="fa fa-check"></i><b>4.3</b> Getting to know R and RStudio</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="installing-and-starting-up-r-and-r-studio.html"><a href="installing-and-starting-up-r-and-r-studio.html#the-source"><i class="fa fa-check"></i><b>4.3.1</b> The source</a></li>
<li class="chapter" data-level="4.3.2" data-path="installing-and-starting-up-r-and-r-studio.html"><a href="installing-and-starting-up-r-and-r-studio.html#environment"><i class="fa fa-check"></i><b>4.3.2</b> Environment</a></li>
<li class="chapter" data-level="4.3.3" data-path="installing-and-starting-up-r-and-r-studio.html"><a href="installing-and-starting-up-r-and-r-studio.html#the-console"><i class="fa fa-check"></i><b>4.3.3</b> The console</a></li>
<li class="chapter" data-level="4.3.4" data-path="installing-and-starting-up-r-and-r-studio.html"><a href="installing-and-starting-up-r-and-r-studio.html#files-plots-packages-and-help-files"><i class="fa fa-check"></i><b>4.3.4</b> Files, plots, packages and help files</a></li>
<li class="chapter" data-level="4.3.5" data-path="installing-and-starting-up-r-and-r-studio.html"><a href="installing-and-starting-up-r-and-r-studio.html#customizing-the-apperance-of-rstudio"><i class="fa fa-check"></i><b>4.3.5</b> Customizing the apperance of RStudio</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="installing-and-starting-up-r-and-r-studio.html"><a href="installing-and-starting-up-r-and-r-studio.html#reproducible-computing"><i class="fa fa-check"></i><b>4.4</b> Reproducible computing</a></li>
<li class="chapter" data-level="4.5" data-path="installing-and-starting-up-r-and-r-studio.html"><a href="installing-and-starting-up-r-and-r-studio.html#packages"><i class="fa fa-check"></i><b>4.5</b> Packages</a></li>
<li class="chapter" data-level="4.6" data-path="installing-and-starting-up-r-and-r-studio.html"><a href="installing-and-starting-up-r-and-r-studio.html#installing-and-using-swirl"><i class="fa fa-check"></i><b>4.6</b> Installing and using <code>swirl</code></a></li>
<li class="chapter" data-level="4.7" data-path="installing-and-starting-up-r-and-r-studio.html"><a href="installing-and-starting-up-r-and-r-studio.html#r-scripts"><i class="fa fa-check"></i><b>4.7</b> R scripts</a></li>
<li class="chapter" data-level="4.8" data-path="installing-and-starting-up-r-and-r-studio.html"><a href="installing-and-starting-up-r-and-r-studio.html#r-markdown-files"><i class="fa fa-check"></i><b>4.8</b> R markdown files</a>
<ul>
<li class="chapter" data-level="4.8.1" data-path="installing-and-starting-up-r-and-r-studio.html"><a href="installing-and-starting-up-r-and-r-studio.html#starting-up-your-first-r-markdown-file"><i class="fa fa-check"></i><b>4.8.1</b> Starting up your first R markdown file</a></li>
<li class="chapter" data-level="4.8.2" data-path="installing-and-starting-up-r-and-r-studio.html"><a href="installing-and-starting-up-r-and-r-studio.html#microsoft-word-intergration"><i class="fa fa-check"></i><b>4.8.2</b> Microsoft Word intergration</a></li>
<li class="chapter" data-level="4.8.3" data-path="installing-and-starting-up-r-and-r-studio.html"><a href="installing-and-starting-up-r-and-r-studio.html#adding-references"><i class="fa fa-check"></i><b>4.8.3</b> Adding references</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="creating-your-first-graph.html"><a href="creating-your-first-graph.html"><i class="fa fa-check"></i><b>5</b> Creating your first graph</a>
<ul>
<li class="chapter" data-level="5.1" data-path="creating-your-first-graph.html"><a href="creating-your-first-graph.html#resources"><i class="fa fa-check"></i><b>5.1</b> Resources</a></li>
<li class="chapter" data-level="5.2" data-path="creating-your-first-graph.html"><a href="creating-your-first-graph.html#learning-objectives-1"><i class="fa fa-check"></i><b>5.2</b> Learning objectives</a></li>
<li class="chapter" data-level="5.3" data-path="creating-your-first-graph.html"><a href="creating-your-first-graph.html#prerequisites"><i class="fa fa-check"></i><b>5.3</b> Prerequisites</a></li>
<li class="chapter" data-level="5.4" data-path="creating-your-first-graph.html"><a href="creating-your-first-graph.html#the-ggplot2-system"><i class="fa fa-check"></i><b>5.4</b> The <code>ggplot2</code> system</a></li>
<li class="chapter" data-level="5.5" data-path="creating-your-first-graph.html"><a href="creating-your-first-graph.html#different-geoms-using-real-data"><i class="fa fa-check"></i><b>5.5</b> Different geoms using real data</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="creating-your-first-graph.html"><a href="creating-your-first-graph.html#a-plot-of-values-per-group"><i class="fa fa-check"></i><b>5.5.1</b> A plot of values per group</a></li>
<li class="chapter" data-level="5.5.2" data-path="creating-your-first-graph.html"><a href="creating-your-first-graph.html#data-over-time-per-group-and-individual"><i class="fa fa-check"></i><b>5.5.2</b> Data over time per group and individual</a></li>
<li class="chapter" data-level="5.5.3" data-path="creating-your-first-graph.html"><a href="creating-your-first-graph.html#titles-and-labels"><i class="fa fa-check"></i><b>5.5.3</b> Titles and labels</a></li>
<li class="chapter" data-level="5.5.4" data-path="creating-your-first-graph.html"><a href="creating-your-first-graph.html#annotations"><i class="fa fa-check"></i><b>5.5.4</b> Annotations</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="creating-your-first-graph.html"><a href="creating-your-first-graph.html#themes"><i class="fa fa-check"></i><b>5.6</b> Themes</a></li>
<li class="chapter" data-level="5.7" data-path="creating-your-first-graph.html"><a href="creating-your-first-graph.html#test-your-understandning"><i class="fa fa-check"></i><b>5.7</b> Test your understandning</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="wrangling-data-to-create-your-first-table.html"><a href="wrangling-data-to-create-your-first-table.html"><i class="fa fa-check"></i><b>6</b> Wrangling data to create your first table</a>
<ul>
<li class="chapter" data-level="6.0.1" data-path="wrangling-data-to-create-your-first-table.html"><a href="wrangling-data-to-create-your-first-table.html#resources-1"><i class="fa fa-check"></i><b>6.0.1</b> Resources</a></li>
<li class="chapter" data-level="6.1" data-path="wrangling-data-to-create-your-first-table.html"><a href="wrangling-data-to-create-your-first-table.html#making-table-1"><i class="fa fa-check"></i><b>6.1</b> Making “Table 1”</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="wrangling-data-to-create-your-first-table.html"><a href="wrangling-data-to-create-your-first-table.html#the-pipe-operator-and-select"><i class="fa fa-check"></i><b>6.1.1</b> The pipe operator and select</a></li>
<li class="chapter" data-level="6.1.2" data-path="wrangling-data-to-create-your-first-table.html"><a href="wrangling-data-to-create-your-first-table.html#filter-observations"><i class="fa fa-check"></i><b>6.1.2</b> Filter observations</a></li>
<li class="chapter" data-level="6.1.3" data-path="wrangling-data-to-create-your-first-table.html"><a href="wrangling-data-to-create-your-first-table.html#create-or-change-variables"><i class="fa fa-check"></i><b>6.1.3</b> Create or change variables</a></li>
<li class="chapter" data-level="6.1.4" data-path="wrangling-data-to-create-your-first-table.html"><a href="wrangling-data-to-create-your-first-table.html#grouped-operations-and-summary-statistics"><i class="fa fa-check"></i><b>6.1.4</b> Grouped operations and summary statistics</a></li>
<li class="chapter" data-level="6.1.5" data-path="wrangling-data-to-create-your-first-table.html"><a href="wrangling-data-to-create-your-first-table.html#starting-the-table-generator---the-kable-function"><i class="fa fa-check"></i><b>6.1.5</b> Starting the table generator - The <code>kable</code> function</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="wrangling-data-to-create-your-first-table.html"><a href="wrangling-data-to-create-your-first-table.html#summary"><i class="fa fa-check"></i><b>6.2</b> Summary</a></li>
<li class="chapter" data-level="6.3" data-path="wrangling-data-to-create-your-first-table.html"><a href="wrangling-data-to-create-your-first-table.html#flextable"><i class="fa fa-check"></i><b>6.3</b> Flextable</a></li>
<li class="chapter" data-level="6.4" data-path="wrangling-data-to-create-your-first-table.html"><a href="wrangling-data-to-create-your-first-table.html#an-exercise-reproduce-table-1-from-rn2225"><i class="fa fa-check"></i><b>6.4</b> An exercise, reproduce Table 1 from <span class="citation">(<span>Haun et al. 2019</span>)</span></a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="writing-your-first-reproducible-report.html"><a href="writing-your-first-reproducible-report.html"><i class="fa fa-check"></i><b>7</b> Writing your first reproducible report</a>
<ul>
<li class="chapter" data-level="7.1" data-path="writing-your-first-reproducible-report.html"><a href="writing-your-first-reproducible-report.html#rstudio-projects-and-your-reproducible-report"><i class="fa fa-check"></i><b>7.1</b> RStudio projects and your reproducible report</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="version-control-and-collaborative-coding-introducing-git-and-github-com.html"><a href="version-control-and-collaborative-coding-introducing-git-and-github-com.html"><i class="fa fa-check"></i><b>8</b> Version control and collaborative coding – introducing git and github.com</a></li>
<li class="chapter" data-level="9" data-path="reliability-in-the-physiology-lab.html"><a href="reliability-in-the-physiology-lab.html"><i class="fa fa-check"></i><b>9</b> Reliability in the physiology lab</a></li>
<li class="chapter" data-level="10" data-path="assignment1.html"><a href="assignment1.html"><i class="fa fa-check"></i><b>10</b> Assignment 1: Reliability and tools for reproducible data science</a>
<ul>
<li class="chapter" data-level="10.1" data-path="assignment1.html"><a href="assignment1.html#elements-of-the-report"><i class="fa fa-check"></i><b>10.1</b> Elements of the report</a></li>
<li class="chapter" data-level="10.2" data-path="assignment1.html"><a href="assignment1.html#the-format-of-the-report"><i class="fa fa-check"></i><b>10.2</b> The format of the report</a></li>
<li class="chapter" data-level="10.3" data-path="assignment1.html"><a href="assignment1.html#how-to-hand-in-the-report."><i class="fa fa-check"></i><b>10.3</b> How to hand in the report.</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="introduction-to-the-molecular-exercise-physiology-lab.html"><a href="introduction-to-the-molecular-exercise-physiology-lab.html"><i class="fa fa-check"></i><b>11</b> Introduction to the molecular exercise physiology lab</a></li>
<li class="chapter" data-level="12" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i><b>12</b> References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Quantitative methods and statistics (In Sport and Exercise Science)</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="wrangling-data-to-create-your-first-table" class="section level1" number="6">
<h1><span class="header-section-number">Chapter 6</span> Wrangling data to create your first table</h1>
<p>Tables can be created as part of a R markdown document. This is because most “table generators” actually converts your code into an output format based on the rules of that particular format. The most common format to work with when you are building your analysis is html. Tables are special since their creation depend more heavily on the output format compared to other elements of R markdown documents. For example, when using the <code>kable</code> function from the <code>knitr</code> package you have to specify if you want html or latex output. Word output is not possible using the <code>knitr</code> package, but other table generators in rmarkdown (such as <code>flextable</code>) <em>can</em> produce word output, meaning you can put tables in word documents from your R markdown file. There are several alternatives for generating tables<a href="#fn17" class="footnote-ref" id="fnref17"><sup>17</sup></a>. We will start by exploring the built-in function in the <code>knitr</code> package.</p>
<p>The basic work-flow of creating a table in R markdown is to first transform the data into a nice format and then get this underlying data into the table generator. The table generator is written in a code chunk and upon rendering of the R markdown file, the table generator will create, for example, html output.</p>
<p>In this chapter we will also introduce some data wrangling tools since the table we will produce consists of summarized data. The functions we will introduce are found in the pakages <code>dplyr</code> and <code>tidyr</code>. These packages are loaded as part of the <code>tidyverse</code> package.</p>
<div id="resources-1" class="section level3" number="6.0.1">
<h3><span class="header-section-number">6.0.1</span> Resources</h3>
<p>All <code>tidyverse</code>packages are <a href="https://www.tidyverse.org/">well documented</a> and generally well represented in help forums. Google is your friend when looking for help.</p>
<p>The <code>kable</code> function is described in a newly developed book, available online called <a href="https://bookdown.org/yihui/rmarkdown-cookbook/kable.html">the R Markdown Cookbook</a>. The package, <code>kableExtra</code> comes with excellent <a href="https://cran.r-project.org/web/packages/kableExtra/">vignettes</a> for both html and pdf outputs. <code>kableExtra</code> provides extra functions to customize your basic <code>knitr</code> table.</p>
</div>
<div id="making-table-1" class="section level2" number="6.1">
<h2><span class="header-section-number">6.1</span> Making “Table 1”</h2>
<p>The first table in many report in sport and exercise studies is the “Participant characteristics” table. This first table summarizes background information on the participants. We will try to create this table based on data from <span class="citation">(<a href="references.html#ref-RN2358" role="doc-biblioref">Hammarström et al. 2020</a>)</span>. These data can be found in the <code>exscidata</code> package. To load the data and other required packages run the following code.</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="wrangling-data-to-create-your-first-table.html#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse) <span class="co"># for data wrangling</span></span>
<span id="cb55-2"><a href="wrangling-data-to-create-your-first-table.html#cb55-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr) <span class="co"># for table creation</span></span>
<span id="cb55-3"><a href="wrangling-data-to-create-your-first-table.html#cb55-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra) <span class="co"># for extra styling of the table</span></span>
<span id="cb55-4"><a href="wrangling-data-to-create-your-first-table.html#cb55-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(exscidata) <span class="co"># the dxadata</span></span></code></pre></div>
<p>The end result of this exercise can be found below in Table @(tab:table1-example). This summary table contains the average and standard deviation per group for the variables age, body mass and stature (height) and body fat as a percentage of the body mass. This table is a reproduction of the first part of Table 1 from <span class="citation">(<a href="references.html#ref-RN2358" role="doc-biblioref">Hammarström et al. 2020</a>)</span>.</p>
<table class="table" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="empty-cells: hide;border-bottom:hidden;" colspan="1">
</th>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
Female
</div>
</th>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
Male
</div>
</th>
</tr>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:left;">
Included
</th>
<th style="text-align:left;">
Excluded
</th>
<th style="text-align:left;">
Included
</th>
<th style="text-align:left;">
Excluded
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
N
</td>
<td style="text-align:left;">
18
</td>
<td style="text-align:left;">
4
</td>
<td style="text-align:left;">
16
</td>
<td style="text-align:left;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
Age (years)
</td>
<td style="text-align:left;">
22 (1.3)
</td>
<td style="text-align:left;">
22.9 (1.6)
</td>
<td style="text-align:left;">
23.6 (4.1)
</td>
<td style="text-align:left;">
24.3 (1.5)
</td>
</tr>
<tr>
<td style="text-align:left;">
Mass (kg)
</td>
<td style="text-align:left;">
64.4 (10)
</td>
<td style="text-align:left;">
64.6 (9.7)
</td>
<td style="text-align:left;">
75.8 (11)
</td>
<td style="text-align:left;">
88.2 (22)
</td>
</tr>
<tr>
<td style="text-align:left;">
Stature (cm)
</td>
<td style="text-align:left;">
168 (6.9)
</td>
<td style="text-align:left;">
166 (7.6)
</td>
<td style="text-align:left;">
183 (5.9)
</td>
<td style="text-align:left;">
189 (4.6)
</td>
</tr>
<tr>
<td style="text-align:left;">
Body fat (%)
</td>
<td style="text-align:left;">
34.1 (5.6)
</td>
<td style="text-align:left;">
28.8 (8.7)
</td>
<td style="text-align:left;">
20.4 (6)
</td>
<td style="text-align:left;">
24.3 (15)
</td>
</tr>
</tbody>
</table>
<p>We have to make several operations to re-create this table. First we can select the columns we want to work with further from the data set that also contains a lot of other variables. Let us start by looking at the full data set. Below we use the function <code>glmipse</code> from the <code>dplyr</code>tibble<code>package (which is also loaded with</code>tidyverse`).</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="wrangling-data-to-create-your-first-table.html#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&quot;dxadata&quot;</span>)</span>
<span id="cb56-2"><a href="wrangling-data-to-create-your-first-table.html#cb56-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-3"><a href="wrangling-data-to-create-your-first-table.html#cb56-3" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(dxadata)</span></code></pre></div>
<pre><code>## Rows: 80
## Columns: 59
## $ participant      &lt;chr&gt; &quot;FP28&quot;, &quot;FP40&quot;, &quot;FP21&quot;, &quot;FP34&quot;, &quot;FP23&quot;, &quot;FP26&quot;, &quot;FP36&quot;, &quot;FP38&quot;, &quot;FP25&quot;, ...
## $ time             &lt;chr&gt; &quot;pre&quot;, &quot;pre&quot;, &quot;pre&quot;, &quot;pre&quot;, &quot;pre&quot;, &quot;pre&quot;, &quot;pre&quot;, &quot;pre&quot;, &quot;pre&quot;, &quot;pre&quot;, &quot;p...
## $ multiple         &lt;chr&gt; &quot;L&quot;, &quot;R&quot;, &quot;R&quot;, &quot;R&quot;, &quot;R&quot;, &quot;R&quot;, &quot;L&quot;, &quot;R&quot;, &quot;R&quot;, &quot;L&quot;, &quot;L&quot;, &quot;R&quot;, &quot;R&quot;, &quot;R&quot;, &quot;R...
## $ single           &lt;chr&gt; &quot;R&quot;, &quot;L&quot;, &quot;L&quot;, &quot;L&quot;, &quot;L&quot;, &quot;L&quot;, &quot;R&quot;, &quot;L&quot;, &quot;L&quot;, &quot;R&quot;, &quot;R&quot;, &quot;L&quot;, &quot;L&quot;, &quot;L&quot;, &quot;L...
## $ sex              &lt;chr&gt; &quot;female&quot;, &quot;female&quot;, &quot;male&quot;, &quot;female&quot;, &quot;male&quot;, &quot;female&quot;, &quot;female&quot;, &quot;femal...
## $ include          &lt;chr&gt; &quot;incl&quot;, &quot;incl&quot;, &quot;incl&quot;, &quot;incl&quot;, &quot;incl&quot;, &quot;excl&quot;, &quot;incl&quot;, &quot;incl&quot;, &quot;incl&quot;, ...
## $ age              &lt;dbl&gt; 24.5, 22.1, 26.8, 23.1, 24.8, 24.2, 20.5, 20.6, 37.4, 22.3, 22.7, 21.3, ...
## $ height           &lt;dbl&gt; 170.0, 175.0, 184.0, 164.0, 176.5, 163.0, 158.0, 181.0, 183.0, 178.5, 18...
## $ weight           &lt;dbl&gt; 66.5, 64.0, 85.0, 53.0, 68.5, 56.0, 60.5, 83.5, 65.0, 73.5, 69.0, 67.5, ...
## $ BMD.head         &lt;dbl&gt; 2.477, 1.916, 2.306, 2.163, 2.108, 2.866, 1.849, 2.216, 1.987, 2.038, 1....
## $ BMD.arms         &lt;dbl&gt; 0.9520, 0.8150, 0.9800, 0.8760, 0.9170, 0.9730, 0.8710, 0.9120, 0.9270, ...
## $ BMD.legs         &lt;dbl&gt; 1.430, 1.218, 1.598, 1.256, 1.402, 1.488, 1.372, 1.428, 1.460, 1.489, 1....
## $ BMD.body         &lt;dbl&gt; 1.044, 0.860, 1.060, 0.842, 0.925, 0.984, 0.923, 1.015, 0.949, 1.059, 0....
## $ BMD.ribs         &lt;dbl&gt; 0.770, 0.630, 0.765, 0.636, 0.721, 0.737, 0.648, 0.707, 0.695, 0.789, 0....
## $ BMD.pelvis       &lt;dbl&gt; 1.252, 1.078, 1.314, 1.044, 1.154, 1.221, 1.194, 1.328, 1.204, 1.291, 1....
## $ BMD.spine        &lt;dbl&gt; 1.316, 0.979, 1.293, 0.899, 1.047, 1.089, 1.006, 1.147, 1.013, 1.216, 1....
## $ BMD.whole        &lt;dbl&gt; 1.268, 1.082, 1.325, 1.119, 1.181, 1.350, 1.166, 1.242, 1.210, 1.265, 1....
## $ fat.left_arm     &lt;dbl&gt; 1168, 715, 871, 610, 788, 372, 932, 1312, 388, 668, 510, 947, 371, 1335,...
## $ fat.left_leg     &lt;dbl&gt; 4469, 4696, 3467, 3023, 3088, 2100, 4674, 5435, 1873, 2305, 2484, 3971, ...
## $ fat.left_body    &lt;dbl&gt; 6280, 4061, 7740, 3638, 6018, 2328, 4896, 9352, 2921, 5251, 2881, 4315, ...
## $ fat.left_whole   &lt;dbl&gt; 12365, 9846, 12518, 7565, 10259, 5048, 10736, 16499, 5392, 8525, 6160, 9...
## $ fat.right_arm    &lt;dbl&gt; 1205, 769, 871, 610, 741, 374, 940, 1292, 413, 716, 500, 916, 371, 1364,...
## $ fat.right_leg    &lt;dbl&gt; 4497, 4900, 3444, 3017, 3254, 2082, 4756, 5455, 1782, 2330, 2456, 3918, ...
## $ fat.right_body   &lt;dbl&gt; 6082, 3923, 8172, 3602, 5699, 2144, 4705, 8674, 2640, 5234, 2714, 4072, ...
## $ fat.right_whole  &lt;dbl&gt; 12102, 9862, 12856, 7479, 10020, 4821, 10806, 15876, 5048, 8527, 5894, 9...
## $ fat.arms         &lt;dbl&gt; 2373, 1484, 1742, 1220, 1529, 747, 1872, 2604, 802, 1384, 1010, 1863, 74...
## $ fat.legs         &lt;dbl&gt; 8965, 9596, 6911, 6040, 6342, 4182, 9430, 10890, 3655, 4635, 4940, 7889,...
## $ fat.body         &lt;dbl&gt; 12362, 7984, 15912, 7239, 11717, 4472, 9601, 18026, 5561, 10485, 5594, 8...
## $ fat.android      &lt;dbl&gt; 1880, 963, 2460, 1203, 1933, 527, 1663, 3183, 1240, 1728, 835, 1025, 111...
## $ fat.gynoid       &lt;dbl&gt; 5064, 5032, 4779, 3739, 4087, 2740, 5217, 6278, 2309, 3532, 2668, 4090, ...
## $ fat.whole        &lt;dbl&gt; 24467, 19708, 25374, 15044, 20278, 9869, 21542, 32375, 10440, 17051, 120...
## $ lean.left_arm    &lt;dbl&gt; 1987, 1931, 2884, 1753, 2652, 2425, 1913, 2266, 3066, 3760, 2991, 2529, ...
## $ lean.left_leg    &lt;dbl&gt; 7059, 7190, 10281, 6014, 8242, 7903, 6829, 8889, 9664, 9704, 10086, 8570...
## $ lean.left_body   &lt;dbl&gt; 9516, 10693, 13847, 9736, 11387, 10573, 8954, 11482, 13580, 13831, 12876...
## $ lean.left_whole  &lt;dbl&gt; 20305, 21778, 29332, 19143, 24185, 22946, 18809, 24318, 28124, 29381, 28...
## $ lean.right_arm   &lt;dbl&gt; 2049, 2081, 2888, 1754, 2487, 2439, 1930, 2236, 3253, 4051, 2930, 2447, ...
## $ lean.right_leg   &lt;dbl&gt; 7104, 7506, 10200, 6009, 8685, 7841, 6950, 8923, 9198, 9806, 9971, 8459,...
## $ lean.right_body  &lt;dbl&gt; 9199, 10304, 14593, 9636, 10779, 9733, 8602, 10672, 12288, 13789, 12125,...
## $ lean.right_whole &lt;dbl&gt; 19605, 21310, 29643, 18792, 23653, 21837, 19407, 23727, 26586, 29359, 26...
## $ lean.arms        &lt;dbl&gt; 4036, 4012, 5773, 3508, 5139, 4864, 3843, 4501, 6319, 7811, 5921, 4975, ...
## $ lean.legs        &lt;dbl&gt; 14163, 14696, 20482, 12023, 16928, 15744, 13779, 17812, 18862, 19509, 20...
## $ lean.body        &lt;dbl&gt; 18715, 20998, 28440, 19372, 22166, 20306, 17556, 22155, 25868, 27621, 25...
## $ lean.android     &lt;dbl&gt; 2669, 2782, 3810, 2455, 2904, 2656, 2297, 3094, 3344, 3644, 3144, 3073, ...
## $ lean.gynoid      &lt;dbl&gt; 6219, 7209, 10233, 5866, 7525, 5970, 5825, 8175, 7760, 9646, 8776, 6966,...
## $ lean.whole       &lt;dbl&gt; 39910, 43088, 58976, 37934, 47837, 44783, 38216, 48045, 54710, 58740, 55...
## $ BMC.left_arm     &lt;dbl&gt; 181, 138, 204, 144, 180, 173, 140, 173, 220, 226, 225, 179, 287, 167, 25...
## $ BMC.left_leg     &lt;dbl&gt; 567, 508, 728, 441, 562, 574, 482, 631, 633, 630, 672, 631, 880, 482, 70...
## $ BMC.left_body    &lt;dbl&gt; 622, 414, 696, 367, 526, 465, 370, 629, 473, 629, 509, 513, 677, 397, 75...
## $ BMC.left_whole   &lt;dbl&gt; 1680, 1321, 1945, 1201, 1527, 1580, 1131, 1688, 1544, 1750, 1671, 1581, ...
## $ BMC.right_arm    &lt;dbl&gt; 198, 150, 210, 142, 176, 183, 140, 176, 224, 251, 226, 167, 295, 166, 26...
## $ BMC.right_leg    &lt;dbl&gt; 574, 514, 739, 431, 552, 565, 491, 641, 622, 636, 690, 652, 874, 478, 71...
## $ BMC.right_body   &lt;dbl&gt; 592, 428, 730, 351, 502, 409, 358, 582, 420, 616, 483, 450, 688, 379, 67...
## $ BMC.right_whole  &lt;dbl&gt; 1582, 1288, 1958, 1130, 1451, 1466, 1229, 1668, 1478, 1720, 1600, 1507, ...
## $ BMC.arms         &lt;dbl&gt; 379, 288, 414, 285, 356, 357, 280, 348, 444, 478, 451, 346, 582, 333, 51...
## $ BMC.legs         &lt;dbl&gt; 1142, 1022, 1467, 872, 1115, 1139, 974, 1272, 1255, 1266, 1362, 1283, 17...
## $ BMC.body         &lt;dbl&gt; 1214, 842, 1426, 718, 1028, 874, 728, 1211, 893, 1245, 992, 964, 1365, 7...
## $ BMC.android      &lt;dbl&gt; 80, 57, 90, 44, 56, 54, 43, 77, 52, 72, 59, 60, 65, 52, 87, 44, 43, 41, ...
## $ BMC.gynoid       &lt;dbl&gt; 314, 285, 427, 245, 299, 262, 241, 379, 335, 378, 332, 307, 441, 247, 43...
## $ BMC.whole        &lt;dbl&gt; 3261, 2609, 3903, 2331, 2978, 3046, 2360, 3356, 3022, 3469, 3271, 3088, ...</code></pre>
<p>We can see that we got 80 rows and 59 columns in the dataset. The columns of interest to us are:</p>
<ul>
<li>participant</li>
<li>time</li>
<li>sex</li>
<li>include</li>
<li>age</li>
<li>height</li>
<li>weight</li>
<li>fat.whole</li>
</ul>
<p>For a full description of the data set, you can type <code>?dxadata</code> in your console. The <code>participant</code> columns is good to have to keep track of the dataset in the beginning. You might want to have this information to perform “sanity checks” on some results. <code>time</code> is needed to remove some observation that are not needed. This pre-training table only sums up information from before the intervention starts. <code>sex</code> is a grouping variable together with <code>include</code>, Table 1 in <span class="citation">(<a href="references.html#ref-RN2358" role="doc-biblioref">Hammarström et al. 2020</a>)</span> uses Sex and Inclusion in data analysis as grouping for descriptive data. The other variables are used to describe the data sample.</p>
<div id="the-pipe-operator-and-select" class="section level3" number="6.1.1">
<h3><span class="header-section-number">6.1.1</span> The pipe operator and select</h3>
<p>As mentioned above, we will start by selecting the variables we want to work further with. Using the <code>select</code> function from dplyr we can select columns that we need. In the code below I will use select as part of a “pipe.” Think of the pipe as doing operations in sequel. Each time you use the pipe operator (<code>%&gt;%</code>) you say “then do.” The code below translates to:</p>
<ul>
<li>Take the dataset <code>dxadata</code>, <em>then do</em></li>
<li><code>select</code> the following variables, <em>then do</em></li>
<li>print</li>
</ul>
<p><code>print</code>, is a function that outputs the results of the operations. In each new function of a pipe, the data that we take with us from the above line ends up as the first argument. A representation of this behavior can be expressed as:</p>
<p><code>DATA %&gt;%   FUNCTION(DATA, ARGUMENTS) %&gt;%   FUNCTION(DATA, ARGUMENTS) %&gt;%   FUNCTION(DATA)</code></p>
<p>We do not need to type the data part, instead the pipe operator (<code>%&gt;%</code>) gathers the data from each step and puts it in the subsequent function.</p>
<p>Copy the code below to your own script or Rmarkdown document and run it. If you use a Rmarkdown document (.Rmd), you might want to set “Chunk output in console” in the settings menu. In my experience, this makes developing code a bit faster.</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="wrangling-data-to-create-your-first-table.html#cb58-1" aria-hidden="true" tabindex="-1"></a>dxadata <span class="sc">%&gt;%</span> <span class="co"># take the dxadata data set</span></span>
<span id="cb58-2"><a href="wrangling-data-to-create-your-first-table.html#cb58-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(participant, time, sex, include<span class="sc">:</span>weight, fat.whole) <span class="sc">%&gt;%</span> </span>
<span id="cb58-3"><a href="wrangling-data-to-create-your-first-table.html#cb58-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># select participant, time, sex, include to height and fat.whole</span></span>
<span id="cb58-4"><a href="wrangling-data-to-create-your-first-table.html#cb58-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>() <span class="co"># print the output</span></span></code></pre></div>
<p>Notice that I have added short comments after each line to make it clear what I want to accomplish. We will build further on the above code, and this is a common work-flow. Using pipes, it is easy to extend the code by adding lines doing certain operations, one at the time. Notice also that the select function uses a list of variable names with <code>include:weight</code> being short for "take all variables <em>from</em> include <em>to</em> weight.</p>
</div>
<div id="filter-observations" class="section level3" number="6.1.2">
<h3><span class="header-section-number">6.1.2</span> Filter observations</h3>
<p>The next step will be to filter observations. We need to remove the observations that comes from the post-intervention tests. The <code>time</code> variable contains to values <code>pre</code> and <code>post</code> to remove post-values we need to tell R to remove these all observations (rows) containing <code>post</code>. We will use the <code>filter</code> function from dplyr. This will be our first experience with logical operators. Let’s try out to alternatives, copy the code to your console to see the results.</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="wrangling-data-to-create-your-first-table.html#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Alternative 1: ##</span></span>
<span id="cb59-2"><a href="wrangling-data-to-create-your-first-table.html#cb59-2" aria-hidden="true" tabindex="-1"></a>dxadata <span class="sc">%&gt;%</span> <span class="co"># take the dxadata data set</span></span>
<span id="cb59-3"><a href="wrangling-data-to-create-your-first-table.html#cb59-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(participant, time, sex, include<span class="sc">:</span>weight, fat.whole) <span class="sc">%&gt;%</span> </span>
<span id="cb59-4"><a href="wrangling-data-to-create-your-first-table.html#cb59-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># select participant, time, sex, include to height and fat.whole</span></span>
<span id="cb59-5"><a href="wrangling-data-to-create-your-first-table.html#cb59-5" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb59-6"><a href="wrangling-data-to-create-your-first-table.html#cb59-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Filter away all observation with &quot;post&quot;</span></span>
<span id="cb59-7"><a href="wrangling-data-to-create-your-first-table.html#cb59-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(time <span class="sc">!=</span> <span class="st">&quot;post&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-8"><a href="wrangling-data-to-create-your-first-table.html#cb59-8" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb59-9"><a href="wrangling-data-to-create-your-first-table.html#cb59-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>() <span class="co"># print the output</span></span>
<span id="cb59-10"><a href="wrangling-data-to-create-your-first-table.html#cb59-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-11"><a href="wrangling-data-to-create-your-first-table.html#cb59-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-12"><a href="wrangling-data-to-create-your-first-table.html#cb59-12" aria-hidden="true" tabindex="-1"></a><span class="do">## Alternative 2: ##</span></span>
<span id="cb59-13"><a href="wrangling-data-to-create-your-first-table.html#cb59-13" aria-hidden="true" tabindex="-1"></a>dxadata <span class="sc">%&gt;%</span> <span class="co"># take the dxadata data set</span></span>
<span id="cb59-14"><a href="wrangling-data-to-create-your-first-table.html#cb59-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(participant, time, sex, include<span class="sc">:</span>weight, fat.whole) <span class="sc">%&gt;%</span> </span>
<span id="cb59-15"><a href="wrangling-data-to-create-your-first-table.html#cb59-15" aria-hidden="true" tabindex="-1"></a>  <span class="co"># select participant, time, sex, include to height and fat.whole</span></span>
<span id="cb59-16"><a href="wrangling-data-to-create-your-first-table.html#cb59-16" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb59-17"><a href="wrangling-data-to-create-your-first-table.html#cb59-17" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Filter to keep all observations with pre</span></span>
<span id="cb59-18"><a href="wrangling-data-to-create-your-first-table.html#cb59-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(time <span class="sc">==</span> <span class="st">&quot;pre&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-19"><a href="wrangling-data-to-create-your-first-table.html#cb59-19" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb59-20"><a href="wrangling-data-to-create-your-first-table.html#cb59-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>() <span class="co"># print the output</span></span></code></pre></div>
<p>The above code should give the same output. The operator <code>!=</code> says “not equal to,” the operator <code>==</code> says equal to. Notice that R uses two equal signs to say equal to. A single equal sign is used as an assignment operator in R.</p>
</div>
<div id="create-or-change-variables" class="section level3" number="6.1.3">
<h3><span class="header-section-number">6.1.3</span> Create or change variables</h3>
<p>The next problem for us is that we need to manipulate or combine information from two variables in order to calculate body fat percentage. The formula that we will use is simply expressing body fat as a percentage of the body weight.</p>
<p><span class="math display">\[Body~fat~(\%) = \frac{Body~fat~(g)/1000}{Body~weight~(kg)} \times 100\]</span>
By using the mutate function we can add or manipulate existing variables in a pipe. Mutate takes as arguments a list of new variables:</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="wrangling-data-to-create-your-first-table.html#cb60-1" aria-hidden="true" tabindex="-1"></a>dxadata <span class="sc">%&gt;%</span> <span class="co"># take the dxadata data set</span></span>
<span id="cb60-2"><a href="wrangling-data-to-create-your-first-table.html#cb60-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(participant, time, sex, include<span class="sc">:</span>weight, fat.whole) <span class="sc">%&gt;%</span> </span>
<span id="cb60-3"><a href="wrangling-data-to-create-your-first-table.html#cb60-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># select participant, time, sex, include to height and fat.whole</span></span>
<span id="cb60-4"><a href="wrangling-data-to-create-your-first-table.html#cb60-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb60-5"><a href="wrangling-data-to-create-your-first-table.html#cb60-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Filter to keep all observations with pre</span></span>
<span id="cb60-6"><a href="wrangling-data-to-create-your-first-table.html#cb60-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(time <span class="sc">==</span> <span class="st">&quot;pre&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb60-7"><a href="wrangling-data-to-create-your-first-table.html#cb60-7" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb60-8"><a href="wrangling-data-to-create-your-first-table.html#cb60-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate body fat</span></span>
<span id="cb60-9"><a href="wrangling-data-to-create-your-first-table.html#cb60-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># fat.whole in grams, needs to be divided by 1000 to express as kg</span></span>
<span id="cb60-10"><a href="wrangling-data-to-create-your-first-table.html#cb60-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Multiply by 100 to get percentage</span></span>
<span id="cb60-11"><a href="wrangling-data-to-create-your-first-table.html#cb60-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">fat.whole =</span> ((fat.whole<span class="sc">/</span><span class="dv">1000</span>) <span class="sc">/</span> weight) <span class="sc">*</span> <span class="dv">100</span>) <span class="sc">%&gt;%</span></span>
<span id="cb60-12"><a href="wrangling-data-to-create-your-first-table.html#cb60-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>() <span class="co"># print the output</span></span></code></pre></div>
<p>In the code above, we “replace” the variable <code>fat.whole</code> with the re-calculated variable.</p>
</div>
<div id="grouped-operations-and-summary-statistics" class="section level3" number="6.1.4">
<h3><span class="header-section-number">6.1.4</span> Grouped operations and summary statistics</h3>
<p>In a pipe, we can group the data set giving us opportunities to calculate summary statistics over one or several grouping variables. In Table 1 in <span class="citation">(<a href="references.html#ref-RN2358" role="doc-biblioref">Hammarström et al. 2020</a>)</span>, <code>include</code> and <code>sex</code> are the two grouping variables. Using the <code>group_by()</code> function from <code>dplyr</code> sets a grouping of the data frame. If we use functions that summarizes data, such summarizes will be per group. In Table 1 in <span class="citation">(<a href="references.html#ref-RN2358" role="doc-biblioref">Hammarström et al. 2020</a>)</span> the number of participants in each group are specified. We can use the function <code>n()</code> to calculate the number of observations per group in a <code>mutate</code> call.</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="wrangling-data-to-create-your-first-table.html#cb61-1" aria-hidden="true" tabindex="-1"></a>dxadata <span class="sc">%&gt;%</span> <span class="co"># take the dxadata data set</span></span>
<span id="cb61-2"><a href="wrangling-data-to-create-your-first-table.html#cb61-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(participant, time, sex, include<span class="sc">:</span>weight, fat.whole) <span class="sc">%&gt;%</span> </span>
<span id="cb61-3"><a href="wrangling-data-to-create-your-first-table.html#cb61-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># select participant, time, sex, include to height and fat.whole</span></span>
<span id="cb61-4"><a href="wrangling-data-to-create-your-first-table.html#cb61-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb61-5"><a href="wrangling-data-to-create-your-first-table.html#cb61-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Filter to keep all observations with pre</span></span>
<span id="cb61-6"><a href="wrangling-data-to-create-your-first-table.html#cb61-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(time <span class="sc">==</span> <span class="st">&quot;pre&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb61-7"><a href="wrangling-data-to-create-your-first-table.html#cb61-7" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb61-8"><a href="wrangling-data-to-create-your-first-table.html#cb61-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate body fat</span></span>
<span id="cb61-9"><a href="wrangling-data-to-create-your-first-table.html#cb61-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># fat.whole in grams, needs to be divided by 1000 to express as kg</span></span>
<span id="cb61-10"><a href="wrangling-data-to-create-your-first-table.html#cb61-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Multiply by 100 to get percentage</span></span>
<span id="cb61-11"><a href="wrangling-data-to-create-your-first-table.html#cb61-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">fat.whole =</span> ((fat.whole<span class="sc">/</span><span class="dv">1000</span>) <span class="sc">/</span> weight) <span class="sc">*</span> <span class="dv">100</span>) <span class="sc">%&gt;%</span></span>
<span id="cb61-12"><a href="wrangling-data-to-create-your-first-table.html#cb61-12" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb61-13"><a href="wrangling-data-to-create-your-first-table.html#cb61-13" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Group the data frame and add a variable specifying the number of observations per group</span></span>
<span id="cb61-14"><a href="wrangling-data-to-create-your-first-table.html#cb61-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(include, sex) <span class="sc">%&gt;%</span></span>
<span id="cb61-15"><a href="wrangling-data-to-create-your-first-table.html#cb61-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb61-16"><a href="wrangling-data-to-create-your-first-table.html#cb61-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>() <span class="co"># print the output</span></span></code></pre></div>
<p>The new variable <code>n</code> now contains the number of observations in each group. For now we can regard this as a new variable. Each participant belongs to a specified group, and this specific group has <code>n</code> number of members.</p>
<p>We can now go further and use the <code>summarise</code> function. Instead of adding variables to the existing data set, summarize reduces the data set using some summarizing function, such as <code>mean()</code> or <code>sd()</code>. These estimates are what we are looking for in our data set. Example of other summarizing functions for descriptive data are <code>min()</code> and <code>max()</code> for the minimum and maximum.</p>
<p>We can use the <code>summarise()</code> function to calculate the mean and standard deviation for the weight variable.</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="wrangling-data-to-create-your-first-table.html#cb62-1" aria-hidden="true" tabindex="-1"></a>dxadata <span class="sc">%&gt;%</span> <span class="co"># take the dxadata data set</span></span>
<span id="cb62-2"><a href="wrangling-data-to-create-your-first-table.html#cb62-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(participant, time, sex, include<span class="sc">:</span>weight, fat.whole) <span class="sc">%&gt;%</span> </span>
<span id="cb62-3"><a href="wrangling-data-to-create-your-first-table.html#cb62-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># select participant, time, sex, include to height and fat.whole</span></span>
<span id="cb62-4"><a href="wrangling-data-to-create-your-first-table.html#cb62-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb62-5"><a href="wrangling-data-to-create-your-first-table.html#cb62-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Filter to keep all observations with pre</span></span>
<span id="cb62-6"><a href="wrangling-data-to-create-your-first-table.html#cb62-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(time <span class="sc">==</span> <span class="st">&quot;pre&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb62-7"><a href="wrangling-data-to-create-your-first-table.html#cb62-7" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb62-8"><a href="wrangling-data-to-create-your-first-table.html#cb62-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate body fat</span></span>
<span id="cb62-9"><a href="wrangling-data-to-create-your-first-table.html#cb62-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># fat.whole in grams, needs to be divided by 1000 to express as kg</span></span>
<span id="cb62-10"><a href="wrangling-data-to-create-your-first-table.html#cb62-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Multiply by 100 to get percentage</span></span>
<span id="cb62-11"><a href="wrangling-data-to-create-your-first-table.html#cb62-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">fat.whole =</span> ((fat.whole<span class="sc">/</span><span class="dv">1000</span>) <span class="sc">/</span> weight) <span class="sc">*</span> <span class="dv">100</span>) <span class="sc">%&gt;%</span></span>
<span id="cb62-12"><a href="wrangling-data-to-create-your-first-table.html#cb62-12" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb62-13"><a href="wrangling-data-to-create-your-first-table.html#cb62-13" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Group the data frame and add a variable specifying the number of observations per group</span></span>
<span id="cb62-14"><a href="wrangling-data-to-create-your-first-table.html#cb62-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(include, sex) <span class="sc">%&gt;%</span></span>
<span id="cb62-15"><a href="wrangling-data-to-create-your-first-table.html#cb62-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb62-16"><a href="wrangling-data-to-create-your-first-table.html#cb62-16" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Summarise weight</span></span>
<span id="cb62-17"><a href="wrangling-data-to-create-your-first-table.html#cb62-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">weight.m =</span> <span class="fu">mean</span>(weight), </span>
<span id="cb62-18"><a href="wrangling-data-to-create-your-first-table.html#cb62-18" aria-hidden="true" tabindex="-1"></a>            <span class="at">weight.s =</span> <span class="fu">sd</span>(weight)) <span class="sc">%&gt;%</span></span>
<span id="cb62-19"><a href="wrangling-data-to-create-your-first-table.html#cb62-19" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb62-20"><a href="wrangling-data-to-create-your-first-table.html#cb62-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>() <span class="co"># print the output</span></span></code></pre></div>
<p>Try out the code in your own script. The above example gives us what we want, however, it means that we need to type a lot. Instead of needing to make a summary for each variable, we can combine the variables in a long format. To get to the long format we will use the <code>pivot_longer()</code> function. This function gathers several variables into two columns, one with the variables names as values and a second column with each value from the original variables. In our case we want to gather the variables <code>age</code>, <code>height</code>, <code>weight</code>, <code>fat.whole</code> and <code>n</code>. I will call the new variables that we create <code>variable</code> and <code>value</code>.</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="wrangling-data-to-create-your-first-table.html#cb63-1" aria-hidden="true" tabindex="-1"></a>dxadata <span class="sc">%&gt;%</span> <span class="co"># take the dxadata data set</span></span>
<span id="cb63-2"><a href="wrangling-data-to-create-your-first-table.html#cb63-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(participant, time, sex, include<span class="sc">:</span>weight, fat.whole) <span class="sc">%&gt;%</span> </span>
<span id="cb63-3"><a href="wrangling-data-to-create-your-first-table.html#cb63-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># select participant, time, sex, include to height and fat.whole</span></span>
<span id="cb63-4"><a href="wrangling-data-to-create-your-first-table.html#cb63-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb63-5"><a href="wrangling-data-to-create-your-first-table.html#cb63-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Filter to keep all observations with pre</span></span>
<span id="cb63-6"><a href="wrangling-data-to-create-your-first-table.html#cb63-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(time <span class="sc">==</span> <span class="st">&quot;pre&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb63-7"><a href="wrangling-data-to-create-your-first-table.html#cb63-7" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb63-8"><a href="wrangling-data-to-create-your-first-table.html#cb63-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate body fat</span></span>
<span id="cb63-9"><a href="wrangling-data-to-create-your-first-table.html#cb63-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># fat.whole in grams, needs to be divided by 1000 to express as kg</span></span>
<span id="cb63-10"><a href="wrangling-data-to-create-your-first-table.html#cb63-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Multiply by 100 to get percentage</span></span>
<span id="cb63-11"><a href="wrangling-data-to-create-your-first-table.html#cb63-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">fat.whole =</span> ((fat.whole<span class="sc">/</span><span class="dv">1000</span>) <span class="sc">/</span> weight) <span class="sc">*</span> <span class="dv">100</span>) <span class="sc">%&gt;%</span></span>
<span id="cb63-12"><a href="wrangling-data-to-create-your-first-table.html#cb63-12" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb63-13"><a href="wrangling-data-to-create-your-first-table.html#cb63-13" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Group the data frame and add a variable specifying the number of observations per group</span></span>
<span id="cb63-14"><a href="wrangling-data-to-create-your-first-table.html#cb63-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(include, sex) <span class="sc">%&gt;%</span></span>
<span id="cb63-15"><a href="wrangling-data-to-create-your-first-table.html#cb63-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb63-16"><a href="wrangling-data-to-create-your-first-table.html#cb63-16" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Collect all variables for convenient summarizing</span></span>
<span id="cb63-17"><a href="wrangling-data-to-create-your-first-table.html#cb63-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">names_to =</span> <span class="st">&quot;variable&quot;</span>, </span>
<span id="cb63-18"><a href="wrangling-data-to-create-your-first-table.html#cb63-18" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">&quot;value&quot;</span>, </span>
<span id="cb63-19"><a href="wrangling-data-to-create-your-first-table.html#cb63-19" aria-hidden="true" tabindex="-1"></a>               <span class="at">cols =</span> age<span class="sc">:</span>n) <span class="sc">%&gt;%</span></span>
<span id="cb63-20"><a href="wrangling-data-to-create-your-first-table.html#cb63-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>()</span></code></pre></div>
<p>The <code>cols = age:n</code> part of pivot_longer specifies what columns to gather. The dataset is still grouped by <code>include</code> and <code>sex</code>. We may now proceed by summarizing over these groups, however, we need to add another group to specify that we want differnt numbers per variable. To do this we re-specify the grouping. After this we add the <code>summarize</code> function.</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="wrangling-data-to-create-your-first-table.html#cb64-1" aria-hidden="true" tabindex="-1"></a>dxadata <span class="sc">%&gt;%</span> <span class="co"># take the dxadata data set</span></span>
<span id="cb64-2"><a href="wrangling-data-to-create-your-first-table.html#cb64-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(participant, time, sex, include<span class="sc">:</span>weight, fat.whole) <span class="sc">%&gt;%</span> </span>
<span id="cb64-3"><a href="wrangling-data-to-create-your-first-table.html#cb64-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># select participant, time, sex, include to height and fat.whole</span></span>
<span id="cb64-4"><a href="wrangling-data-to-create-your-first-table.html#cb64-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb64-5"><a href="wrangling-data-to-create-your-first-table.html#cb64-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Filter to keep all observations with pre</span></span>
<span id="cb64-6"><a href="wrangling-data-to-create-your-first-table.html#cb64-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(time <span class="sc">==</span> <span class="st">&quot;pre&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb64-7"><a href="wrangling-data-to-create-your-first-table.html#cb64-7" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb64-8"><a href="wrangling-data-to-create-your-first-table.html#cb64-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate body fat</span></span>
<span id="cb64-9"><a href="wrangling-data-to-create-your-first-table.html#cb64-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># fat.whole in grams, needs to be divided by 1000 to express as kg</span></span>
<span id="cb64-10"><a href="wrangling-data-to-create-your-first-table.html#cb64-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Multiply by 100 to get percentage</span></span>
<span id="cb64-11"><a href="wrangling-data-to-create-your-first-table.html#cb64-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">fat.whole =</span> ((fat.whole<span class="sc">/</span><span class="dv">1000</span>) <span class="sc">/</span> weight) <span class="sc">*</span> <span class="dv">100</span>) <span class="sc">%&gt;%</span></span>
<span id="cb64-12"><a href="wrangling-data-to-create-your-first-table.html#cb64-12" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb64-13"><a href="wrangling-data-to-create-your-first-table.html#cb64-13" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Group the data frame and add a variable specifying the number of observations per group</span></span>
<span id="cb64-14"><a href="wrangling-data-to-create-your-first-table.html#cb64-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(include, sex) <span class="sc">%&gt;%</span></span>
<span id="cb64-15"><a href="wrangling-data-to-create-your-first-table.html#cb64-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb64-16"><a href="wrangling-data-to-create-your-first-table.html#cb64-16" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Collect all variables for convenient summarizing</span></span>
<span id="cb64-17"><a href="wrangling-data-to-create-your-first-table.html#cb64-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">names_to =</span> <span class="st">&quot;variable&quot;</span>, </span>
<span id="cb64-18"><a href="wrangling-data-to-create-your-first-table.html#cb64-18" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">&quot;value&quot;</span>, </span>
<span id="cb64-19"><a href="wrangling-data-to-create-your-first-table.html#cb64-19" aria-hidden="true" tabindex="-1"></a>               <span class="at">cols =</span> age<span class="sc">:</span>n) <span class="sc">%&gt;%</span></span>
<span id="cb64-20"><a href="wrangling-data-to-create-your-first-table.html#cb64-20" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create a new grouping, adding variable</span></span>
<span id="cb64-21"><a href="wrangling-data-to-create-your-first-table.html#cb64-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(include, sex, variable) <span class="sc">%&gt;%</span></span>
<span id="cb64-22"><a href="wrangling-data-to-create-your-first-table.html#cb64-22" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Summarize in two new variables m for mean and s for SD</span></span>
<span id="cb64-23"><a href="wrangling-data-to-create-your-first-table.html#cb64-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">m =</span> <span class="fu">mean</span>(value), </span>
<span id="cb64-24"><a href="wrangling-data-to-create-your-first-table.html#cb64-24" aria-hidden="true" tabindex="-1"></a>            <span class="at">s =</span> <span class="fu">sd</span>(value)) <span class="sc">%&gt;%</span></span>
<span id="cb64-25"><a href="wrangling-data-to-create-your-first-table.html#cb64-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>()</span></code></pre></div>
<p>If you run the above code you will notice that the the standard deviation of each variable is larger than zero except for <code>n</code> which has no variability. This is because we created it per group and simply calculated it as the sum of observations.</p>
<p>Take a look at <a href="https://physoc.onlinelibrary.wiley.com/doi/full/10.1113/JP278455">Table 1</a> in <span class="citation">(<a href="references.html#ref-RN2358" role="doc-biblioref">Hammarström et al. 2020</a>)</span>. The format of the descriptive statistics are mean (SD), this is a preferred way of reporting these estimates. In order to achieve this we need to “manually” convert the numbers. In the example below, I will start by making a new variable by simply pasting the numbers together. I will also add the brackets.</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="wrangling-data-to-create-your-first-table.html#cb65-1" aria-hidden="true" tabindex="-1"></a>dxadata <span class="sc">%&gt;%</span> <span class="co"># take the dxadata data set</span></span>
<span id="cb65-2"><a href="wrangling-data-to-create-your-first-table.html#cb65-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(participant, time, sex, include<span class="sc">:</span>weight, fat.whole) <span class="sc">%&gt;%</span> </span>
<span id="cb65-3"><a href="wrangling-data-to-create-your-first-table.html#cb65-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># select participant, time, sex, include to height and fat.whole</span></span>
<span id="cb65-4"><a href="wrangling-data-to-create-your-first-table.html#cb65-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb65-5"><a href="wrangling-data-to-create-your-first-table.html#cb65-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Filter to keep all observations with pre</span></span>
<span id="cb65-6"><a href="wrangling-data-to-create-your-first-table.html#cb65-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(time <span class="sc">==</span> <span class="st">&quot;pre&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb65-7"><a href="wrangling-data-to-create-your-first-table.html#cb65-7" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb65-8"><a href="wrangling-data-to-create-your-first-table.html#cb65-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate body fat</span></span>
<span id="cb65-9"><a href="wrangling-data-to-create-your-first-table.html#cb65-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># fat.whole in grams, needs to be divided by 1000 to express as kg</span></span>
<span id="cb65-10"><a href="wrangling-data-to-create-your-first-table.html#cb65-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Multiply by 100 to get percentage</span></span>
<span id="cb65-11"><a href="wrangling-data-to-create-your-first-table.html#cb65-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">fat.whole =</span> ((fat.whole<span class="sc">/</span><span class="dv">1000</span>) <span class="sc">/</span> weight) <span class="sc">*</span> <span class="dv">100</span>) <span class="sc">%&gt;%</span></span>
<span id="cb65-12"><a href="wrangling-data-to-create-your-first-table.html#cb65-12" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb65-13"><a href="wrangling-data-to-create-your-first-table.html#cb65-13" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Group the data frame and add a variable specifying the number of observations per group</span></span>
<span id="cb65-14"><a href="wrangling-data-to-create-your-first-table.html#cb65-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(include, sex) <span class="sc">%&gt;%</span></span>
<span id="cb65-15"><a href="wrangling-data-to-create-your-first-table.html#cb65-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb65-16"><a href="wrangling-data-to-create-your-first-table.html#cb65-16" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Collect all variables for convenient summarizing</span></span>
<span id="cb65-17"><a href="wrangling-data-to-create-your-first-table.html#cb65-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">names_to =</span> <span class="st">&quot;variable&quot;</span>, </span>
<span id="cb65-18"><a href="wrangling-data-to-create-your-first-table.html#cb65-18" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">&quot;value&quot;</span>, </span>
<span id="cb65-19"><a href="wrangling-data-to-create-your-first-table.html#cb65-19" aria-hidden="true" tabindex="-1"></a>               <span class="at">cols =</span> age<span class="sc">:</span>n) <span class="sc">%&gt;%</span></span>
<span id="cb65-20"><a href="wrangling-data-to-create-your-first-table.html#cb65-20" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create a new grouping, adding variable</span></span>
<span id="cb65-21"><a href="wrangling-data-to-create-your-first-table.html#cb65-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(include, sex, variable) <span class="sc">%&gt;%</span></span>
<span id="cb65-22"><a href="wrangling-data-to-create-your-first-table.html#cb65-22" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Summarize in two new variables m for mean and s for SD</span></span>
<span id="cb65-23"><a href="wrangling-data-to-create-your-first-table.html#cb65-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">m =</span> <span class="fu">mean</span>(value), </span>
<span id="cb65-24"><a href="wrangling-data-to-create-your-first-table.html#cb65-24" aria-hidden="true" tabindex="-1"></a>            <span class="at">s =</span> <span class="fu">sd</span>(value)) <span class="sc">%&gt;%</span></span>
<span id="cb65-25"><a href="wrangling-data-to-create-your-first-table.html#cb65-25" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add descriptive statistics together for nice formatting</span></span>
<span id="cb65-26"><a href="wrangling-data-to-create-your-first-table.html#cb65-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ms =</span> <span class="fu">paste0</span>(m, <span class="st">&quot; (&quot;</span>, s, <span class="st">&quot;)&quot;</span>))</span>
<span id="cb65-27"><a href="wrangling-data-to-create-your-first-table.html#cb65-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>()</span></code></pre></div>
<p>In <code>mutate(ms = paste0(m, " (", s, ")"))</code>, the <code>paste0</code> function simply paste components together to form a string of text. First, the <em>vector</em> of means are being used, then we add a parenthesis, followed by the SD and finally a parenthesis.</p>
<p>If you run the above code you will notice that you end up with numbers looking like this:</p>
<p><code>167.666666666667 (6.86851298231541)</code></p>
<p>This is neither good or good looking. We have to take care of the decimal places. There are a number of ways to do this but in this case the function <code>signif</code> seems to make the situation better. <code>signif</code> rounds to significant digits. This means that we will get different rounding dependning on the “size” of the value. I find <code>signif(m, 3)</code> to be agood starting point.</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="wrangling-data-to-create-your-first-table.html#cb66-1" aria-hidden="true" tabindex="-1"></a>dxadata <span class="sc">%&gt;%</span> <span class="co"># take the dxadata data set</span></span>
<span id="cb66-2"><a href="wrangling-data-to-create-your-first-table.html#cb66-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(participant, time, sex, include<span class="sc">:</span>weight, fat.whole) <span class="sc">%&gt;%</span> </span>
<span id="cb66-3"><a href="wrangling-data-to-create-your-first-table.html#cb66-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># select participant, time, sex, include to height and fat.whole</span></span>
<span id="cb66-4"><a href="wrangling-data-to-create-your-first-table.html#cb66-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb66-5"><a href="wrangling-data-to-create-your-first-table.html#cb66-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Filter to keep all observations with pre</span></span>
<span id="cb66-6"><a href="wrangling-data-to-create-your-first-table.html#cb66-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(time <span class="sc">==</span> <span class="st">&quot;pre&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb66-7"><a href="wrangling-data-to-create-your-first-table.html#cb66-7" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb66-8"><a href="wrangling-data-to-create-your-first-table.html#cb66-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate body fat</span></span>
<span id="cb66-9"><a href="wrangling-data-to-create-your-first-table.html#cb66-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># fat.whole in grams, needs to be divided by 1000 to express as kg</span></span>
<span id="cb66-10"><a href="wrangling-data-to-create-your-first-table.html#cb66-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Multiply by 100 to get percentage</span></span>
<span id="cb66-11"><a href="wrangling-data-to-create-your-first-table.html#cb66-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">fat.whole =</span> ((fat.whole<span class="sc">/</span><span class="dv">1000</span>) <span class="sc">/</span> weight) <span class="sc">*</span> <span class="dv">100</span>) <span class="sc">%&gt;%</span></span>
<span id="cb66-12"><a href="wrangling-data-to-create-your-first-table.html#cb66-12" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb66-13"><a href="wrangling-data-to-create-your-first-table.html#cb66-13" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Group the data frame and add a variable specifying the number of observations per group</span></span>
<span id="cb66-14"><a href="wrangling-data-to-create-your-first-table.html#cb66-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(include, sex) <span class="sc">%&gt;%</span></span>
<span id="cb66-15"><a href="wrangling-data-to-create-your-first-table.html#cb66-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb66-16"><a href="wrangling-data-to-create-your-first-table.html#cb66-16" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Collect all variables for convenient summarizing</span></span>
<span id="cb66-17"><a href="wrangling-data-to-create-your-first-table.html#cb66-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">names_to =</span> <span class="st">&quot;variable&quot;</span>, </span>
<span id="cb66-18"><a href="wrangling-data-to-create-your-first-table.html#cb66-18" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">&quot;value&quot;</span>, </span>
<span id="cb66-19"><a href="wrangling-data-to-create-your-first-table.html#cb66-19" aria-hidden="true" tabindex="-1"></a>               <span class="at">cols =</span> age<span class="sc">:</span>n) <span class="sc">%&gt;%</span></span>
<span id="cb66-20"><a href="wrangling-data-to-create-your-first-table.html#cb66-20" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create a new grouping, adding variable</span></span>
<span id="cb66-21"><a href="wrangling-data-to-create-your-first-table.html#cb66-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(include, sex, variable) <span class="sc">%&gt;%</span></span>
<span id="cb66-22"><a href="wrangling-data-to-create-your-first-table.html#cb66-22" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Summarize in two new variables m for mean and s for SD</span></span>
<span id="cb66-23"><a href="wrangling-data-to-create-your-first-table.html#cb66-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">m =</span> <span class="fu">mean</span>(value), </span>
<span id="cb66-24"><a href="wrangling-data-to-create-your-first-table.html#cb66-24" aria-hidden="true" tabindex="-1"></a>            <span class="at">s =</span> <span class="fu">sd</span>(value)) <span class="sc">%&gt;%</span></span>
<span id="cb66-25"><a href="wrangling-data-to-create-your-first-table.html#cb66-25" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add descriptive statistics together for nice formatting</span></span>
<span id="cb66-26"><a href="wrangling-data-to-create-your-first-table.html#cb66-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ms =</span> <span class="fu">paste0</span>(<span class="fu">signif</span>(m, <span class="dv">3</span>), <span class="co"># Use signif to round to significant numbers</span></span>
<span id="cb66-27"><a href="wrangling-data-to-create-your-first-table.html#cb66-27" aria-hidden="true" tabindex="-1"></a>                     <span class="st">&quot; (&quot;</span>,</span>
<span id="cb66-28"><a href="wrangling-data-to-create-your-first-table.html#cb66-28" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">signif</span>(s, <span class="dv">3</span>), </span>
<span id="cb66-29"><a href="wrangling-data-to-create-your-first-table.html#cb66-29" aria-hidden="true" tabindex="-1"></a>                     <span class="st">&quot;)&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb66-30"><a href="wrangling-data-to-create-your-first-table.html#cb66-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>()</span></code></pre></div>
<p>Things are starting to look good. Run the code, what do you think. A problem with the above is that we do not want any dispersion/variability in the <code>n</code> variable. So if the variable is <code>n</code>we do not want that kind of formatting. It is time to add a conditional statment. In <code>dplyr</code> there are easy-to-use if/else functions. The function <code>if_else</code> sets a condition, if this is met then we can decide what to do, and likewise decide what to do if it is not met.</p>
<p>This looks something like this inside a <code>dplyr</code> pipe:</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="wrangling-data-to-create-your-first-table.html#cb67-1" aria-hidden="true" tabindex="-1"></a>... <span class="sc">%&gt;%</span></span>
<span id="cb67-2"><a href="wrangling-data-to-create-your-first-table.html#cb67-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">if_else</span>(IF_THIS_IS_TRUE, THE_DO_THIS, OTHERWISE_DO_THIS) <span class="sc">%&gt;%</span></span>
<span id="cb67-3"><a href="wrangling-data-to-create-your-first-table.html#cb67-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>()</span></code></pre></div>
<p>If <code>variable</code> is <code>n</code>, then we only want to display <code>m</code> otherwise we want the full code as described above: <code>paste0(signif(m, 3), " (", signif(s, 3), ")")</code>. We add this to the code:</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="wrangling-data-to-create-your-first-table.html#cb68-1" aria-hidden="true" tabindex="-1"></a>dxadata <span class="sc">%&gt;%</span> <span class="co"># take the dxadata data set</span></span>
<span id="cb68-2"><a href="wrangling-data-to-create-your-first-table.html#cb68-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(participant, time, sex, include<span class="sc">:</span>weight, fat.whole) <span class="sc">%&gt;%</span> </span>
<span id="cb68-3"><a href="wrangling-data-to-create-your-first-table.html#cb68-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># select participant, time, sex, include to height and fat.whole</span></span>
<span id="cb68-4"><a href="wrangling-data-to-create-your-first-table.html#cb68-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb68-5"><a href="wrangling-data-to-create-your-first-table.html#cb68-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Filter to keep all observations with pre</span></span>
<span id="cb68-6"><a href="wrangling-data-to-create-your-first-table.html#cb68-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(time <span class="sc">==</span> <span class="st">&quot;pre&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb68-7"><a href="wrangling-data-to-create-your-first-table.html#cb68-7" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb68-8"><a href="wrangling-data-to-create-your-first-table.html#cb68-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate body fat</span></span>
<span id="cb68-9"><a href="wrangling-data-to-create-your-first-table.html#cb68-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># fat.whole in grams, needs to be divided by 1000 to express as kg</span></span>
<span id="cb68-10"><a href="wrangling-data-to-create-your-first-table.html#cb68-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Multiply by 100 to get percentage</span></span>
<span id="cb68-11"><a href="wrangling-data-to-create-your-first-table.html#cb68-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">fat.whole =</span> ((fat.whole<span class="sc">/</span><span class="dv">1000</span>) <span class="sc">/</span> weight) <span class="sc">*</span> <span class="dv">100</span>) <span class="sc">%&gt;%</span></span>
<span id="cb68-12"><a href="wrangling-data-to-create-your-first-table.html#cb68-12" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb68-13"><a href="wrangling-data-to-create-your-first-table.html#cb68-13" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Group the data frame and add a variable specifying the number of observations per group</span></span>
<span id="cb68-14"><a href="wrangling-data-to-create-your-first-table.html#cb68-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(include, sex) <span class="sc">%&gt;%</span></span>
<span id="cb68-15"><a href="wrangling-data-to-create-your-first-table.html#cb68-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb68-16"><a href="wrangling-data-to-create-your-first-table.html#cb68-16" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Collect all variables for convenient summarizing</span></span>
<span id="cb68-17"><a href="wrangling-data-to-create-your-first-table.html#cb68-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">names_to =</span> <span class="st">&quot;variable&quot;</span>, </span>
<span id="cb68-18"><a href="wrangling-data-to-create-your-first-table.html#cb68-18" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">&quot;value&quot;</span>, </span>
<span id="cb68-19"><a href="wrangling-data-to-create-your-first-table.html#cb68-19" aria-hidden="true" tabindex="-1"></a>               <span class="at">cols =</span> age<span class="sc">:</span>n) <span class="sc">%&gt;%</span></span>
<span id="cb68-20"><a href="wrangling-data-to-create-your-first-table.html#cb68-20" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create a new grouping, adding variable</span></span>
<span id="cb68-21"><a href="wrangling-data-to-create-your-first-table.html#cb68-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(include, sex, variable) <span class="sc">%&gt;%</span></span>
<span id="cb68-22"><a href="wrangling-data-to-create-your-first-table.html#cb68-22" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Summarize in two new variables m for mean and s for SD</span></span>
<span id="cb68-23"><a href="wrangling-data-to-create-your-first-table.html#cb68-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">m =</span> <span class="fu">mean</span>(value), </span>
<span id="cb68-24"><a href="wrangling-data-to-create-your-first-table.html#cb68-24" aria-hidden="true" tabindex="-1"></a>            <span class="at">s =</span> <span class="fu">sd</span>(value)) <span class="sc">%&gt;%</span></span>
<span id="cb68-25"><a href="wrangling-data-to-create-your-first-table.html#cb68-25" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add descriptive statistics together for nice formatting</span></span>
<span id="cb68-26"><a href="wrangling-data-to-create-your-first-table.html#cb68-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ms =</span> <span class="fu">if_else</span>(variable <span class="sc">==</span> <span class="st">&quot;n&quot;</span>, <span class="co"># If the variable is n</span></span>
<span id="cb68-27"><a href="wrangling-data-to-create-your-first-table.html#cb68-27" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">as.character</span>(m), <span class="co"># the only display the mean, otherwise:</span></span>
<span id="cb68-28"><a href="wrangling-data-to-create-your-first-table.html#cb68-28" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">paste0</span>(<span class="fu">signif</span>(m, <span class="dv">3</span>), <span class="co"># Use signif to round to significant numbers</span></span>
<span id="cb68-29"><a href="wrangling-data-to-create-your-first-table.html#cb68-29" aria-hidden="true" tabindex="-1"></a>                        <span class="st">&quot; (&quot;</span>,</span>
<span id="cb68-30"><a href="wrangling-data-to-create-your-first-table.html#cb68-30" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">signif</span>(s, <span class="dv">3</span>), </span>
<span id="cb68-31"><a href="wrangling-data-to-create-your-first-table.html#cb68-31" aria-hidden="true" tabindex="-1"></a>                        <span class="st">&quot;)&quot;</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb68-32"><a href="wrangling-data-to-create-your-first-table.html#cb68-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>()</span></code></pre></div>
<p>The <code>as.character</code> part is needed because the output of <code>if_else</code> must be the same regardless of what the outcome of the test is.</p>
<p>We are getting close to something!</p>
<p>The next step is to remove variables that we do not longer need. The <code>select</code> function will help us with that. we can remove <code>m</code>and <code>s</code> by <code>select(-m, -s)</code>, the minus sign tells are to remove them from the list of variables in the dataset. We can then combine the grouping variables into a <code>include_sex</code> variable. Similarly to what we did above, we can simply paste them together. Now we will use the <code>paste</code> (function instead of <code>paste0</code>). In <code>paste</code> we specify a separator, maybe <code>_</code> is a nice alternative. Selecting away the individual variables from the new combined one leaves us with this code and data set.</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="wrangling-data-to-create-your-first-table.html#cb69-1" aria-hidden="true" tabindex="-1"></a>dxadata <span class="sc">%&gt;%</span> <span class="co"># take the dxadata data set</span></span>
<span id="cb69-2"><a href="wrangling-data-to-create-your-first-table.html#cb69-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(participant, time, sex, include<span class="sc">:</span>weight, fat.whole) <span class="sc">%&gt;%</span> </span>
<span id="cb69-3"><a href="wrangling-data-to-create-your-first-table.html#cb69-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># select participant, time, sex, include to height and fat.whole</span></span>
<span id="cb69-4"><a href="wrangling-data-to-create-your-first-table.html#cb69-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb69-5"><a href="wrangling-data-to-create-your-first-table.html#cb69-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Filter to keep all observations with pre</span></span>
<span id="cb69-6"><a href="wrangling-data-to-create-your-first-table.html#cb69-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(time <span class="sc">==</span> <span class="st">&quot;pre&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb69-7"><a href="wrangling-data-to-create-your-first-table.html#cb69-7" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb69-8"><a href="wrangling-data-to-create-your-first-table.html#cb69-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate body fat</span></span>
<span id="cb69-9"><a href="wrangling-data-to-create-your-first-table.html#cb69-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># fat.whole in grams, needs to be divided by 1000 to express as kg</span></span>
<span id="cb69-10"><a href="wrangling-data-to-create-your-first-table.html#cb69-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Multiply by 100 to get percentage</span></span>
<span id="cb69-11"><a href="wrangling-data-to-create-your-first-table.html#cb69-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">fat.whole =</span> ((fat.whole<span class="sc">/</span><span class="dv">1000</span>) <span class="sc">/</span> weight) <span class="sc">*</span> <span class="dv">100</span>) <span class="sc">%&gt;%</span></span>
<span id="cb69-12"><a href="wrangling-data-to-create-your-first-table.html#cb69-12" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb69-13"><a href="wrangling-data-to-create-your-first-table.html#cb69-13" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Group the data frame and add a variable specifying the number of observations per group</span></span>
<span id="cb69-14"><a href="wrangling-data-to-create-your-first-table.html#cb69-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(include, sex) <span class="sc">%&gt;%</span></span>
<span id="cb69-15"><a href="wrangling-data-to-create-your-first-table.html#cb69-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb69-16"><a href="wrangling-data-to-create-your-first-table.html#cb69-16" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Collect all variables for convenient summarizing</span></span>
<span id="cb69-17"><a href="wrangling-data-to-create-your-first-table.html#cb69-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">names_to =</span> <span class="st">&quot;variable&quot;</span>, </span>
<span id="cb69-18"><a href="wrangling-data-to-create-your-first-table.html#cb69-18" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">&quot;value&quot;</span>, </span>
<span id="cb69-19"><a href="wrangling-data-to-create-your-first-table.html#cb69-19" aria-hidden="true" tabindex="-1"></a>               <span class="at">cols =</span> age<span class="sc">:</span>n) <span class="sc">%&gt;%</span></span>
<span id="cb69-20"><a href="wrangling-data-to-create-your-first-table.html#cb69-20" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create a new grouping, adding variable</span></span>
<span id="cb69-21"><a href="wrangling-data-to-create-your-first-table.html#cb69-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(include, sex, variable) <span class="sc">%&gt;%</span></span>
<span id="cb69-22"><a href="wrangling-data-to-create-your-first-table.html#cb69-22" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Summarize in two new variables m for mean and s for SD</span></span>
<span id="cb69-23"><a href="wrangling-data-to-create-your-first-table.html#cb69-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">m =</span> <span class="fu">mean</span>(value), </span>
<span id="cb69-24"><a href="wrangling-data-to-create-your-first-table.html#cb69-24" aria-hidden="true" tabindex="-1"></a>            <span class="at">s =</span> <span class="fu">sd</span>(value)) <span class="sc">%&gt;%</span></span>
<span id="cb69-25"><a href="wrangling-data-to-create-your-first-table.html#cb69-25" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add descriptive statistics together for nice formatting</span></span>
<span id="cb69-26"><a href="wrangling-data-to-create-your-first-table.html#cb69-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ms =</span> <span class="fu">if_else</span>(variable <span class="sc">==</span> <span class="st">&quot;n&quot;</span>, <span class="co"># If the variable is n</span></span>
<span id="cb69-27"><a href="wrangling-data-to-create-your-first-table.html#cb69-27" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">as.character</span>(m), <span class="co"># the only display the mean, otherwise:</span></span>
<span id="cb69-28"><a href="wrangling-data-to-create-your-first-table.html#cb69-28" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">paste0</span>(<span class="fu">signif</span>(m, <span class="dv">3</span>), <span class="co"># Use signif to round to significant numbers</span></span>
<span id="cb69-29"><a href="wrangling-data-to-create-your-first-table.html#cb69-29" aria-hidden="true" tabindex="-1"></a>                        <span class="st">&quot; (&quot;</span>,</span>
<span id="cb69-30"><a href="wrangling-data-to-create-your-first-table.html#cb69-30" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">signif</span>(s, <span class="dv">3</span>), </span>
<span id="cb69-31"><a href="wrangling-data-to-create-your-first-table.html#cb69-31" aria-hidden="true" tabindex="-1"></a>                        <span class="st">&quot;)&quot;</span>)), </span>
<span id="cb69-32"><a href="wrangling-data-to-create-your-first-table.html#cb69-32" aria-hidden="true" tabindex="-1"></a>         <span class="co"># Doing a new grouping variable</span></span>
<span id="cb69-33"><a href="wrangling-data-to-create-your-first-table.html#cb69-33" aria-hidden="true" tabindex="-1"></a>         <span class="at">include_sex =</span> <span class="fu">paste</span>(include, sex, <span class="at">sep =</span> <span class="st">&quot;_&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb69-34"><a href="wrangling-data-to-create-your-first-table.html#cb69-34" aria-hidden="true" tabindex="-1"></a>  <span class="co"># removing unnecessary variables after ungrouping</span></span>
<span id="cb69-35"><a href="wrangling-data-to-create-your-first-table.html#cb69-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb69-36"><a href="wrangling-data-to-create-your-first-table.html#cb69-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>sex, <span class="sc">-</span>include, <span class="sc">-</span>m, <span class="sc">-</span>s)</span>
<span id="cb69-37"><a href="wrangling-data-to-create-your-first-table.html#cb69-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>()</span></code></pre></div>
<p>If <code>ungroup</code> is not used, we cannot select away variables since they are used to group the dataset. We will now perform the last operations befor we can make it a table. To make it formatted as in Table 1 in <span class="citation">(<a href="references.html#ref-RN2358" role="doc-biblioref">Hammarström et al. 2020</a>)</span>, we can make the present dataset wider. Each group has its own variable in addition to the variable name column. We will use the opposite function to <code>pivoy_longer</code>, namely <code>pivot_wider</code><a href="#fn18" class="footnote-ref" id="fnref18"><sup>18</sup></a>. <code>pivot_wider</code> takes a variable or “key” column and a “values” column and divide the values based on the “key.”</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="wrangling-data-to-create-your-first-table.html#cb70-1" aria-hidden="true" tabindex="-1"></a>dxadata <span class="sc">%&gt;%</span> <span class="co"># take the dxadata data set</span></span>
<span id="cb70-2"><a href="wrangling-data-to-create-your-first-table.html#cb70-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(participant, time, sex, include<span class="sc">:</span>weight, fat.whole) <span class="sc">%&gt;%</span> </span>
<span id="cb70-3"><a href="wrangling-data-to-create-your-first-table.html#cb70-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># select participant, time, sex, include to height and fat.whole</span></span>
<span id="cb70-4"><a href="wrangling-data-to-create-your-first-table.html#cb70-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb70-5"><a href="wrangling-data-to-create-your-first-table.html#cb70-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Filter to keep all observations with pre</span></span>
<span id="cb70-6"><a href="wrangling-data-to-create-your-first-table.html#cb70-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(time <span class="sc">==</span> <span class="st">&quot;pre&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb70-7"><a href="wrangling-data-to-create-your-first-table.html#cb70-7" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb70-8"><a href="wrangling-data-to-create-your-first-table.html#cb70-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate body fat</span></span>
<span id="cb70-9"><a href="wrangling-data-to-create-your-first-table.html#cb70-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># fat.whole in grams, needs to be divided by 1000 to express as kg</span></span>
<span id="cb70-10"><a href="wrangling-data-to-create-your-first-table.html#cb70-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Multiply by 100 to get percentage</span></span>
<span id="cb70-11"><a href="wrangling-data-to-create-your-first-table.html#cb70-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">fat.whole =</span> ((fat.whole<span class="sc">/</span><span class="dv">1000</span>) <span class="sc">/</span> weight) <span class="sc">*</span> <span class="dv">100</span>) <span class="sc">%&gt;%</span></span>
<span id="cb70-12"><a href="wrangling-data-to-create-your-first-table.html#cb70-12" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb70-13"><a href="wrangling-data-to-create-your-first-table.html#cb70-13" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Group the data frame and add a variable specifying the number of observations per group</span></span>
<span id="cb70-14"><a href="wrangling-data-to-create-your-first-table.html#cb70-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(include, sex) <span class="sc">%&gt;%</span></span>
<span id="cb70-15"><a href="wrangling-data-to-create-your-first-table.html#cb70-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb70-16"><a href="wrangling-data-to-create-your-first-table.html#cb70-16" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Collect all variables for convenient summarizing</span></span>
<span id="cb70-17"><a href="wrangling-data-to-create-your-first-table.html#cb70-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">names_to =</span> <span class="st">&quot;variable&quot;</span>, </span>
<span id="cb70-18"><a href="wrangling-data-to-create-your-first-table.html#cb70-18" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">&quot;value&quot;</span>, </span>
<span id="cb70-19"><a href="wrangling-data-to-create-your-first-table.html#cb70-19" aria-hidden="true" tabindex="-1"></a>               <span class="at">cols =</span> age<span class="sc">:</span>n) <span class="sc">%&gt;%</span></span>
<span id="cb70-20"><a href="wrangling-data-to-create-your-first-table.html#cb70-20" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create a new grouping, adding variable</span></span>
<span id="cb70-21"><a href="wrangling-data-to-create-your-first-table.html#cb70-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(include, sex, variable) <span class="sc">%&gt;%</span></span>
<span id="cb70-22"><a href="wrangling-data-to-create-your-first-table.html#cb70-22" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Summarize in two new variables m for mean and s for SD</span></span>
<span id="cb70-23"><a href="wrangling-data-to-create-your-first-table.html#cb70-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">m =</span> <span class="fu">mean</span>(value), </span>
<span id="cb70-24"><a href="wrangling-data-to-create-your-first-table.html#cb70-24" aria-hidden="true" tabindex="-1"></a>            <span class="at">s =</span> <span class="fu">sd</span>(value)) <span class="sc">%&gt;%</span></span>
<span id="cb70-25"><a href="wrangling-data-to-create-your-first-table.html#cb70-25" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add descriptive statistics together for nice formatting</span></span>
<span id="cb70-26"><a href="wrangling-data-to-create-your-first-table.html#cb70-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ms =</span> <span class="fu">if_else</span>(variable <span class="sc">==</span> <span class="st">&quot;n&quot;</span>, <span class="co"># If the variable is n</span></span>
<span id="cb70-27"><a href="wrangling-data-to-create-your-first-table.html#cb70-27" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">as.character</span>(m), <span class="co"># the only display the mean, otherwise:</span></span>
<span id="cb70-28"><a href="wrangling-data-to-create-your-first-table.html#cb70-28" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">paste0</span>(<span class="fu">signif</span>(m, <span class="dv">3</span>), <span class="co"># Use signif to round to significant numbers</span></span>
<span id="cb70-29"><a href="wrangling-data-to-create-your-first-table.html#cb70-29" aria-hidden="true" tabindex="-1"></a>                        <span class="st">&quot; (&quot;</span>,</span>
<span id="cb70-30"><a href="wrangling-data-to-create-your-first-table.html#cb70-30" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">signif</span>(s, <span class="dv">3</span>), </span>
<span id="cb70-31"><a href="wrangling-data-to-create-your-first-table.html#cb70-31" aria-hidden="true" tabindex="-1"></a>                        <span class="st">&quot;)&quot;</span>)), </span>
<span id="cb70-32"><a href="wrangling-data-to-create-your-first-table.html#cb70-32" aria-hidden="true" tabindex="-1"></a>         <span class="co"># Doing a new grouping variable</span></span>
<span id="cb70-33"><a href="wrangling-data-to-create-your-first-table.html#cb70-33" aria-hidden="true" tabindex="-1"></a>         <span class="at">include_sex =</span> <span class="fu">paste</span>(include, sex, <span class="at">sep =</span> <span class="st">&quot;_&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb70-34"><a href="wrangling-data-to-create-your-first-table.html#cb70-34" aria-hidden="true" tabindex="-1"></a>  <span class="co"># removing unnecessary variables after ungrouping</span></span>
<span id="cb70-35"><a href="wrangling-data-to-create-your-first-table.html#cb70-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb70-36"><a href="wrangling-data-to-create-your-first-table.html#cb70-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>sex, <span class="sc">-</span>include, <span class="sc">-</span>m, <span class="sc">-</span>s) <span class="sc">%&gt;%</span></span>
<span id="cb70-37"><a href="wrangling-data-to-create-your-first-table.html#cb70-37" aria-hidden="true" tabindex="-1"></a>  <span class="co"># pivot wider to match the desired data</span></span>
<span id="cb70-38"><a href="wrangling-data-to-create-your-first-table.html#cb70-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> include_sex, </span>
<span id="cb70-39"><a href="wrangling-data-to-create-your-first-table.html#cb70-39" aria-hidden="true" tabindex="-1"></a>              <span class="at">values_from =</span> ms) <span class="sc">%&gt;%</span></span>
<span id="cb70-40"><a href="wrangling-data-to-create-your-first-table.html#cb70-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>()</span></code></pre></div>
<p>A final step is to format the <code>variable</code> variable(!). The easiest is to make it a factor variable with specified levels and names. After we have added this information, we can use <code>arrange</code> to sort the dataset. Using <code>select</code> will help you sort the columns to match wath we want.</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="wrangling-data-to-create-your-first-table.html#cb71-1" aria-hidden="true" tabindex="-1"></a>dxadata <span class="sc">%&gt;%</span> <span class="co"># take the dxadata data set</span></span>
<span id="cb71-2"><a href="wrangling-data-to-create-your-first-table.html#cb71-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(participant, time, sex, include<span class="sc">:</span>weight, fat.whole) <span class="sc">%&gt;%</span> </span>
<span id="cb71-3"><a href="wrangling-data-to-create-your-first-table.html#cb71-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># select participant, time, sex, include to height and fat.whole</span></span>
<span id="cb71-4"><a href="wrangling-data-to-create-your-first-table.html#cb71-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb71-5"><a href="wrangling-data-to-create-your-first-table.html#cb71-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Filter to keep all observations with pre</span></span>
<span id="cb71-6"><a href="wrangling-data-to-create-your-first-table.html#cb71-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(time <span class="sc">==</span> <span class="st">&quot;pre&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb71-7"><a href="wrangling-data-to-create-your-first-table.html#cb71-7" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb71-8"><a href="wrangling-data-to-create-your-first-table.html#cb71-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate body fat</span></span>
<span id="cb71-9"><a href="wrangling-data-to-create-your-first-table.html#cb71-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># fat.whole in grams, needs to be divided by 1000 to express as kg</span></span>
<span id="cb71-10"><a href="wrangling-data-to-create-your-first-table.html#cb71-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Multiply by 100 to get percentage</span></span>
<span id="cb71-11"><a href="wrangling-data-to-create-your-first-table.html#cb71-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">fat.whole =</span> ((fat.whole<span class="sc">/</span><span class="dv">1000</span>) <span class="sc">/</span> weight) <span class="sc">*</span> <span class="dv">100</span>) <span class="sc">%&gt;%</span></span>
<span id="cb71-12"><a href="wrangling-data-to-create-your-first-table.html#cb71-12" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb71-13"><a href="wrangling-data-to-create-your-first-table.html#cb71-13" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Group the data frame and add a variable specifying the number of observations per group</span></span>
<span id="cb71-14"><a href="wrangling-data-to-create-your-first-table.html#cb71-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(include, sex) <span class="sc">%&gt;%</span></span>
<span id="cb71-15"><a href="wrangling-data-to-create-your-first-table.html#cb71-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb71-16"><a href="wrangling-data-to-create-your-first-table.html#cb71-16" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Collect all variables for convenient summarizing</span></span>
<span id="cb71-17"><a href="wrangling-data-to-create-your-first-table.html#cb71-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">names_to =</span> <span class="st">&quot;variable&quot;</span>, </span>
<span id="cb71-18"><a href="wrangling-data-to-create-your-first-table.html#cb71-18" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">&quot;value&quot;</span>, </span>
<span id="cb71-19"><a href="wrangling-data-to-create-your-first-table.html#cb71-19" aria-hidden="true" tabindex="-1"></a>               <span class="at">cols =</span> age<span class="sc">:</span>n) <span class="sc">%&gt;%</span></span>
<span id="cb71-20"><a href="wrangling-data-to-create-your-first-table.html#cb71-20" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create a new grouping, adding variable</span></span>
<span id="cb71-21"><a href="wrangling-data-to-create-your-first-table.html#cb71-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(include, sex, variable) <span class="sc">%&gt;%</span></span>
<span id="cb71-22"><a href="wrangling-data-to-create-your-first-table.html#cb71-22" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Summarize in two new variables m for mean and s for SD</span></span>
<span id="cb71-23"><a href="wrangling-data-to-create-your-first-table.html#cb71-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">m =</span> <span class="fu">mean</span>(value), </span>
<span id="cb71-24"><a href="wrangling-data-to-create-your-first-table.html#cb71-24" aria-hidden="true" tabindex="-1"></a>            <span class="at">s =</span> <span class="fu">sd</span>(value)) <span class="sc">%&gt;%</span></span>
<span id="cb71-25"><a href="wrangling-data-to-create-your-first-table.html#cb71-25" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add descriptive statistics together for nice formatting</span></span>
<span id="cb71-26"><a href="wrangling-data-to-create-your-first-table.html#cb71-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ms =</span> <span class="fu">if_else</span>(variable <span class="sc">==</span> <span class="st">&quot;n&quot;</span>, <span class="co"># If the variable is n</span></span>
<span id="cb71-27"><a href="wrangling-data-to-create-your-first-table.html#cb71-27" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">as.character</span>(m), <span class="co"># the only display the mean, otherwise:</span></span>
<span id="cb71-28"><a href="wrangling-data-to-create-your-first-table.html#cb71-28" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">paste0</span>(<span class="fu">signif</span>(m, <span class="dv">3</span>), <span class="co"># Use signif to round to significant numbers</span></span>
<span id="cb71-29"><a href="wrangling-data-to-create-your-first-table.html#cb71-29" aria-hidden="true" tabindex="-1"></a>                        <span class="st">&quot; (&quot;</span>,</span>
<span id="cb71-30"><a href="wrangling-data-to-create-your-first-table.html#cb71-30" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">signif</span>(s, <span class="dv">3</span>), </span>
<span id="cb71-31"><a href="wrangling-data-to-create-your-first-table.html#cb71-31" aria-hidden="true" tabindex="-1"></a>                        <span class="st">&quot;)&quot;</span>)), </span>
<span id="cb71-32"><a href="wrangling-data-to-create-your-first-table.html#cb71-32" aria-hidden="true" tabindex="-1"></a>         <span class="co"># Doing a new grouping variable</span></span>
<span id="cb71-33"><a href="wrangling-data-to-create-your-first-table.html#cb71-33" aria-hidden="true" tabindex="-1"></a>         <span class="at">include_sex =</span> <span class="fu">paste</span>(include, sex, <span class="at">sep =</span> <span class="st">&quot;_&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb71-34"><a href="wrangling-data-to-create-your-first-table.html#cb71-34" aria-hidden="true" tabindex="-1"></a>  <span class="co"># removing unnecessary variables after ungrouping</span></span>
<span id="cb71-35"><a href="wrangling-data-to-create-your-first-table.html#cb71-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb71-36"><a href="wrangling-data-to-create-your-first-table.html#cb71-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>sex, <span class="sc">-</span>include, <span class="sc">-</span>m, <span class="sc">-</span>s) <span class="sc">%&gt;%</span></span>
<span id="cb71-37"><a href="wrangling-data-to-create-your-first-table.html#cb71-37" aria-hidden="true" tabindex="-1"></a>  <span class="co"># pivot wider to match the desired data</span></span>
<span id="cb71-38"><a href="wrangling-data-to-create-your-first-table.html#cb71-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> include_sex, </span>
<span id="cb71-39"><a href="wrangling-data-to-create-your-first-table.html#cb71-39" aria-hidden="true" tabindex="-1"></a>              <span class="at">values_from =</span> ms) <span class="sc">%&gt;%</span></span>
<span id="cb71-40"><a href="wrangling-data-to-create-your-first-table.html#cb71-40" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">variable =</span> <span class="fu">factor</span>(variable, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;n&quot;</span>, <span class="st">&quot;age&quot;</span>, <span class="st">&quot;weight&quot;</span>, <span class="st">&quot;height&quot;</span>, <span class="st">&quot;fat.whole&quot;</span>), </span>
<span id="cb71-41"><a href="wrangling-data-to-create-your-first-table.html#cb71-41" aria-hidden="true" tabindex="-1"></a>                           <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;N&quot;</span>, <span class="st">&quot;Age (years)&quot;</span>, <span class="st">&quot;Mass (kg)&quot;</span>, </span>
<span id="cb71-42"><a href="wrangling-data-to-create-your-first-table.html#cb71-42" aria-hidden="true" tabindex="-1"></a>                                      <span class="st">&quot;Stature (cm)&quot;</span>, <span class="st">&quot;Body fat (%)&quot;</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb71-43"><a href="wrangling-data-to-create-your-first-table.html#cb71-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(variable) <span class="sc">%&gt;%</span></span>
<span id="cb71-44"><a href="wrangling-data-to-create-your-first-table.html#cb71-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>()</span></code></pre></div>
</div>
<div id="starting-the-table-generator---the-kable-function" class="section level3" number="6.1.5">
<h3><span class="header-section-number">6.1.5</span> Starting the table generator - The <code>kable</code> function</h3>
<p>The next step is to “pipe” everything into the table generator. <code>kable</code> from the <code>knitr</code> package creates the framework for the table we are going to create. Next we will use functions from the <code>kableExtra</code> package to customize the table. Use the help pages for <code>kable</code> to see what can be specified in the function. We will make use of only a few arguments. <code>kable</code> can be part of a pipe, the same as the following <code>kableExtra</code> functions.</p>
<p>The <code>kable</code>function is well described in the <a href="https://bookdown.org/yihui/rmarkdown-cookbook/kable.html">Rmarkdown cookbook</a>. For functions belonging to the <code>kableExtra</code> package, see the <a href="https://cran.r-project.org/web/packages/kableExtra/">vignettes</a>.</p>
<p>We will add the kable function to the end of the pipe we have built so far.</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="wrangling-data-to-create-your-first-table.html#cb72-1" aria-hidden="true" tabindex="-1"></a>dxadata <span class="sc">%&gt;%</span> <span class="co"># take the dxadata data set</span></span>
<span id="cb72-2"><a href="wrangling-data-to-create-your-first-table.html#cb72-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(participant, time, sex, include<span class="sc">:</span>weight, fat.whole) <span class="sc">%&gt;%</span> </span>
<span id="cb72-3"><a href="wrangling-data-to-create-your-first-table.html#cb72-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># select participant, time, sex, include to height and fat.whole</span></span>
<span id="cb72-4"><a href="wrangling-data-to-create-your-first-table.html#cb72-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb72-5"><a href="wrangling-data-to-create-your-first-table.html#cb72-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Filter to keep all observations with pre</span></span>
<span id="cb72-6"><a href="wrangling-data-to-create-your-first-table.html#cb72-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(time <span class="sc">==</span> <span class="st">&quot;pre&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb72-7"><a href="wrangling-data-to-create-your-first-table.html#cb72-7" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb72-8"><a href="wrangling-data-to-create-your-first-table.html#cb72-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate body fat</span></span>
<span id="cb72-9"><a href="wrangling-data-to-create-your-first-table.html#cb72-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># fat.whole in grams, needs to be divided by 1000 to express as kg</span></span>
<span id="cb72-10"><a href="wrangling-data-to-create-your-first-table.html#cb72-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Multiply by 100 to get percentage</span></span>
<span id="cb72-11"><a href="wrangling-data-to-create-your-first-table.html#cb72-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">fat.whole =</span> ((fat.whole<span class="sc">/</span><span class="dv">1000</span>) <span class="sc">/</span> weight) <span class="sc">*</span> <span class="dv">100</span>) <span class="sc">%&gt;%</span></span>
<span id="cb72-12"><a href="wrangling-data-to-create-your-first-table.html#cb72-12" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb72-13"><a href="wrangling-data-to-create-your-first-table.html#cb72-13" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Group the data frame and add a variable specifying the number of observations per group</span></span>
<span id="cb72-14"><a href="wrangling-data-to-create-your-first-table.html#cb72-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(include, sex) <span class="sc">%&gt;%</span></span>
<span id="cb72-15"><a href="wrangling-data-to-create-your-first-table.html#cb72-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb72-16"><a href="wrangling-data-to-create-your-first-table.html#cb72-16" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Collect all variables for convenient summarizing</span></span>
<span id="cb72-17"><a href="wrangling-data-to-create-your-first-table.html#cb72-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">names_to =</span> <span class="st">&quot;variable&quot;</span>, </span>
<span id="cb72-18"><a href="wrangling-data-to-create-your-first-table.html#cb72-18" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">&quot;value&quot;</span>, </span>
<span id="cb72-19"><a href="wrangling-data-to-create-your-first-table.html#cb72-19" aria-hidden="true" tabindex="-1"></a>               <span class="at">cols =</span> age<span class="sc">:</span>n) <span class="sc">%&gt;%</span></span>
<span id="cb72-20"><a href="wrangling-data-to-create-your-first-table.html#cb72-20" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create a new grouping, adding variable</span></span>
<span id="cb72-21"><a href="wrangling-data-to-create-your-first-table.html#cb72-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(include, sex, variable) <span class="sc">%&gt;%</span></span>
<span id="cb72-22"><a href="wrangling-data-to-create-your-first-table.html#cb72-22" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Summarize in two new variables m for mean and s for SD</span></span>
<span id="cb72-23"><a href="wrangling-data-to-create-your-first-table.html#cb72-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">m =</span> <span class="fu">mean</span>(value), </span>
<span id="cb72-24"><a href="wrangling-data-to-create-your-first-table.html#cb72-24" aria-hidden="true" tabindex="-1"></a>            <span class="at">s =</span> <span class="fu">sd</span>(value)) <span class="sc">%&gt;%</span></span>
<span id="cb72-25"><a href="wrangling-data-to-create-your-first-table.html#cb72-25" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add descriptive statistics together for nice formatting</span></span>
<span id="cb72-26"><a href="wrangling-data-to-create-your-first-table.html#cb72-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ms =</span> <span class="fu">if_else</span>(variable <span class="sc">==</span> <span class="st">&quot;n&quot;</span>, <span class="co"># If the variable is n</span></span>
<span id="cb72-27"><a href="wrangling-data-to-create-your-first-table.html#cb72-27" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">as.character</span>(m), <span class="co"># the only display the mean, otherwise:</span></span>
<span id="cb72-28"><a href="wrangling-data-to-create-your-first-table.html#cb72-28" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">paste0</span>(<span class="fu">signif</span>(m, <span class="dv">3</span>), <span class="co"># Use signif to round to significant numbers</span></span>
<span id="cb72-29"><a href="wrangling-data-to-create-your-first-table.html#cb72-29" aria-hidden="true" tabindex="-1"></a>                        <span class="st">&quot; (&quot;</span>,</span>
<span id="cb72-30"><a href="wrangling-data-to-create-your-first-table.html#cb72-30" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">signif</span>(s, <span class="dv">3</span>), </span>
<span id="cb72-31"><a href="wrangling-data-to-create-your-first-table.html#cb72-31" aria-hidden="true" tabindex="-1"></a>                        <span class="st">&quot;)&quot;</span>)), </span>
<span id="cb72-32"><a href="wrangling-data-to-create-your-first-table.html#cb72-32" aria-hidden="true" tabindex="-1"></a>         <span class="co"># Doing a new grouping variable</span></span>
<span id="cb72-33"><a href="wrangling-data-to-create-your-first-table.html#cb72-33" aria-hidden="true" tabindex="-1"></a>         <span class="at">include_sex =</span> <span class="fu">paste</span>(include, sex, <span class="at">sep =</span> <span class="st">&quot;_&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb72-34"><a href="wrangling-data-to-create-your-first-table.html#cb72-34" aria-hidden="true" tabindex="-1"></a>  <span class="co"># removing unnecessary variables after ungrouping</span></span>
<span id="cb72-35"><a href="wrangling-data-to-create-your-first-table.html#cb72-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb72-36"><a href="wrangling-data-to-create-your-first-table.html#cb72-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>sex, <span class="sc">-</span>include, <span class="sc">-</span>m, <span class="sc">-</span>s) <span class="sc">%&gt;%</span></span>
<span id="cb72-37"><a href="wrangling-data-to-create-your-first-table.html#cb72-37" aria-hidden="true" tabindex="-1"></a>  <span class="co"># pivot wider to match the desired data</span></span>
<span id="cb72-38"><a href="wrangling-data-to-create-your-first-table.html#cb72-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> include_sex, </span>
<span id="cb72-39"><a href="wrangling-data-to-create-your-first-table.html#cb72-39" aria-hidden="true" tabindex="-1"></a>              <span class="at">values_from =</span> ms) <span class="sc">%&gt;%</span></span>
<span id="cb72-40"><a href="wrangling-data-to-create-your-first-table.html#cb72-40" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">variable =</span> <span class="fu">factor</span>(variable, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;n&quot;</span>, <span class="st">&quot;age&quot;</span>, <span class="st">&quot;weight&quot;</span>, <span class="st">&quot;height&quot;</span>, <span class="st">&quot;fat.whole&quot;</span>), </span>
<span id="cb72-41"><a href="wrangling-data-to-create-your-first-table.html#cb72-41" aria-hidden="true" tabindex="-1"></a>                           <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;N&quot;</span>, <span class="st">&quot;Age (years)&quot;</span>, <span class="st">&quot;Mass (kg)&quot;</span>, </span>
<span id="cb72-42"><a href="wrangling-data-to-create-your-first-table.html#cb72-42" aria-hidden="true" tabindex="-1"></a>                                      <span class="st">&quot;Stature (cm)&quot;</span>, <span class="st">&quot;Body fat (%)&quot;</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb72-43"><a href="wrangling-data-to-create-your-first-table.html#cb72-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(variable) <span class="sc">%&gt;%</span></span>
<span id="cb72-44"><a href="wrangling-data-to-create-your-first-table.html#cb72-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">format =</span> <span class="st">&quot;html&quot;</span>)</span></code></pre></div>
<p>An important aspect is that we need to work in a RMarkdown document (.Rmd). This allows for conversion of “html” code generated by <code>kable</code> to the output file, if the output file format is “html.” In kable, as you can see in the example above, we specify this with the argument <code>format =</code>. Possible common formats are “html” and “latex.” <span class="math inline">\(\LaTeX\)</span> is a more advanced syntax for document preparation, the output is often a pdf file. In this session we are working with “html,” so we will keep <code>format = "html"</code>.</p>
<p>When “knitting” your <code>.Rmd</code>-document, the code chunk where you keep your table code needs to have a setting specifying <code>results = "asis"</code>. The top of the code chunk should look like this:</p>
<pre><code>```{r my_table, results=&quot;asis&quot;}

dxadata %&gt;% # take the dxadata data set
  select(participant, time, sex, include:weight, fat.whole) %&gt;% 
  # select participant, time, sex, include to height and fat.whole
  
  # Filter to keep all observations with pre
  filter(time == &quot;pre&quot;) %&gt;%
  ...

```</code></pre>
<p>When you run the above code, you may get output in your console. This output will look something like this:</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="wrangling-data-to-create-your-first-table.html#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&lt;</span>table<span class="sc">&gt;</span></span>
<span id="cb74-2"><a href="wrangling-data-to-create-your-first-table.html#cb74-2" aria-hidden="true" tabindex="-1"></a> <span class="er">&lt;</span>thead<span class="sc">&gt;</span></span>
<span id="cb74-3"><a href="wrangling-data-to-create-your-first-table.html#cb74-3" aria-hidden="true" tabindex="-1"></a>  <span class="er">&lt;</span>tr<span class="sc">&gt;</span></span>
<span id="cb74-4"><a href="wrangling-data-to-create-your-first-table.html#cb74-4" aria-hidden="true" tabindex="-1"></a>   <span class="er">&lt;</span>th style<span class="ot">=</span><span class="st">&quot;text-align:left;&quot;</span><span class="sc">&gt;</span> variable <span class="sc">&lt;</span><span class="er">/</span>th<span class="sc">&gt;</span></span>
<span id="cb74-5"><a href="wrangling-data-to-create-your-first-table.html#cb74-5" aria-hidden="true" tabindex="-1"></a>   <span class="er">&lt;</span>th style<span class="ot">=</span><span class="st">&quot;text-align:left;&quot;</span><span class="sc">&gt;</span> excl_female <span class="sc">&lt;</span><span class="er">/</span>th<span class="sc">&gt;</span></span>
<span id="cb74-6"><a href="wrangling-data-to-create-your-first-table.html#cb74-6" aria-hidden="true" tabindex="-1"></a>   <span class="er">&lt;</span>th style<span class="ot">=</span><span class="st">&quot;text-align:left;&quot;</span><span class="sc">&gt;</span> excl_male <span class="sc">&lt;</span><span class="er">/</span>th<span class="sc">&gt;</span></span>
<span id="cb74-7"><a href="wrangling-data-to-create-your-first-table.html#cb74-7" aria-hidden="true" tabindex="-1"></a>   <span class="er">&lt;</span>th style<span class="ot">=</span><span class="st">&quot;text-align:left;&quot;</span><span class="sc">&gt;</span> incl_female <span class="sc">&lt;</span><span class="er">/</span>th<span class="sc">&gt;</span></span>
<span id="cb74-8"><a href="wrangling-data-to-create-your-first-table.html#cb74-8" aria-hidden="true" tabindex="-1"></a>   <span class="er">&lt;</span>th style<span class="ot">=</span><span class="st">&quot;text-align:left;&quot;</span><span class="sc">&gt;</span> incl_male <span class="sc">&lt;</span><span class="er">/</span>th<span class="sc">&gt;</span></span>
<span id="cb74-9"><a href="wrangling-data-to-create-your-first-table.html#cb74-9" aria-hidden="true" tabindex="-1"></a>  <span class="er">&lt;/</span>tr<span class="sc">&gt;</span></span>
<span id="cb74-10"><a href="wrangling-data-to-create-your-first-table.html#cb74-10" aria-hidden="true" tabindex="-1"></a> <span class="er">&lt;/</span>thead<span class="sc">&gt;</span></span>
<span id="cb74-11"><a href="wrangling-data-to-create-your-first-table.html#cb74-11" aria-hidden="true" tabindex="-1"></a><span class="er">&lt;</span>tbody<span class="sc">&gt;</span></span>
<span id="cb74-12"><a href="wrangling-data-to-create-your-first-table.html#cb74-12" aria-hidden="true" tabindex="-1"></a>  <span class="er">&lt;</span>tr<span class="sc">&gt;</span></span>
<span id="cb74-13"><a href="wrangling-data-to-create-your-first-table.html#cb74-13" aria-hidden="true" tabindex="-1"></a>   <span class="er">&lt;</span>td style<span class="ot">=</span><span class="st">&quot;text-align:left;&quot;</span><span class="sc">&gt;</span> N <span class="sc">&lt;</span><span class="er">/</span>td<span class="sc">&gt;</span></span>
<span id="cb74-14"><a href="wrangling-data-to-create-your-first-table.html#cb74-14" aria-hidden="true" tabindex="-1"></a>   <span class="er">&lt;</span>td style<span class="ot">=</span><span class="st">&quot;text-align:left;&quot;</span><span class="sc">&gt;</span> <span class="dv">4</span> <span class="sc">&lt;</span><span class="er">/</span>td<span class="sc">&gt;</span></span>
<span id="cb74-15"><a href="wrangling-data-to-create-your-first-table.html#cb74-15" aria-hidden="true" tabindex="-1"></a>   <span class="er">&lt;</span>td style<span class="ot">=</span><span class="st">&quot;text-align:left;&quot;</span><span class="sc">&gt;</span> <span class="dv">3</span> <span class="sc">&lt;</span><span class="er">/</span>td<span class="sc">&gt;</span></span>
<span id="cb74-16"><a href="wrangling-data-to-create-your-first-table.html#cb74-16" aria-hidden="true" tabindex="-1"></a>   <span class="er">&lt;</span>td style<span class="ot">=</span><span class="st">&quot;text-align:left;&quot;</span><span class="sc">&gt;</span> <span class="dv">18</span> <span class="sc">&lt;</span><span class="er">/</span>td<span class="sc">&gt;</span></span>
<span id="cb74-17"><a href="wrangling-data-to-create-your-first-table.html#cb74-17" aria-hidden="true" tabindex="-1"></a>   <span class="er">&lt;</span>td style<span class="ot">=</span><span class="st">&quot;text-align:left;&quot;</span><span class="sc">&gt;</span> <span class="dv">16</span> <span class="sc">&lt;</span><span class="er">/</span>td<span class="sc">&gt;</span></span>
<span id="cb74-18"><a href="wrangling-data-to-create-your-first-table.html#cb74-18" aria-hidden="true" tabindex="-1"></a>  <span class="er">&lt;/</span>tr<span class="sc">&gt;</span></span>
<span id="cb74-19"><a href="wrangling-data-to-create-your-first-table.html#cb74-19" aria-hidden="true" tabindex="-1"></a>  <span class="er">&lt;</span>tr<span class="sc">&gt;</span></span>
<span id="cb74-20"><a href="wrangling-data-to-create-your-first-table.html#cb74-20" aria-hidden="true" tabindex="-1"></a>   <span class="er">&lt;</span>td style<span class="ot">=</span><span class="st">&quot;text-align:left;&quot;</span><span class="sc">&gt;</span> <span class="fu">Age</span> (years) <span class="sc">&lt;</span><span class="er">/</span>td<span class="sc">&gt;</span></span>
<span id="cb74-21"><a href="wrangling-data-to-create-your-first-table.html#cb74-21" aria-hidden="true" tabindex="-1"></a>   <span class="er">&lt;</span>td style<span class="ot">=</span><span class="st">&quot;text-align:left;&quot;</span><span class="sc">&gt;</span> <span class="fl">22.9</span> (<span class="fl">1.57</span>) <span class="sc">&lt;</span><span class="er">/</span>td<span class="sc">&gt;</span></span>
<span id="cb74-22"><a href="wrangling-data-to-create-your-first-table.html#cb74-22" aria-hidden="true" tabindex="-1"></a>   <span class="er">&lt;</span>td style<span class="ot">=</span><span class="st">&quot;text-align:left;&quot;</span><span class="sc">&gt;</span> <span class="fl">24.3</span> (<span class="fl">1.46</span>) <span class="sc">&lt;</span><span class="er">/</span>td<span class="sc">&gt;</span></span>
<span id="cb74-23"><a href="wrangling-data-to-create-your-first-table.html#cb74-23" aria-hidden="true" tabindex="-1"></a>   <span class="er">&lt;</span>td style<span class="ot">=</span><span class="st">&quot;text-align:left;&quot;</span><span class="sc">&gt;</span> <span class="dv">22</span> (<span class="fl">1.25</span>) <span class="sc">&lt;</span><span class="er">/</span>td<span class="sc">&gt;</span></span>
<span id="cb74-24"><a href="wrangling-data-to-create-your-first-table.html#cb74-24" aria-hidden="true" tabindex="-1"></a>   <span class="er">&lt;</span>td style<span class="ot">=</span><span class="st">&quot;text-align:left;&quot;</span><span class="sc">&gt;</span> <span class="fl">23.6</span> (<span class="fl">4.11</span>) <span class="sc">&lt;</span><span class="er">/</span>td<span class="sc">&gt;</span></span>
<span id="cb74-25"><a href="wrangling-data-to-create-your-first-table.html#cb74-25" aria-hidden="true" tabindex="-1"></a>  <span class="er">&lt;/</span>tr<span class="sc">&gt;</span></span>
<span id="cb74-26"><a href="wrangling-data-to-create-your-first-table.html#cb74-26" aria-hidden="true" tabindex="-1"></a>  <span class="er">&lt;</span>tr<span class="sc">&gt;</span></span>
<span id="cb74-27"><a href="wrangling-data-to-create-your-first-table.html#cb74-27" aria-hidden="true" tabindex="-1"></a>   <span class="er">&lt;</span>td style<span class="ot">=</span><span class="st">&quot;text-align:left;&quot;</span><span class="sc">&gt;</span> <span class="fu">Mass</span> (kg) <span class="sc">&lt;</span><span class="er">/</span>td<span class="sc">&gt;</span></span>
<span id="cb74-28"><a href="wrangling-data-to-create-your-first-table.html#cb74-28" aria-hidden="true" tabindex="-1"></a>   <span class="er">&lt;</span>td style<span class="ot">=</span><span class="st">&quot;text-align:left;&quot;</span><span class="sc">&gt;</span> <span class="fl">64.6</span> (<span class="fl">9.71</span>) <span class="sc">&lt;</span><span class="er">/</span>td<span class="sc">&gt;</span></span>
<span id="cb74-29"><a href="wrangling-data-to-create-your-first-table.html#cb74-29" aria-hidden="true" tabindex="-1"></a>   <span class="er">&lt;</span>td style<span class="ot">=</span><span class="st">&quot;text-align:left;&quot;</span><span class="sc">&gt;</span> <span class="fl">88.2</span> (<span class="fl">22.4</span>) <span class="sc">&lt;</span><span class="er">/</span>td<span class="sc">&gt;</span></span>
<span id="cb74-30"><a href="wrangling-data-to-create-your-first-table.html#cb74-30" aria-hidden="true" tabindex="-1"></a>   <span class="er">&lt;</span>td style<span class="ot">=</span><span class="st">&quot;text-align:left;&quot;</span><span class="sc">&gt;</span> <span class="fl">64.4</span> (<span class="fl">10.4</span>) <span class="sc">&lt;</span><span class="er">/</span>td<span class="sc">&gt;</span></span>
<span id="cb74-31"><a href="wrangling-data-to-create-your-first-table.html#cb74-31" aria-hidden="true" tabindex="-1"></a>   <span class="er">&lt;</span>td style<span class="ot">=</span><span class="st">&quot;text-align:left;&quot;</span><span class="sc">&gt;</span> <span class="fl">75.8</span> (<span class="fl">10.7</span>) <span class="sc">&lt;</span><span class="er">/</span>td<span class="sc">&gt;</span></span>
<span id="cb74-32"><a href="wrangling-data-to-create-your-first-table.html#cb74-32" aria-hidden="true" tabindex="-1"></a>  <span class="er">&lt;/</span>tr<span class="sc">&gt;</span></span>
<span id="cb74-33"><a href="wrangling-data-to-create-your-first-table.html#cb74-33" aria-hidden="true" tabindex="-1"></a>  <span class="er">&lt;</span>tr<span class="sc">&gt;</span></span>
<span id="cb74-34"><a href="wrangling-data-to-create-your-first-table.html#cb74-34" aria-hidden="true" tabindex="-1"></a>   <span class="er">&lt;</span>td style<span class="ot">=</span><span class="st">&quot;text-align:left;&quot;</span><span class="sc">&gt;</span> <span class="fu">Stature</span> (cm) <span class="sc">&lt;</span><span class="er">/</span>td<span class="sc">&gt;</span></span>
<span id="cb74-35"><a href="wrangling-data-to-create-your-first-table.html#cb74-35" aria-hidden="true" tabindex="-1"></a>   <span class="er">&lt;</span>td style<span class="ot">=</span><span class="st">&quot;text-align:left;&quot;</span><span class="sc">&gt;</span> <span class="dv">166</span> (<span class="fl">7.59</span>) <span class="sc">&lt;</span><span class="er">/</span>td<span class="sc">&gt;</span></span>
<span id="cb74-36"><a href="wrangling-data-to-create-your-first-table.html#cb74-36" aria-hidden="true" tabindex="-1"></a>   <span class="er">&lt;</span>td style<span class="ot">=</span><span class="st">&quot;text-align:left;&quot;</span><span class="sc">&gt;</span> <span class="dv">189</span> (<span class="fl">4.58</span>) <span class="sc">&lt;</span><span class="er">/</span>td<span class="sc">&gt;</span></span>
<span id="cb74-37"><a href="wrangling-data-to-create-your-first-table.html#cb74-37" aria-hidden="true" tabindex="-1"></a>   <span class="er">&lt;</span>td style<span class="ot">=</span><span class="st">&quot;text-align:left;&quot;</span><span class="sc">&gt;</span> <span class="dv">168</span> (<span class="fl">6.87</span>) <span class="sc">&lt;</span><span class="er">/</span>td<span class="sc">&gt;</span></span>
<span id="cb74-38"><a href="wrangling-data-to-create-your-first-table.html#cb74-38" aria-hidden="true" tabindex="-1"></a>   <span class="er">&lt;</span>td style<span class="ot">=</span><span class="st">&quot;text-align:left;&quot;</span><span class="sc">&gt;</span> <span class="dv">183</span> (<span class="fl">5.88</span>) <span class="sc">&lt;</span><span class="er">/</span>td<span class="sc">&gt;</span></span>
<span id="cb74-39"><a href="wrangling-data-to-create-your-first-table.html#cb74-39" aria-hidden="true" tabindex="-1"></a>  <span class="er">&lt;/</span>tr<span class="sc">&gt;</span></span>
<span id="cb74-40"><a href="wrangling-data-to-create-your-first-table.html#cb74-40" aria-hidden="true" tabindex="-1"></a>  <span class="er">&lt;</span>tr<span class="sc">&gt;</span></span>
<span id="cb74-41"><a href="wrangling-data-to-create-your-first-table.html#cb74-41" aria-hidden="true" tabindex="-1"></a>   <span class="er">&lt;</span>td style<span class="ot">=</span><span class="st">&quot;text-align:left;&quot;</span><span class="sc">&gt;</span> Body <span class="fu">fat</span> (%) <span class="sc">&lt;</span><span class="er">/</span>td<span class="sc">&gt;</span></span>
<span id="cb74-42"><a href="wrangling-data-to-create-your-first-table.html#cb74-42" aria-hidden="true" tabindex="-1"></a>   <span class="er">&lt;</span>td style<span class="ot">=</span><span class="st">&quot;text-align:left;&quot;</span><span class="sc">&gt;</span> <span class="fl">28.8</span> (<span class="fl">8.69</span>) <span class="sc">&lt;</span><span class="er">/</span>td<span class="sc">&gt;</span></span>
<span id="cb74-43"><a href="wrangling-data-to-create-your-first-table.html#cb74-43" aria-hidden="true" tabindex="-1"></a>   <span class="er">&lt;</span>td style<span class="ot">=</span><span class="st">&quot;text-align:left;&quot;</span><span class="sc">&gt;</span> <span class="fl">24.3</span> (<span class="fl">15.3</span>) <span class="sc">&lt;</span><span class="er">/</span>td<span class="sc">&gt;</span></span>
<span id="cb74-44"><a href="wrangling-data-to-create-your-first-table.html#cb74-44" aria-hidden="true" tabindex="-1"></a>   <span class="er">&lt;</span>td style<span class="ot">=</span><span class="st">&quot;text-align:left;&quot;</span><span class="sc">&gt;</span> <span class="fl">34.1</span> (<span class="fl">5.64</span>) <span class="sc">&lt;</span><span class="er">/</span>td<span class="sc">&gt;</span></span>
<span id="cb74-45"><a href="wrangling-data-to-create-your-first-table.html#cb74-45" aria-hidden="true" tabindex="-1"></a>   <span class="er">&lt;</span>td style<span class="ot">=</span><span class="st">&quot;text-align:left;&quot;</span><span class="sc">&gt;</span> <span class="fl">20.4</span> (<span class="fl">5.99</span>) <span class="sc">&lt;</span><span class="er">/</span>td<span class="sc">&gt;</span></span>
<span id="cb74-46"><a href="wrangling-data-to-create-your-first-table.html#cb74-46" aria-hidden="true" tabindex="-1"></a>  <span class="er">&lt;/</span>tr<span class="sc">&gt;</span></span>
<span id="cb74-47"><a href="wrangling-data-to-create-your-first-table.html#cb74-47" aria-hidden="true" tabindex="-1"></a><span class="er">&lt;/</span>tbody<span class="sc">&gt;</span></span>
<span id="cb74-48"><a href="wrangling-data-to-create-your-first-table.html#cb74-48" aria-hidden="true" tabindex="-1"></a><span class="er">&lt;/</span>table<span class="sc">&gt;</span></span></code></pre></div>
<p>This is “html” code. For some reason, RStudio will not interpret it as html-code and preview it in the Viewer pane, yet. We will now add some information to our table. First we want to change the headings. In <code>kable</code> we do this by setting the <code>col.names</code> argument. We do not need to repeat ourselves adding “Female” and “Male” to columns 2 and 3, and 4 and 5, respectively. Instead we specify the “Include”/“Exclude” grouping.</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="wrangling-data-to-create-your-first-table.html#cb75-1" aria-hidden="true" tabindex="-1"></a>dxadata <span class="sc">%&gt;%</span> <span class="co"># take the dxadata data set</span></span>
<span id="cb75-2"><a href="wrangling-data-to-create-your-first-table.html#cb75-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(participant, time, sex, include<span class="sc">:</span>weight, fat.whole) <span class="sc">%&gt;%</span> </span>
<span id="cb75-3"><a href="wrangling-data-to-create-your-first-table.html#cb75-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># select participant, time, sex, include to height and fat.whole</span></span>
<span id="cb75-4"><a href="wrangling-data-to-create-your-first-table.html#cb75-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb75-5"><a href="wrangling-data-to-create-your-first-table.html#cb75-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Filter to keep all observations with pre</span></span>
<span id="cb75-6"><a href="wrangling-data-to-create-your-first-table.html#cb75-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(time <span class="sc">==</span> <span class="st">&quot;pre&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb75-7"><a href="wrangling-data-to-create-your-first-table.html#cb75-7" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb75-8"><a href="wrangling-data-to-create-your-first-table.html#cb75-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate body fat</span></span>
<span id="cb75-9"><a href="wrangling-data-to-create-your-first-table.html#cb75-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># fat.whole in grams, needs to be divided by 1000 to express as kg</span></span>
<span id="cb75-10"><a href="wrangling-data-to-create-your-first-table.html#cb75-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Multiply by 100 to get percentage</span></span>
<span id="cb75-11"><a href="wrangling-data-to-create-your-first-table.html#cb75-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">fat.whole =</span> ((fat.whole<span class="sc">/</span><span class="dv">1000</span>) <span class="sc">/</span> weight) <span class="sc">*</span> <span class="dv">100</span>) <span class="sc">%&gt;%</span></span>
<span id="cb75-12"><a href="wrangling-data-to-create-your-first-table.html#cb75-12" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb75-13"><a href="wrangling-data-to-create-your-first-table.html#cb75-13" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Group the data frame and add a variable specifying the number of observations per group</span></span>
<span id="cb75-14"><a href="wrangling-data-to-create-your-first-table.html#cb75-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(include, sex) <span class="sc">%&gt;%</span></span>
<span id="cb75-15"><a href="wrangling-data-to-create-your-first-table.html#cb75-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb75-16"><a href="wrangling-data-to-create-your-first-table.html#cb75-16" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Collect all variables for convenient summarizing</span></span>
<span id="cb75-17"><a href="wrangling-data-to-create-your-first-table.html#cb75-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">names_to =</span> <span class="st">&quot;variable&quot;</span>, </span>
<span id="cb75-18"><a href="wrangling-data-to-create-your-first-table.html#cb75-18" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">&quot;value&quot;</span>, </span>
<span id="cb75-19"><a href="wrangling-data-to-create-your-first-table.html#cb75-19" aria-hidden="true" tabindex="-1"></a>               <span class="at">cols =</span> age<span class="sc">:</span>n) <span class="sc">%&gt;%</span></span>
<span id="cb75-20"><a href="wrangling-data-to-create-your-first-table.html#cb75-20" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create a new grouping, adding variable</span></span>
<span id="cb75-21"><a href="wrangling-data-to-create-your-first-table.html#cb75-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(include, sex, variable) <span class="sc">%&gt;%</span></span>
<span id="cb75-22"><a href="wrangling-data-to-create-your-first-table.html#cb75-22" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Summarize in two new variables m for mean and s for SD</span></span>
<span id="cb75-23"><a href="wrangling-data-to-create-your-first-table.html#cb75-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">m =</span> <span class="fu">mean</span>(value), </span>
<span id="cb75-24"><a href="wrangling-data-to-create-your-first-table.html#cb75-24" aria-hidden="true" tabindex="-1"></a>            <span class="at">s =</span> <span class="fu">sd</span>(value)) <span class="sc">%&gt;%</span></span>
<span id="cb75-25"><a href="wrangling-data-to-create-your-first-table.html#cb75-25" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add descriptive statistics together for nice formatting</span></span>
<span id="cb75-26"><a href="wrangling-data-to-create-your-first-table.html#cb75-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ms =</span> <span class="fu">if_else</span>(variable <span class="sc">==</span> <span class="st">&quot;n&quot;</span>, <span class="co"># If the variable is n</span></span>
<span id="cb75-27"><a href="wrangling-data-to-create-your-first-table.html#cb75-27" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">as.character</span>(m), <span class="co"># the only display the mean, otherwise:</span></span>
<span id="cb75-28"><a href="wrangling-data-to-create-your-first-table.html#cb75-28" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">paste0</span>(<span class="fu">signif</span>(m, <span class="dv">3</span>), <span class="co"># Use signif to round to significant numbers</span></span>
<span id="cb75-29"><a href="wrangling-data-to-create-your-first-table.html#cb75-29" aria-hidden="true" tabindex="-1"></a>                        <span class="st">&quot; (&quot;</span>,</span>
<span id="cb75-30"><a href="wrangling-data-to-create-your-first-table.html#cb75-30" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">signif</span>(s, <span class="dv">3</span>), </span>
<span id="cb75-31"><a href="wrangling-data-to-create-your-first-table.html#cb75-31" aria-hidden="true" tabindex="-1"></a>                        <span class="st">&quot;)&quot;</span>)), </span>
<span id="cb75-32"><a href="wrangling-data-to-create-your-first-table.html#cb75-32" aria-hidden="true" tabindex="-1"></a>         <span class="co"># Doing a new grouping variable</span></span>
<span id="cb75-33"><a href="wrangling-data-to-create-your-first-table.html#cb75-33" aria-hidden="true" tabindex="-1"></a>         <span class="at">include_sex =</span> <span class="fu">paste</span>(include, sex, <span class="at">sep =</span> <span class="st">&quot;_&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb75-34"><a href="wrangling-data-to-create-your-first-table.html#cb75-34" aria-hidden="true" tabindex="-1"></a>  <span class="co"># removing unnecessary variables after ungrouping</span></span>
<span id="cb75-35"><a href="wrangling-data-to-create-your-first-table.html#cb75-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb75-36"><a href="wrangling-data-to-create-your-first-table.html#cb75-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-37"><a href="wrangling-data-to-create-your-first-table.html#cb75-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>sex, <span class="sc">-</span>include, <span class="sc">-</span>m, <span class="sc">-</span>s) <span class="sc">%&gt;%</span></span>
<span id="cb75-38"><a href="wrangling-data-to-create-your-first-table.html#cb75-38" aria-hidden="true" tabindex="-1"></a>  <span class="co"># pivot wider to match the desired data</span></span>
<span id="cb75-39"><a href="wrangling-data-to-create-your-first-table.html#cb75-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> include_sex, </span>
<span id="cb75-40"><a href="wrangling-data-to-create-your-first-table.html#cb75-40" aria-hidden="true" tabindex="-1"></a>              <span class="at">values_from =</span> ms) <span class="sc">%&gt;%</span></span>
<span id="cb75-41"><a href="wrangling-data-to-create-your-first-table.html#cb75-41" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">variable =</span> <span class="fu">factor</span>(variable, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;n&quot;</span>, <span class="st">&quot;age&quot;</span>, <span class="st">&quot;weight&quot;</span>, <span class="st">&quot;height&quot;</span>, <span class="st">&quot;fat.whole&quot;</span>), </span>
<span id="cb75-42"><a href="wrangling-data-to-create-your-first-table.html#cb75-42" aria-hidden="true" tabindex="-1"></a>                           <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;N&quot;</span>, <span class="st">&quot;Age (years)&quot;</span>, <span class="st">&quot;Mass (kg)&quot;</span>, </span>
<span id="cb75-43"><a href="wrangling-data-to-create-your-first-table.html#cb75-43" aria-hidden="true" tabindex="-1"></a>                                      <span class="st">&quot;Stature (cm)&quot;</span>, <span class="st">&quot;Body fat (%)&quot;</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb75-44"><a href="wrangling-data-to-create-your-first-table.html#cb75-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(variable, incl_female, excl_female, incl_male, excl_male) <span class="sc">%&gt;%</span></span>
<span id="cb75-45"><a href="wrangling-data-to-create-your-first-table.html#cb75-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(variable) <span class="sc">%&gt;%</span></span>
<span id="cb75-46"><a href="wrangling-data-to-create-your-first-table.html#cb75-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">format =</span> <span class="st">&quot;html&quot;</span>, <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">&quot; &quot;</span>, <span class="st">&quot;Included&quot;</span>, <span class="st">&quot;Excluded&quot;</span>, <span class="st">&quot;Included&quot;</span>, <span class="st">&quot;Excluded&quot;</span>))</span></code></pre></div>
<p>Notice that I added a final <code>select</code> function to arrange the columns of the table. The <code>col.names=</code> argeumnet is specified in the same order. But how to separate male from females. This is where <code>kableExtra</code> comes in. This package provides functions for customizing the simple <code>kable</code> table. Using the function <code>add_header_above</code> we can specify in a “named character vector” what headers we want over a certain column span. We do not want any information in the first column, but we want “Female” to span two columns followed by “Male” spanning two columns. The resulting code will look like this: <code>add_header_above(c(" " = 1, "Female" = 2, "Male", = 2))</code>. Adding this code to our pipe (for some reason at least in my RStudio) puts the table output in the viewer pane!</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="wrangling-data-to-create-your-first-table.html#cb76-1" aria-hidden="true" tabindex="-1"></a>dxadata <span class="sc">%&gt;%</span> <span class="co"># take the dxadata data set</span></span>
<span id="cb76-2"><a href="wrangling-data-to-create-your-first-table.html#cb76-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(participant, time, sex, include<span class="sc">:</span>weight, fat.whole) <span class="sc">%&gt;%</span> </span>
<span id="cb76-3"><a href="wrangling-data-to-create-your-first-table.html#cb76-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># select participant, time, sex, include to height and fat.whole</span></span>
<span id="cb76-4"><a href="wrangling-data-to-create-your-first-table.html#cb76-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb76-5"><a href="wrangling-data-to-create-your-first-table.html#cb76-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Filter to keep all observations with pre</span></span>
<span id="cb76-6"><a href="wrangling-data-to-create-your-first-table.html#cb76-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(time <span class="sc">==</span> <span class="st">&quot;pre&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb76-7"><a href="wrangling-data-to-create-your-first-table.html#cb76-7" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb76-8"><a href="wrangling-data-to-create-your-first-table.html#cb76-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate body fat</span></span>
<span id="cb76-9"><a href="wrangling-data-to-create-your-first-table.html#cb76-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># fat.whole in grams, needs to be divided by 1000 to express as kg</span></span>
<span id="cb76-10"><a href="wrangling-data-to-create-your-first-table.html#cb76-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Multiply by 100 to get percentage</span></span>
<span id="cb76-11"><a href="wrangling-data-to-create-your-first-table.html#cb76-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">fat.whole =</span> ((fat.whole<span class="sc">/</span><span class="dv">1000</span>) <span class="sc">/</span> weight) <span class="sc">*</span> <span class="dv">100</span>) <span class="sc">%&gt;%</span></span>
<span id="cb76-12"><a href="wrangling-data-to-create-your-first-table.html#cb76-12" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb76-13"><a href="wrangling-data-to-create-your-first-table.html#cb76-13" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Group the data frame and add a variable specifying the number of observations per group</span></span>
<span id="cb76-14"><a href="wrangling-data-to-create-your-first-table.html#cb76-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(include, sex) <span class="sc">%&gt;%</span></span>
<span id="cb76-15"><a href="wrangling-data-to-create-your-first-table.html#cb76-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb76-16"><a href="wrangling-data-to-create-your-first-table.html#cb76-16" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Collect all variables for convenient summarizing</span></span>
<span id="cb76-17"><a href="wrangling-data-to-create-your-first-table.html#cb76-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">names_to =</span> <span class="st">&quot;variable&quot;</span>, </span>
<span id="cb76-18"><a href="wrangling-data-to-create-your-first-table.html#cb76-18" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">&quot;value&quot;</span>, </span>
<span id="cb76-19"><a href="wrangling-data-to-create-your-first-table.html#cb76-19" aria-hidden="true" tabindex="-1"></a>               <span class="at">cols =</span> age<span class="sc">:</span>n) <span class="sc">%&gt;%</span></span>
<span id="cb76-20"><a href="wrangling-data-to-create-your-first-table.html#cb76-20" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create a new grouping, adding variable</span></span>
<span id="cb76-21"><a href="wrangling-data-to-create-your-first-table.html#cb76-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(include, sex, variable) <span class="sc">%&gt;%</span></span>
<span id="cb76-22"><a href="wrangling-data-to-create-your-first-table.html#cb76-22" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Summarize in two new variables m for mean and s for SD</span></span>
<span id="cb76-23"><a href="wrangling-data-to-create-your-first-table.html#cb76-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">m =</span> <span class="fu">mean</span>(value), </span>
<span id="cb76-24"><a href="wrangling-data-to-create-your-first-table.html#cb76-24" aria-hidden="true" tabindex="-1"></a>            <span class="at">s =</span> <span class="fu">sd</span>(value)) <span class="sc">%&gt;%</span></span>
<span id="cb76-25"><a href="wrangling-data-to-create-your-first-table.html#cb76-25" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add descriptive statistics together for nice formatting</span></span>
<span id="cb76-26"><a href="wrangling-data-to-create-your-first-table.html#cb76-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ms =</span> <span class="fu">if_else</span>(variable <span class="sc">==</span> <span class="st">&quot;n&quot;</span>, <span class="co"># If the variable is n</span></span>
<span id="cb76-27"><a href="wrangling-data-to-create-your-first-table.html#cb76-27" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">as.character</span>(m), <span class="co"># the only display the mean, otherwise:</span></span>
<span id="cb76-28"><a href="wrangling-data-to-create-your-first-table.html#cb76-28" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">paste0</span>(<span class="fu">signif</span>(m, <span class="dv">3</span>), <span class="co"># Use signif to round to significant numbers</span></span>
<span id="cb76-29"><a href="wrangling-data-to-create-your-first-table.html#cb76-29" aria-hidden="true" tabindex="-1"></a>                        <span class="st">&quot; (&quot;</span>,</span>
<span id="cb76-30"><a href="wrangling-data-to-create-your-first-table.html#cb76-30" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">signif</span>(s, <span class="dv">3</span>), </span>
<span id="cb76-31"><a href="wrangling-data-to-create-your-first-table.html#cb76-31" aria-hidden="true" tabindex="-1"></a>                        <span class="st">&quot;)&quot;</span>)), </span>
<span id="cb76-32"><a href="wrangling-data-to-create-your-first-table.html#cb76-32" aria-hidden="true" tabindex="-1"></a>         <span class="co"># Doing a new grouping variable</span></span>
<span id="cb76-33"><a href="wrangling-data-to-create-your-first-table.html#cb76-33" aria-hidden="true" tabindex="-1"></a>         <span class="at">include_sex =</span> <span class="fu">paste</span>(include, sex, <span class="at">sep =</span> <span class="st">&quot;_&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb76-34"><a href="wrangling-data-to-create-your-first-table.html#cb76-34" aria-hidden="true" tabindex="-1"></a>  <span class="co"># removing unnecessary variables after ungrouping</span></span>
<span id="cb76-35"><a href="wrangling-data-to-create-your-first-table.html#cb76-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb76-36"><a href="wrangling-data-to-create-your-first-table.html#cb76-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-37"><a href="wrangling-data-to-create-your-first-table.html#cb76-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>sex, <span class="sc">-</span>include, <span class="sc">-</span>m, <span class="sc">-</span>s) <span class="sc">%&gt;%</span></span>
<span id="cb76-38"><a href="wrangling-data-to-create-your-first-table.html#cb76-38" aria-hidden="true" tabindex="-1"></a>  <span class="co"># pivot wider to match the desired data</span></span>
<span id="cb76-39"><a href="wrangling-data-to-create-your-first-table.html#cb76-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> include_sex, </span>
<span id="cb76-40"><a href="wrangling-data-to-create-your-first-table.html#cb76-40" aria-hidden="true" tabindex="-1"></a>              <span class="at">values_from =</span> ms) <span class="sc">%&gt;%</span></span>
<span id="cb76-41"><a href="wrangling-data-to-create-your-first-table.html#cb76-41" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">variable =</span> <span class="fu">factor</span>(variable, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;n&quot;</span>, <span class="st">&quot;age&quot;</span>, <span class="st">&quot;weight&quot;</span>, <span class="st">&quot;height&quot;</span>, <span class="st">&quot;fat.whole&quot;</span>), </span>
<span id="cb76-42"><a href="wrangling-data-to-create-your-first-table.html#cb76-42" aria-hidden="true" tabindex="-1"></a>                           <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;N&quot;</span>, <span class="st">&quot;Age (years)&quot;</span>, <span class="st">&quot;Mass (kg)&quot;</span>, </span>
<span id="cb76-43"><a href="wrangling-data-to-create-your-first-table.html#cb76-43" aria-hidden="true" tabindex="-1"></a>                                      <span class="st">&quot;Stature (cm)&quot;</span>, <span class="st">&quot;Body fat (%)&quot;</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb76-44"><a href="wrangling-data-to-create-your-first-table.html#cb76-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(variable, incl_female, excl_female, incl_male, excl_male) <span class="sc">%&gt;%</span></span>
<span id="cb76-45"><a href="wrangling-data-to-create-your-first-table.html#cb76-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(variable) <span class="sc">%&gt;%</span></span>
<span id="cb76-46"><a href="wrangling-data-to-create-your-first-table.html#cb76-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">format =</span> <span class="st">&quot;html&quot;</span>, <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">&quot; &quot;</span>, <span class="st">&quot;Included&quot;</span>, <span class="st">&quot;Excluded&quot;</span>, <span class="st">&quot;Included&quot;</span>, <span class="st">&quot;Excluded&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb76-47"><a href="wrangling-data-to-create-your-first-table.html#cb76-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_header_above</span>(<span class="fu">c</span>(<span class="st">&quot; &quot;</span><span class="ot">=</span> <span class="dv">1</span>, <span class="st">&quot;Female&quot;</span> <span class="ot">=</span> <span class="dv">2</span>, <span class="st">&quot;Male&quot;</span> <span class="ot">=</span> <span class="dv">2</span>))</span></code></pre></div>
<p>The table is almost done! We need to add some last information. Maybe a caption is in place and a footnote describing what the data represents. The caption is added in the <code>kable</code> function using <code>caption = "Table 1. Participant characteristics"</code>. The footnote is added using a function from <code>kableExtra</code>, `add</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="wrangling-data-to-create-your-first-table.html#cb77-1" aria-hidden="true" tabindex="-1"></a>dxadata <span class="sc">%&gt;%</span> <span class="co"># take the dxadata data set</span></span>
<span id="cb77-2"><a href="wrangling-data-to-create-your-first-table.html#cb77-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(participant, time, sex, include<span class="sc">:</span>weight, fat.whole) <span class="sc">%&gt;%</span> </span>
<span id="cb77-3"><a href="wrangling-data-to-create-your-first-table.html#cb77-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># select participant, time, sex, include to height and fat.whole</span></span>
<span id="cb77-4"><a href="wrangling-data-to-create-your-first-table.html#cb77-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb77-5"><a href="wrangling-data-to-create-your-first-table.html#cb77-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Filter to keep all observations with pre</span></span>
<span id="cb77-6"><a href="wrangling-data-to-create-your-first-table.html#cb77-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(time <span class="sc">==</span> <span class="st">&quot;pre&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb77-7"><a href="wrangling-data-to-create-your-first-table.html#cb77-7" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb77-8"><a href="wrangling-data-to-create-your-first-table.html#cb77-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate body fat</span></span>
<span id="cb77-9"><a href="wrangling-data-to-create-your-first-table.html#cb77-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># fat.whole in grams, needs to be divided by 1000 to express as kg</span></span>
<span id="cb77-10"><a href="wrangling-data-to-create-your-first-table.html#cb77-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Multiply by 100 to get percentage</span></span>
<span id="cb77-11"><a href="wrangling-data-to-create-your-first-table.html#cb77-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">fat.whole =</span> ((fat.whole<span class="sc">/</span><span class="dv">1000</span>) <span class="sc">/</span> weight) <span class="sc">*</span> <span class="dv">100</span>) <span class="sc">%&gt;%</span></span>
<span id="cb77-12"><a href="wrangling-data-to-create-your-first-table.html#cb77-12" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb77-13"><a href="wrangling-data-to-create-your-first-table.html#cb77-13" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Group the data frame and add a variable specifying the number of observations per group</span></span>
<span id="cb77-14"><a href="wrangling-data-to-create-your-first-table.html#cb77-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(include, sex) <span class="sc">%&gt;%</span></span>
<span id="cb77-15"><a href="wrangling-data-to-create-your-first-table.html#cb77-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb77-16"><a href="wrangling-data-to-create-your-first-table.html#cb77-16" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Collect all variables for convenient summarizing</span></span>
<span id="cb77-17"><a href="wrangling-data-to-create-your-first-table.html#cb77-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">names_to =</span> <span class="st">&quot;variable&quot;</span>, </span>
<span id="cb77-18"><a href="wrangling-data-to-create-your-first-table.html#cb77-18" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">&quot;value&quot;</span>, </span>
<span id="cb77-19"><a href="wrangling-data-to-create-your-first-table.html#cb77-19" aria-hidden="true" tabindex="-1"></a>               <span class="at">cols =</span> age<span class="sc">:</span>n) <span class="sc">%&gt;%</span></span>
<span id="cb77-20"><a href="wrangling-data-to-create-your-first-table.html#cb77-20" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create a new grouping, adding variable</span></span>
<span id="cb77-21"><a href="wrangling-data-to-create-your-first-table.html#cb77-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(include, sex, variable) <span class="sc">%&gt;%</span></span>
<span id="cb77-22"><a href="wrangling-data-to-create-your-first-table.html#cb77-22" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Summarize in two new variables m for mean and s for SD</span></span>
<span id="cb77-23"><a href="wrangling-data-to-create-your-first-table.html#cb77-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">m =</span> <span class="fu">mean</span>(value), </span>
<span id="cb77-24"><a href="wrangling-data-to-create-your-first-table.html#cb77-24" aria-hidden="true" tabindex="-1"></a>            <span class="at">s =</span> <span class="fu">sd</span>(value)) <span class="sc">%&gt;%</span></span>
<span id="cb77-25"><a href="wrangling-data-to-create-your-first-table.html#cb77-25" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add descriptive statistics together for nice formatting</span></span>
<span id="cb77-26"><a href="wrangling-data-to-create-your-first-table.html#cb77-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ms =</span> <span class="fu">if_else</span>(variable <span class="sc">==</span> <span class="st">&quot;n&quot;</span>, <span class="co"># If the variable is n</span></span>
<span id="cb77-27"><a href="wrangling-data-to-create-your-first-table.html#cb77-27" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">as.character</span>(m), <span class="co"># the only display the mean, otherwise:</span></span>
<span id="cb77-28"><a href="wrangling-data-to-create-your-first-table.html#cb77-28" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">paste0</span>(<span class="fu">signif</span>(m, <span class="dv">3</span>), <span class="co"># Use signif to round to significant numbers</span></span>
<span id="cb77-29"><a href="wrangling-data-to-create-your-first-table.html#cb77-29" aria-hidden="true" tabindex="-1"></a>                        <span class="st">&quot; (&quot;</span>,</span>
<span id="cb77-30"><a href="wrangling-data-to-create-your-first-table.html#cb77-30" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">signif</span>(s, <span class="dv">3</span>), </span>
<span id="cb77-31"><a href="wrangling-data-to-create-your-first-table.html#cb77-31" aria-hidden="true" tabindex="-1"></a>                        <span class="st">&quot;)&quot;</span>)), </span>
<span id="cb77-32"><a href="wrangling-data-to-create-your-first-table.html#cb77-32" aria-hidden="true" tabindex="-1"></a>         <span class="co"># Doing a new grouping variable</span></span>
<span id="cb77-33"><a href="wrangling-data-to-create-your-first-table.html#cb77-33" aria-hidden="true" tabindex="-1"></a>         <span class="at">include_sex =</span> <span class="fu">paste</span>(include, sex, <span class="at">sep =</span> <span class="st">&quot;_&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb77-34"><a href="wrangling-data-to-create-your-first-table.html#cb77-34" aria-hidden="true" tabindex="-1"></a>  <span class="co"># removing unnecessary variables after ungrouping</span></span>
<span id="cb77-35"><a href="wrangling-data-to-create-your-first-table.html#cb77-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb77-36"><a href="wrangling-data-to-create-your-first-table.html#cb77-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-37"><a href="wrangling-data-to-create-your-first-table.html#cb77-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>sex, <span class="sc">-</span>include, <span class="sc">-</span>m, <span class="sc">-</span>s) <span class="sc">%&gt;%</span></span>
<span id="cb77-38"><a href="wrangling-data-to-create-your-first-table.html#cb77-38" aria-hidden="true" tabindex="-1"></a>  <span class="co"># pivot wider to match the desired data</span></span>
<span id="cb77-39"><a href="wrangling-data-to-create-your-first-table.html#cb77-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> include_sex, </span>
<span id="cb77-40"><a href="wrangling-data-to-create-your-first-table.html#cb77-40" aria-hidden="true" tabindex="-1"></a>              <span class="at">values_from =</span> ms) <span class="sc">%&gt;%</span></span>
<span id="cb77-41"><a href="wrangling-data-to-create-your-first-table.html#cb77-41" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">variable =</span> <span class="fu">factor</span>(variable, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;n&quot;</span>, <span class="st">&quot;age&quot;</span>, <span class="st">&quot;weight&quot;</span>, <span class="st">&quot;height&quot;</span>, <span class="st">&quot;fat.whole&quot;</span>), </span>
<span id="cb77-42"><a href="wrangling-data-to-create-your-first-table.html#cb77-42" aria-hidden="true" tabindex="-1"></a>                           <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;N&quot;</span>, <span class="st">&quot;Age (years)&quot;</span>, <span class="st">&quot;Mass (kg)&quot;</span>, </span>
<span id="cb77-43"><a href="wrangling-data-to-create-your-first-table.html#cb77-43" aria-hidden="true" tabindex="-1"></a>                                      <span class="st">&quot;Stature (cm)&quot;</span>, <span class="st">&quot;Body fat (%)&quot;</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb77-44"><a href="wrangling-data-to-create-your-first-table.html#cb77-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(variable, incl_female, excl_female, incl_male, excl_male) <span class="sc">%&gt;%</span></span>
<span id="cb77-45"><a href="wrangling-data-to-create-your-first-table.html#cb77-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(variable) <span class="sc">%&gt;%</span></span>
<span id="cb77-46"><a href="wrangling-data-to-create-your-first-table.html#cb77-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">format =</span> <span class="st">&quot;html&quot;</span>, </span>
<span id="cb77-47"><a href="wrangling-data-to-create-your-first-table.html#cb77-47" aria-hidden="true" tabindex="-1"></a>        <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">&quot; &quot;</span>, <span class="st">&quot;Included&quot;</span>, <span class="st">&quot;Excluded&quot;</span>, <span class="st">&quot;Included&quot;</span>, <span class="st">&quot;Excluded&quot;</span>), </span>
<span id="cb77-48"><a href="wrangling-data-to-create-your-first-table.html#cb77-48" aria-hidden="true" tabindex="-1"></a>        <span class="at">caption =</span> <span class="st">&quot;Table 1. Participant characteristics.&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb77-49"><a href="wrangling-data-to-create-your-first-table.html#cb77-49" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_header_above</span>(<span class="fu">c</span>(<span class="st">&quot; &quot;</span><span class="ot">=</span> <span class="dv">1</span>, <span class="st">&quot;Female&quot;</span> <span class="ot">=</span> <span class="dv">2</span>, <span class="st">&quot;Male&quot;</span> <span class="ot">=</span> <span class="dv">2</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb77-50"><a href="wrangling-data-to-create-your-first-table.html#cb77-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_footnote</span>(<span class="at">label =</span> <span class="st">&quot;Data are means and standard deviations (SD).&quot;</span>,</span>
<span id="cb77-51"><a href="wrangling-data-to-create-your-first-table.html#cb77-51" aria-hidden="true" tabindex="-1"></a>               <span class="at">notation =</span> <span class="st">&quot;none&quot;</span>)</span></code></pre></div>
<p>Success! The table is complete. As with alot of things in R, there are <em>at least</em> five ways of getting to this end result, and there still might be some things to tweak to make it look even more like Table 1 in <span class="citation">(<a href="references.html#ref-RN2358" role="doc-biblioref">Hammarström et al. 2020</a>)</span>.</p>
</div>
</div>
<div id="summary" class="section level2" number="6.2">
<h2><span class="header-section-number">6.2</span> Summary</h2>
<p>In the example above we have introduced functions from <code>dplyr</code>, from the <a href="https://dplyr.tidyverse.org/"><code>dplyr</code> documentation</a>:</p>
<ul>
<li><code>mutate()</code> adds new variables that are functions of existing variables</li>
<li><code>select()</code> picks variables based on their names.</li>
<li><code>filter()</code> picks cases based on their values.</li>
<li><code>summarise()</code> reduces multiple values down to a single summary.</li>
<li><code>arrange()</code> changes the ordering of the rows.</li>
</ul>
<p>We have also explored <code>pivot_wider</code> and <code>pivot_longer</code> from the <a href="https://tidyr.tidyverse.org/"><code>tidyr</code> package</a>.</p>
<p>We used the above functions to prepare a table. The table was then made pretty by using <a href="https://bookdown.org/yihui/rmarkdown-cookbook/kable.html"><code>kable</code></a> from the <code>knitr</code> package. Functions from <code>kableExtra</code> gave us ways of making the table more suited to what we wanted to show.</p>
<p>The <a href="https://cran.r-project.org/web/packages/kableExtra/vignettes/awesome_table_in_html.html">vignette describining the kableExtra package</a> is highly recommended! If you want to extend to pdf-tables (which are really nice!). Use the <span class="math inline">\(\LaTeX\)</span> vignette found <a href="https://cran.r-project.org/web/packages/kableExtra/vignettes/awesome_table_in_pdf.pdf">here</a>. When creating pdf/<span class="math inline">\(\LaTeX\)</span> tables/reports some basic understandning of <span class="math inline">\(\LaTeX\)</span> is good.</p>
</div>
<div id="flextable" class="section level2" number="6.3">
<h2><span class="header-section-number">6.3</span> Flextable</h2>
<p>Flextable comes with the option of specifying tables directly in word outputs. This does not need any further formatting compared to HTML formatting.</p>
<p>Lets use the the same pipe as used above to specify the flextable. Flextable also works as part of a pipe. The basic function is <code>flextable</code>.</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="wrangling-data-to-create-your-first-table.html#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(flextable)</span>
<span id="cb78-2"><a href="wrangling-data-to-create-your-first-table.html#cb78-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-3"><a href="wrangling-data-to-create-your-first-table.html#cb78-3" aria-hidden="true" tabindex="-1"></a>dxadata <span class="sc">%&gt;%</span> <span class="co"># take the dxadata data set</span></span>
<span id="cb78-4"><a href="wrangling-data-to-create-your-first-table.html#cb78-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(participant, time, sex, include<span class="sc">:</span>weight, fat.whole) <span class="sc">%&gt;%</span> </span>
<span id="cb78-5"><a href="wrangling-data-to-create-your-first-table.html#cb78-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># select participant, time, sex, include to height and fat.whole</span></span>
<span id="cb78-6"><a href="wrangling-data-to-create-your-first-table.html#cb78-6" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb78-7"><a href="wrangling-data-to-create-your-first-table.html#cb78-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Filter to keep all observations with pre</span></span>
<span id="cb78-8"><a href="wrangling-data-to-create-your-first-table.html#cb78-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(time <span class="sc">==</span> <span class="st">&quot;pre&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb78-9"><a href="wrangling-data-to-create-your-first-table.html#cb78-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb78-10"><a href="wrangling-data-to-create-your-first-table.html#cb78-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate body fat</span></span>
<span id="cb78-11"><a href="wrangling-data-to-create-your-first-table.html#cb78-11" aria-hidden="true" tabindex="-1"></a>  <span class="co"># fat.whole in grams, needs to be divided by 1000 to express as kg</span></span>
<span id="cb78-12"><a href="wrangling-data-to-create-your-first-table.html#cb78-12" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Multiply by 100 to get percentage</span></span>
<span id="cb78-13"><a href="wrangling-data-to-create-your-first-table.html#cb78-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">fat.whole =</span> ((fat.whole<span class="sc">/</span><span class="dv">1000</span>) <span class="sc">/</span> weight) <span class="sc">*</span> <span class="dv">100</span>) <span class="sc">%&gt;%</span></span>
<span id="cb78-14"><a href="wrangling-data-to-create-your-first-table.html#cb78-14" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb78-15"><a href="wrangling-data-to-create-your-first-table.html#cb78-15" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Group the data frame and add a variable specifying the number of observations per group</span></span>
<span id="cb78-16"><a href="wrangling-data-to-create-your-first-table.html#cb78-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(include, sex) <span class="sc">%&gt;%</span></span>
<span id="cb78-17"><a href="wrangling-data-to-create-your-first-table.html#cb78-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb78-18"><a href="wrangling-data-to-create-your-first-table.html#cb78-18" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Collect all variables for convenient summarizing</span></span>
<span id="cb78-19"><a href="wrangling-data-to-create-your-first-table.html#cb78-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">names_to =</span> <span class="st">&quot;variable&quot;</span>, </span>
<span id="cb78-20"><a href="wrangling-data-to-create-your-first-table.html#cb78-20" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">&quot;value&quot;</span>, </span>
<span id="cb78-21"><a href="wrangling-data-to-create-your-first-table.html#cb78-21" aria-hidden="true" tabindex="-1"></a>               <span class="at">cols =</span> age<span class="sc">:</span>n) <span class="sc">%&gt;%</span></span>
<span id="cb78-22"><a href="wrangling-data-to-create-your-first-table.html#cb78-22" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create a new grouping, adding variable</span></span>
<span id="cb78-23"><a href="wrangling-data-to-create-your-first-table.html#cb78-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(include, sex, variable) <span class="sc">%&gt;%</span></span>
<span id="cb78-24"><a href="wrangling-data-to-create-your-first-table.html#cb78-24" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Summarize in two new variables m for mean and s for SD</span></span>
<span id="cb78-25"><a href="wrangling-data-to-create-your-first-table.html#cb78-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">m =</span> <span class="fu">mean</span>(value), </span>
<span id="cb78-26"><a href="wrangling-data-to-create-your-first-table.html#cb78-26" aria-hidden="true" tabindex="-1"></a>            <span class="at">s =</span> <span class="fu">sd</span>(value)) <span class="sc">%&gt;%</span></span>
<span id="cb78-27"><a href="wrangling-data-to-create-your-first-table.html#cb78-27" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add descriptive statistics together for nice formatting</span></span>
<span id="cb78-28"><a href="wrangling-data-to-create-your-first-table.html#cb78-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ms =</span> <span class="fu">if_else</span>(variable <span class="sc">==</span> <span class="st">&quot;n&quot;</span>, <span class="co"># If the variable is n</span></span>
<span id="cb78-29"><a href="wrangling-data-to-create-your-first-table.html#cb78-29" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">as.character</span>(m), <span class="co"># the only display the mean, otherwise:</span></span>
<span id="cb78-30"><a href="wrangling-data-to-create-your-first-table.html#cb78-30" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">paste0</span>(<span class="fu">signif</span>(m, <span class="dv">3</span>), <span class="co"># Use signif to round to significant numbers</span></span>
<span id="cb78-31"><a href="wrangling-data-to-create-your-first-table.html#cb78-31" aria-hidden="true" tabindex="-1"></a>                        <span class="st">&quot; (&quot;</span>,</span>
<span id="cb78-32"><a href="wrangling-data-to-create-your-first-table.html#cb78-32" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">signif</span>(s, <span class="dv">3</span>), </span>
<span id="cb78-33"><a href="wrangling-data-to-create-your-first-table.html#cb78-33" aria-hidden="true" tabindex="-1"></a>                        <span class="st">&quot;)&quot;</span>)), </span>
<span id="cb78-34"><a href="wrangling-data-to-create-your-first-table.html#cb78-34" aria-hidden="true" tabindex="-1"></a>         <span class="co"># Doing a new grouping variable</span></span>
<span id="cb78-35"><a href="wrangling-data-to-create-your-first-table.html#cb78-35" aria-hidden="true" tabindex="-1"></a>         <span class="at">include_sex =</span> <span class="fu">paste</span>(include, sex, <span class="at">sep =</span> <span class="st">&quot;_&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb78-36"><a href="wrangling-data-to-create-your-first-table.html#cb78-36" aria-hidden="true" tabindex="-1"></a>  <span class="co"># removing unnecessary variables after ungrouping</span></span>
<span id="cb78-37"><a href="wrangling-data-to-create-your-first-table.html#cb78-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb78-38"><a href="wrangling-data-to-create-your-first-table.html#cb78-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-39"><a href="wrangling-data-to-create-your-first-table.html#cb78-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>sex, <span class="sc">-</span>include, <span class="sc">-</span>m, <span class="sc">-</span>s) <span class="sc">%&gt;%</span></span>
<span id="cb78-40"><a href="wrangling-data-to-create-your-first-table.html#cb78-40" aria-hidden="true" tabindex="-1"></a>  <span class="co"># pivot wider to match the desired data</span></span>
<span id="cb78-41"><a href="wrangling-data-to-create-your-first-table.html#cb78-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> include_sex, </span>
<span id="cb78-42"><a href="wrangling-data-to-create-your-first-table.html#cb78-42" aria-hidden="true" tabindex="-1"></a>              <span class="at">values_from =</span> ms) <span class="sc">%&gt;%</span></span>
<span id="cb78-43"><a href="wrangling-data-to-create-your-first-table.html#cb78-43" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">variable =</span> <span class="fu">factor</span>(variable, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;n&quot;</span>, <span class="st">&quot;age&quot;</span>, <span class="st">&quot;weight&quot;</span>, <span class="st">&quot;height&quot;</span>, <span class="st">&quot;fat.whole&quot;</span>), </span>
<span id="cb78-44"><a href="wrangling-data-to-create-your-first-table.html#cb78-44" aria-hidden="true" tabindex="-1"></a>                           <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;N&quot;</span>, <span class="st">&quot;Age (years)&quot;</span>, <span class="st">&quot;Mass (kg)&quot;</span>, </span>
<span id="cb78-45"><a href="wrangling-data-to-create-your-first-table.html#cb78-45" aria-hidden="true" tabindex="-1"></a>                                      <span class="st">&quot;Stature (cm)&quot;</span>, <span class="st">&quot;Body fat (%)&quot;</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb78-46"><a href="wrangling-data-to-create-your-first-table.html#cb78-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(variable, incl_female, excl_female, incl_male, excl_male) <span class="sc">%&gt;%</span></span>
<span id="cb78-47"><a href="wrangling-data-to-create-your-first-table.html#cb78-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(variable) <span class="sc">%&gt;%</span></span>
<span id="cb78-48"><a href="wrangling-data-to-create-your-first-table.html#cb78-48" aria-hidden="true" tabindex="-1"></a>   <span class="fu">flextable</span>()</span></code></pre></div>
<p>We can now add changes to the underlying table and add new header labels to produce a table similar to the one above.</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="wrangling-data-to-create-your-first-table.html#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(flextable)</span>
<span id="cb79-2"><a href="wrangling-data-to-create-your-first-table.html#cb79-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-3"><a href="wrangling-data-to-create-your-first-table.html#cb79-3" aria-hidden="true" tabindex="-1"></a>dxadata <span class="sc">%&gt;%</span> <span class="co"># take the dxadata data set</span></span>
<span id="cb79-4"><a href="wrangling-data-to-create-your-first-table.html#cb79-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(participant, time, sex, include<span class="sc">:</span>weight, fat.whole) <span class="sc">%&gt;%</span> </span>
<span id="cb79-5"><a href="wrangling-data-to-create-your-first-table.html#cb79-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># select participant, time, sex, include to height and fat.whole</span></span>
<span id="cb79-6"><a href="wrangling-data-to-create-your-first-table.html#cb79-6" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb79-7"><a href="wrangling-data-to-create-your-first-table.html#cb79-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Filter to keep all observations with pre</span></span>
<span id="cb79-8"><a href="wrangling-data-to-create-your-first-table.html#cb79-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(time <span class="sc">==</span> <span class="st">&quot;pre&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb79-9"><a href="wrangling-data-to-create-your-first-table.html#cb79-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb79-10"><a href="wrangling-data-to-create-your-first-table.html#cb79-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate body fat</span></span>
<span id="cb79-11"><a href="wrangling-data-to-create-your-first-table.html#cb79-11" aria-hidden="true" tabindex="-1"></a>  <span class="co"># fat.whole in grams, needs to be divided by 1000 to express as kg</span></span>
<span id="cb79-12"><a href="wrangling-data-to-create-your-first-table.html#cb79-12" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Multiply by 100 to get percentage</span></span>
<span id="cb79-13"><a href="wrangling-data-to-create-your-first-table.html#cb79-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">fat.whole =</span> ((fat.whole<span class="sc">/</span><span class="dv">1000</span>) <span class="sc">/</span> weight) <span class="sc">*</span> <span class="dv">100</span>) <span class="sc">%&gt;%</span></span>
<span id="cb79-14"><a href="wrangling-data-to-create-your-first-table.html#cb79-14" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb79-15"><a href="wrangling-data-to-create-your-first-table.html#cb79-15" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Group the data frame and add a variable specifying the number of observations per group</span></span>
<span id="cb79-16"><a href="wrangling-data-to-create-your-first-table.html#cb79-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(include, sex) <span class="sc">%&gt;%</span></span>
<span id="cb79-17"><a href="wrangling-data-to-create-your-first-table.html#cb79-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb79-18"><a href="wrangling-data-to-create-your-first-table.html#cb79-18" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Collect all variables for convenient summarizing</span></span>
<span id="cb79-19"><a href="wrangling-data-to-create-your-first-table.html#cb79-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">names_to =</span> <span class="st">&quot;variable&quot;</span>, </span>
<span id="cb79-20"><a href="wrangling-data-to-create-your-first-table.html#cb79-20" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">&quot;value&quot;</span>, </span>
<span id="cb79-21"><a href="wrangling-data-to-create-your-first-table.html#cb79-21" aria-hidden="true" tabindex="-1"></a>               <span class="at">cols =</span> age<span class="sc">:</span>n) <span class="sc">%&gt;%</span></span>
<span id="cb79-22"><a href="wrangling-data-to-create-your-first-table.html#cb79-22" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create a new grouping, adding variable</span></span>
<span id="cb79-23"><a href="wrangling-data-to-create-your-first-table.html#cb79-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(include, sex, variable) <span class="sc">%&gt;%</span></span>
<span id="cb79-24"><a href="wrangling-data-to-create-your-first-table.html#cb79-24" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Summarize in two new variables m for mean and s for SD</span></span>
<span id="cb79-25"><a href="wrangling-data-to-create-your-first-table.html#cb79-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">m =</span> <span class="fu">mean</span>(value), </span>
<span id="cb79-26"><a href="wrangling-data-to-create-your-first-table.html#cb79-26" aria-hidden="true" tabindex="-1"></a>            <span class="at">s =</span> <span class="fu">sd</span>(value)) <span class="sc">%&gt;%</span></span>
<span id="cb79-27"><a href="wrangling-data-to-create-your-first-table.html#cb79-27" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add descriptive statistics together for nice formatting</span></span>
<span id="cb79-28"><a href="wrangling-data-to-create-your-first-table.html#cb79-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ms =</span> <span class="fu">if_else</span>(variable <span class="sc">==</span> <span class="st">&quot;n&quot;</span>, <span class="co"># If the variable is n</span></span>
<span id="cb79-29"><a href="wrangling-data-to-create-your-first-table.html#cb79-29" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">as.character</span>(m), <span class="co"># the only display the mean, otherwise:</span></span>
<span id="cb79-30"><a href="wrangling-data-to-create-your-first-table.html#cb79-30" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">paste0</span>(<span class="fu">signif</span>(m, <span class="dv">3</span>), <span class="co"># Use signif to round to significant numbers</span></span>
<span id="cb79-31"><a href="wrangling-data-to-create-your-first-table.html#cb79-31" aria-hidden="true" tabindex="-1"></a>                        <span class="st">&quot; (&quot;</span>,</span>
<span id="cb79-32"><a href="wrangling-data-to-create-your-first-table.html#cb79-32" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">signif</span>(s, <span class="dv">3</span>), </span>
<span id="cb79-33"><a href="wrangling-data-to-create-your-first-table.html#cb79-33" aria-hidden="true" tabindex="-1"></a>                        <span class="st">&quot;)&quot;</span>)), </span>
<span id="cb79-34"><a href="wrangling-data-to-create-your-first-table.html#cb79-34" aria-hidden="true" tabindex="-1"></a>         <span class="co"># Doing a new grouping variable</span></span>
<span id="cb79-35"><a href="wrangling-data-to-create-your-first-table.html#cb79-35" aria-hidden="true" tabindex="-1"></a>         <span class="at">include_sex =</span> <span class="fu">paste</span>(include, sex, <span class="at">sep =</span> <span class="st">&quot;_&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb79-36"><a href="wrangling-data-to-create-your-first-table.html#cb79-36" aria-hidden="true" tabindex="-1"></a>  <span class="co"># removing unnecessary variables after ungrouping</span></span>
<span id="cb79-37"><a href="wrangling-data-to-create-your-first-table.html#cb79-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb79-38"><a href="wrangling-data-to-create-your-first-table.html#cb79-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-39"><a href="wrangling-data-to-create-your-first-table.html#cb79-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>sex, <span class="sc">-</span>include, <span class="sc">-</span>m, <span class="sc">-</span>s) <span class="sc">%&gt;%</span></span>
<span id="cb79-40"><a href="wrangling-data-to-create-your-first-table.html#cb79-40" aria-hidden="true" tabindex="-1"></a>  <span class="co"># pivot wider to match the desired data</span></span>
<span id="cb79-41"><a href="wrangling-data-to-create-your-first-table.html#cb79-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> include_sex, </span>
<span id="cb79-42"><a href="wrangling-data-to-create-your-first-table.html#cb79-42" aria-hidden="true" tabindex="-1"></a>              <span class="at">values_from =</span> ms) <span class="sc">%&gt;%</span></span>
<span id="cb79-43"><a href="wrangling-data-to-create-your-first-table.html#cb79-43" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">variable =</span> <span class="fu">factor</span>(variable, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;n&quot;</span>, <span class="st">&quot;age&quot;</span>, <span class="st">&quot;weight&quot;</span>, <span class="st">&quot;height&quot;</span>, <span class="st">&quot;fat.whole&quot;</span>), </span>
<span id="cb79-44"><a href="wrangling-data-to-create-your-first-table.html#cb79-44" aria-hidden="true" tabindex="-1"></a>                           <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;N&quot;</span>, <span class="st">&quot;Age (years)&quot;</span>, <span class="st">&quot;Mass (kg)&quot;</span>, </span>
<span id="cb79-45"><a href="wrangling-data-to-create-your-first-table.html#cb79-45" aria-hidden="true" tabindex="-1"></a>                                      <span class="st">&quot;Stature (cm)&quot;</span>, <span class="st">&quot;Body fat (%)&quot;</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb79-46"><a href="wrangling-data-to-create-your-first-table.html#cb79-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(variable, incl_female, excl_female, incl_male, excl_male) <span class="sc">%&gt;%</span></span>
<span id="cb79-47"><a href="wrangling-data-to-create-your-first-table.html#cb79-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(variable) <span class="sc">%&gt;%</span></span>
<span id="cb79-48"><a href="wrangling-data-to-create-your-first-table.html#cb79-48" aria-hidden="true" tabindex="-1"></a>   <span class="fu">flextable</span>()  <span class="sc">%&gt;%</span></span>
<span id="cb79-49"><a href="wrangling-data-to-create-your-first-table.html#cb79-49" aria-hidden="true" tabindex="-1"></a>   <span class="fu">set_header_labels</span>(<span class="at">variable =</span> <span class="st">&quot;&quot;</span>,</span>
<span id="cb79-50"><a href="wrangling-data-to-create-your-first-table.html#cb79-50" aria-hidden="true" tabindex="-1"></a>                    <span class="at">incl_female =</span> <span class="st">&quot;Include&quot;</span>, </span>
<span id="cb79-51"><a href="wrangling-data-to-create-your-first-table.html#cb79-51" aria-hidden="true" tabindex="-1"></a>                     <span class="at">excl_female =</span> <span class="st">&quot;Exclude&quot;</span>,</span>
<span id="cb79-52"><a href="wrangling-data-to-create-your-first-table.html#cb79-52" aria-hidden="true" tabindex="-1"></a>                     <span class="at">incl_male =</span> <span class="st">&quot;Include&quot;</span>, </span>
<span id="cb79-53"><a href="wrangling-data-to-create-your-first-table.html#cb79-53" aria-hidden="true" tabindex="-1"></a>                     <span class="at">excl_male =</span> <span class="st">&quot;Exclude&quot;</span>)</span></code></pre></div>
<p>Note that flextable does not need <code>results = "asis"</code> to work in rmarkdown files. Similar to kable, flextable can give a preview by just running the code, meaning you do not have to knit the whole document to see what changes you have done.</p>
<p>Lets finnish up by adding a header and a footnote.</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="wrangling-data-to-create-your-first-table.html#cb80-1" aria-hidden="true" tabindex="-1"></a>dxadata <span class="sc">%&gt;%</span> <span class="co"># take the dxadata data set</span></span>
<span id="cb80-2"><a href="wrangling-data-to-create-your-first-table.html#cb80-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(participant, time, sex, include<span class="sc">:</span>weight, fat.whole) <span class="sc">%&gt;%</span> </span>
<span id="cb80-3"><a href="wrangling-data-to-create-your-first-table.html#cb80-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># select participant, time, sex, include to height and fat.whole</span></span>
<span id="cb80-4"><a href="wrangling-data-to-create-your-first-table.html#cb80-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb80-5"><a href="wrangling-data-to-create-your-first-table.html#cb80-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Filter to keep all observations with pre</span></span>
<span id="cb80-6"><a href="wrangling-data-to-create-your-first-table.html#cb80-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(time <span class="sc">==</span> <span class="st">&quot;pre&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb80-7"><a href="wrangling-data-to-create-your-first-table.html#cb80-7" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb80-8"><a href="wrangling-data-to-create-your-first-table.html#cb80-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate body fat</span></span>
<span id="cb80-9"><a href="wrangling-data-to-create-your-first-table.html#cb80-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># fat.whole in grams, needs to be divided by 1000 to express as kg</span></span>
<span id="cb80-10"><a href="wrangling-data-to-create-your-first-table.html#cb80-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Multiply by 100 to get percentage</span></span>
<span id="cb80-11"><a href="wrangling-data-to-create-your-first-table.html#cb80-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">fat.whole =</span> ((fat.whole<span class="sc">/</span><span class="dv">1000</span>) <span class="sc">/</span> weight) <span class="sc">*</span> <span class="dv">100</span>) <span class="sc">%&gt;%</span></span>
<span id="cb80-12"><a href="wrangling-data-to-create-your-first-table.html#cb80-12" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb80-13"><a href="wrangling-data-to-create-your-first-table.html#cb80-13" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Group the data frame and add a variable specifying the number of observations per group</span></span>
<span id="cb80-14"><a href="wrangling-data-to-create-your-first-table.html#cb80-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(include, sex) <span class="sc">%&gt;%</span></span>
<span id="cb80-15"><a href="wrangling-data-to-create-your-first-table.html#cb80-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb80-16"><a href="wrangling-data-to-create-your-first-table.html#cb80-16" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Collect all variables for convenient summarizing</span></span>
<span id="cb80-17"><a href="wrangling-data-to-create-your-first-table.html#cb80-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">names_to =</span> <span class="st">&quot;variable&quot;</span>, </span>
<span id="cb80-18"><a href="wrangling-data-to-create-your-first-table.html#cb80-18" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">&quot;value&quot;</span>, </span>
<span id="cb80-19"><a href="wrangling-data-to-create-your-first-table.html#cb80-19" aria-hidden="true" tabindex="-1"></a>               <span class="at">cols =</span> age<span class="sc">:</span>n) <span class="sc">%&gt;%</span></span>
<span id="cb80-20"><a href="wrangling-data-to-create-your-first-table.html#cb80-20" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create a new grouping, adding variable</span></span>
<span id="cb80-21"><a href="wrangling-data-to-create-your-first-table.html#cb80-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(include, sex, variable) <span class="sc">%&gt;%</span></span>
<span id="cb80-22"><a href="wrangling-data-to-create-your-first-table.html#cb80-22" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Summarize in two new variables m for mean and s for SD</span></span>
<span id="cb80-23"><a href="wrangling-data-to-create-your-first-table.html#cb80-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">m =</span> <span class="fu">mean</span>(value), </span>
<span id="cb80-24"><a href="wrangling-data-to-create-your-first-table.html#cb80-24" aria-hidden="true" tabindex="-1"></a>            <span class="at">s =</span> <span class="fu">sd</span>(value)) <span class="sc">%&gt;%</span></span>
<span id="cb80-25"><a href="wrangling-data-to-create-your-first-table.html#cb80-25" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add descriptive statistics together for nice formatting</span></span>
<span id="cb80-26"><a href="wrangling-data-to-create-your-first-table.html#cb80-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ms =</span> <span class="fu">if_else</span>(variable <span class="sc">==</span> <span class="st">&quot;n&quot;</span>, <span class="co"># If the variable is n</span></span>
<span id="cb80-27"><a href="wrangling-data-to-create-your-first-table.html#cb80-27" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">as.character</span>(m), <span class="co"># the only display the mean, otherwise:</span></span>
<span id="cb80-28"><a href="wrangling-data-to-create-your-first-table.html#cb80-28" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">paste0</span>(<span class="fu">signif</span>(m, <span class="dv">3</span>), <span class="co"># Use signif to round to significant numbers</span></span>
<span id="cb80-29"><a href="wrangling-data-to-create-your-first-table.html#cb80-29" aria-hidden="true" tabindex="-1"></a>                        <span class="st">&quot; (&quot;</span>,</span>
<span id="cb80-30"><a href="wrangling-data-to-create-your-first-table.html#cb80-30" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">signif</span>(s, <span class="dv">3</span>), </span>
<span id="cb80-31"><a href="wrangling-data-to-create-your-first-table.html#cb80-31" aria-hidden="true" tabindex="-1"></a>                        <span class="st">&quot;)&quot;</span>)), </span>
<span id="cb80-32"><a href="wrangling-data-to-create-your-first-table.html#cb80-32" aria-hidden="true" tabindex="-1"></a>         <span class="co"># Doing a new grouping variable</span></span>
<span id="cb80-33"><a href="wrangling-data-to-create-your-first-table.html#cb80-33" aria-hidden="true" tabindex="-1"></a>         <span class="at">include_sex =</span> <span class="fu">paste</span>(include, sex, <span class="at">sep =</span> <span class="st">&quot;_&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb80-34"><a href="wrangling-data-to-create-your-first-table.html#cb80-34" aria-hidden="true" tabindex="-1"></a>  <span class="co"># removing unnecessary variables after ungrouping</span></span>
<span id="cb80-35"><a href="wrangling-data-to-create-your-first-table.html#cb80-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb80-36"><a href="wrangling-data-to-create-your-first-table.html#cb80-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-37"><a href="wrangling-data-to-create-your-first-table.html#cb80-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>sex, <span class="sc">-</span>include, <span class="sc">-</span>m, <span class="sc">-</span>s) <span class="sc">%&gt;%</span></span>
<span id="cb80-38"><a href="wrangling-data-to-create-your-first-table.html#cb80-38" aria-hidden="true" tabindex="-1"></a>  <span class="co"># pivot wider to match the desired data</span></span>
<span id="cb80-39"><a href="wrangling-data-to-create-your-first-table.html#cb80-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> include_sex, </span>
<span id="cb80-40"><a href="wrangling-data-to-create-your-first-table.html#cb80-40" aria-hidden="true" tabindex="-1"></a>              <span class="at">values_from =</span> ms) <span class="sc">%&gt;%</span></span>
<span id="cb80-41"><a href="wrangling-data-to-create-your-first-table.html#cb80-41" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">variable =</span> <span class="fu">factor</span>(variable, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;n&quot;</span>, <span class="st">&quot;age&quot;</span>, <span class="st">&quot;weight&quot;</span>, <span class="st">&quot;height&quot;</span>, <span class="st">&quot;fat.whole&quot;</span>), </span>
<span id="cb80-42"><a href="wrangling-data-to-create-your-first-table.html#cb80-42" aria-hidden="true" tabindex="-1"></a>                           <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;N&quot;</span>, <span class="st">&quot;Age (years)&quot;</span>, <span class="st">&quot;Mass (kg)&quot;</span>, </span>
<span id="cb80-43"><a href="wrangling-data-to-create-your-first-table.html#cb80-43" aria-hidden="true" tabindex="-1"></a>                                      <span class="st">&quot;Stature (cm)&quot;</span>, <span class="st">&quot;Body fat (%)&quot;</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb80-44"><a href="wrangling-data-to-create-your-first-table.html#cb80-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(variable, incl_female, excl_female, incl_male, excl_male) <span class="sc">%&gt;%</span></span>
<span id="cb80-45"><a href="wrangling-data-to-create-your-first-table.html#cb80-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(variable) <span class="sc">%&gt;%</span></span>
<span id="cb80-46"><a href="wrangling-data-to-create-your-first-table.html#cb80-46" aria-hidden="true" tabindex="-1"></a>   <span class="fu">flextable</span>()  <span class="sc">%&gt;%</span></span>
<span id="cb80-47"><a href="wrangling-data-to-create-your-first-table.html#cb80-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-48"><a href="wrangling-data-to-create-your-first-table.html#cb80-48" aria-hidden="true" tabindex="-1"></a>   <span class="fu">set_header_labels</span>(<span class="at">variable =</span> <span class="st">&quot;&quot;</span>,</span>
<span id="cb80-49"><a href="wrangling-data-to-create-your-first-table.html#cb80-49" aria-hidden="true" tabindex="-1"></a>                    <span class="at">incl_female =</span> <span class="st">&quot;Include&quot;</span>, </span>
<span id="cb80-50"><a href="wrangling-data-to-create-your-first-table.html#cb80-50" aria-hidden="true" tabindex="-1"></a>                     <span class="at">excl_female =</span> <span class="st">&quot;Exclude&quot;</span>,</span>
<span id="cb80-51"><a href="wrangling-data-to-create-your-first-table.html#cb80-51" aria-hidden="true" tabindex="-1"></a>                     <span class="at">incl_male =</span> <span class="st">&quot;Include&quot;</span>, </span>
<span id="cb80-52"><a href="wrangling-data-to-create-your-first-table.html#cb80-52" aria-hidden="true" tabindex="-1"></a>                     <span class="at">excl_male =</span> <span class="st">&quot;Exclude&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb80-53"><a href="wrangling-data-to-create-your-first-table.html#cb80-53" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Adds a header specified for all columns of the table</span></span>
<span id="cb80-54"><a href="wrangling-data-to-create-your-first-table.html#cb80-54" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_header_row</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;&quot;</span>, <span class="st">&quot;Female&quot;</span>, <span class="st">&quot;Female&quot;</span>, <span class="st">&quot;Male&quot;</span>, <span class="st">&quot;Male&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb80-55"><a href="wrangling-data-to-create-your-first-table.html#cb80-55" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb80-56"><a href="wrangling-data-to-create-your-first-table.html#cb80-56" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Merge the new cells with the same data</span></span>
<span id="cb80-57"><a href="wrangling-data-to-create-your-first-table.html#cb80-57" aria-hidden="true" tabindex="-1"></a>    <span class="co"># part = &quot;header&quot; meands that we want to add a row in the &quot;header&quot; part of the table.</span></span>
<span id="cb80-58"><a href="wrangling-data-to-create-your-first-table.html#cb80-58" aria-hidden="true" tabindex="-1"></a>    <span class="co"># i = 1 means row 1</span></span>
<span id="cb80-59"><a href="wrangling-data-to-create-your-first-table.html#cb80-59" aria-hidden="true" tabindex="-1"></a>    <span class="co"># j = 2:3 means column 2 to 3</span></span>
<span id="cb80-60"><a href="wrangling-data-to-create-your-first-table.html#cb80-60" aria-hidden="true" tabindex="-1"></a>    <span class="fu">merge_at</span>(<span class="at">part =</span> <span class="st">&quot;header&quot;</span>, <span class="at">i =</span> <span class="dv">1</span>, <span class="at">j =</span> <span class="dv">2</span><span class="sc">:</span><span class="dv">3</span>) <span class="sc">%&gt;%</span></span>
<span id="cb80-61"><a href="wrangling-data-to-create-your-first-table.html#cb80-61" aria-hidden="true" tabindex="-1"></a>    <span class="fu">merge_at</span>(<span class="at">part =</span> <span class="st">&quot;header&quot;</span>, <span class="at">i =</span> <span class="dv">1</span>, <span class="at">j =</span> <span class="dv">4</span><span class="sc">:</span><span class="dv">5</span>) <span class="sc">%&gt;%</span></span>
<span id="cb80-62"><a href="wrangling-data-to-create-your-first-table.html#cb80-62" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Add footnote</span></span>
<span id="cb80-63"><a href="wrangling-data-to-create-your-first-table.html#cb80-63" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_footer_row</span>(<span class="at">values =</span> <span class="st">&quot;Values are mean and (SD)&quot;</span>, <span class="at">colwidths =</span> <span class="dv">5</span>) <span class="sc">%&gt;%</span></span>
<span id="cb80-64"><a href="wrangling-data-to-create-your-first-table.html#cb80-64" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Make the columns widths match the content</span></span>
<span id="cb80-65"><a href="wrangling-data-to-create-your-first-table.html#cb80-65" aria-hidden="true" tabindex="-1"></a>    <span class="fu">autofit</span>()</span></code></pre></div>
<p>Nice! This table should also print if the code chunk is included in a R Markdown file and the output is choosen to be “Knit to word.” See <a href="https://davidgohel.github.io/flextable/">flextable documentation</a> for more customizations.</p>
</div>
<div id="an-exercise-reproduce-table-1-from-rn2225" class="section level2" number="6.4">
<h2><span class="header-section-number">6.4</span> An exercise, reproduce Table 1 from <span class="citation">(<a href="references.html#ref-RN2225" role="doc-biblioref">Haun et al. 2019</a>)</span></h2>
<script language="javascript"> 
    function toggle(num) {
      var ele = document.getElementById("toggleText" + num);
      var text = document.getElementById("displayText" + num);
      if(ele.style.display == "block") {
        ele.style.display = "none";
        text.innerHTML = "show";
      }
      else {
        ele.style.display = "block";
        text.innerHTML = "hide";
      }
   } 
  </script>
<p>In total 30 college students performed a heavy resistance training protocol where training volume was constantly increased over six weeks. In <span class="citation">(<a href="references.html#ref-RN2149" role="doc-biblioref">Haun et al. 2018</a>)</span>, a part of the study, focusing on supplementation was reported. In <span class="citation">(<a href="references.html#ref-RN2225" role="doc-biblioref">Haun et al. 2019</a>)</span>, participants were devided into two clusters based on training responses and the authors aimed to answer the question what separates high- from low-responders to resistance training.</p>
<p>In this exercise we want to reproduce a big part of Table 1 in <span class="citation">(<a href="references.html#ref-RN2225" role="doc-biblioref">Haun et al. 2019</a>)</span>. The Table as re-produced here can be seen below. See the orginal article for explenation of clusters. To select variables, see the data description in the <code>exscidata</code> package, the dataset is called <code>hypertrophy</code>.</p>
<table>
<caption>
<span id="tab:unnamed-chunk-44">Table 6.1: </span>Table 1. Baseline characteristics at PRE and back squat training volume between clusters
</caption>
<thead>
<tr>
<th style="text-align:left;">
Variable
</th>
<th style="text-align:left;">
LOW (n = 10)
</th>
<th style="text-align:left;">
HIGH (n = 10)
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Age (years)
</td>
<td style="text-align:left;">
20.9 (1.9)
</td>
<td style="text-align:left;">
21.5 (1)
</td>
</tr>
<tr>
<td style="text-align:left;">
Training age (years)
</td>
<td style="text-align:left;">
5.5 (2.3)
</td>
<td style="text-align:left;">
5.5 (2)
</td>
</tr>
<tr>
<td style="text-align:left;">
Body mass (kg)
</td>
<td style="text-align:left;">
78.8 (8)
</td>
<td style="text-align:left;">
83.1 (12.8)
</td>
</tr>
<tr>
<td style="text-align:left;">
DXA LBM (kg)
</td>
<td style="text-align:left;">
62.2 (5.9)
</td>
<td style="text-align:left;">
65.1 (9.7)
</td>
</tr>
<tr>
<td style="text-align:left;">
DXA FM (kg)
</td>
<td style="text-align:left;">
13.5 (4.9)
</td>
<td style="text-align:left;">
14.5 (4.9)
</td>
</tr>
<tr>
<td style="text-align:left;">
Type II fiber (%)
</td>
<td style="text-align:left;">
59.4 (16.9)
</td>
<td style="text-align:left;">
50.2 (13.6)
</td>
</tr>
<tr>
<td style="text-align:left;">
3RM back squat (kg)
</td>
<td style="text-align:left;">
127 (23.3)
</td>
<td style="text-align:left;">
135.4 (14.1)
</td>
</tr>
<tr>
<td style="text-align:left;">
Total back squat training volume (kg)
</td>
<td style="text-align:left;">
106610.2 (18679.4)
</td>
<td style="text-align:left;">
111820.8 (12962.5)
</td>
</tr>
</tbody>
</table>
<a id="displayText" href="javascript:toggle(1);">Click for a possible solution</a>
<div id="toggleText1" style="display: none">
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="wrangling-data-to-create-your-first-table.html#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="co"># load the data</span></span>
<span id="cb81-2"><a href="wrangling-data-to-create-your-first-table.html#cb81-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(hypertrophy)</span>
<span id="cb81-3"><a href="wrangling-data-to-create-your-first-table.html#cb81-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-4"><a href="wrangling-data-to-create-your-first-table.html#cb81-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-5"><a href="wrangling-data-to-create-your-first-table.html#cb81-5" aria-hidden="true" tabindex="-1"></a>hypertrophy <span class="sc">%&gt;%</span></span>
<span id="cb81-6"><a href="wrangling-data-to-create-your-first-table.html#cb81-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Select the variables needed to reproduce the table</span></span>
<span id="cb81-7"><a href="wrangling-data-to-create-your-first-table.html#cb81-7" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(PARTICIPANT, </span>
<span id="cb81-8"><a href="wrangling-data-to-create-your-first-table.html#cb81-8" aria-hidden="true" tabindex="-1"></a>                GROUP, </span>
<span id="cb81-9"><a href="wrangling-data-to-create-your-first-table.html#cb81-9" aria-hidden="true" tabindex="-1"></a>                CLUSTER,</span>
<span id="cb81-10"><a href="wrangling-data-to-create-your-first-table.html#cb81-10" aria-hidden="true" tabindex="-1"></a>                AGE, </span>
<span id="cb81-11"><a href="wrangling-data-to-create-your-first-table.html#cb81-11" aria-hidden="true" tabindex="-1"></a>                BODYMASS_T1, </span>
<span id="cb81-12"><a href="wrangling-data-to-create-your-first-table.html#cb81-12" aria-hidden="true" tabindex="-1"></a>                TRAINING_AGE,</span>
<span id="cb81-13"><a href="wrangling-data-to-create-your-first-table.html#cb81-13" aria-hidden="true" tabindex="-1"></a>                PERCENT_TYPE_II_T1, </span>
<span id="cb81-14"><a href="wrangling-data-to-create-your-first-table.html#cb81-14" aria-hidden="true" tabindex="-1"></a>                SQUAT_3RM, </span>
<span id="cb81-15"><a href="wrangling-data-to-create-your-first-table.html#cb81-15" aria-hidden="true" tabindex="-1"></a>                DXA_LBM_T1,</span>
<span id="cb81-16"><a href="wrangling-data-to-create-your-first-table.html#cb81-16" aria-hidden="true" tabindex="-1"></a>                DXA_FM_T1, </span>
<span id="cb81-17"><a href="wrangling-data-to-create-your-first-table.html#cb81-17" aria-hidden="true" tabindex="-1"></a>                SQUAT_VOLUME) <span class="sc">%&gt;%</span></span>
<span id="cb81-18"><a href="wrangling-data-to-create-your-first-table.html#cb81-18" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Pivot longer to gather all variables</span></span>
<span id="cb81-19"><a href="wrangling-data-to-create-your-first-table.html#cb81-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> AGE<span class="sc">:</span>SQUAT_VOLUME, <span class="at">names_to =</span> <span class="st">&quot;variable&quot;</span>, <span class="at">values_to =</span> <span class="st">&quot;values&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb81-20"><a href="wrangling-data-to-create-your-first-table.html#cb81-20" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Remove participants not belonging to a cluster</span></span>
<span id="cb81-21"><a href="wrangling-data-to-create-your-first-table.html#cb81-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(CLUSTER)) <span class="sc">%&gt;%</span></span>
<span id="cb81-22"><a href="wrangling-data-to-create-your-first-table.html#cb81-22" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create a grouping before summarizing</span></span>
<span id="cb81-23"><a href="wrangling-data-to-create-your-first-table.html#cb81-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(CLUSTER, variable) <span class="sc">%&gt;%</span></span>
<span id="cb81-24"><a href="wrangling-data-to-create-your-first-table.html#cb81-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">m =</span> <span class="fu">mean</span>(values), </span>
<span id="cb81-25"><a href="wrangling-data-to-create-your-first-table.html#cb81-25" aria-hidden="true" tabindex="-1"></a>            <span class="at">s =</span> <span class="fu">sd</span>(values)) <span class="sc">%&gt;%</span></span>
<span id="cb81-26"><a href="wrangling-data-to-create-your-first-table.html#cb81-26" aria-hidden="true" tabindex="-1"></a>  <span class="co"># For nice printing, paste mean and SD </span></span>
<span id="cb81-27"><a href="wrangling-data-to-create-your-first-table.html#cb81-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">m.s =</span> <span class="fu">paste0</span>(<span class="fu">round</span>(m,<span class="dv">1</span>), <span class="st">&quot; (&quot;</span>, <span class="fu">round</span>(s,<span class="dv">1</span>), <span class="st">&quot;)&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb81-28"><a href="wrangling-data-to-create-your-first-table.html#cb81-28" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Select only variables needed for the table</span></span>
<span id="cb81-29"><a href="wrangling-data-to-create-your-first-table.html#cb81-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(CLUSTER, variable, m.s) <span class="sc">%&gt;%</span></span>
<span id="cb81-30"><a href="wrangling-data-to-create-your-first-table.html#cb81-30" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Transform the data set to a wide format based on clusters</span></span>
<span id="cb81-31"><a href="wrangling-data-to-create-your-first-table.html#cb81-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> CLUSTER, <span class="at">values_from =</span> m.s) <span class="sc">%&gt;%</span></span>
<span id="cb81-32"><a href="wrangling-data-to-create-your-first-table.html#cb81-32" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Re-arrange the &quot;variable&quot; variable, correct order with levels, and correct labels</span></span>
<span id="cb81-33"><a href="wrangling-data-to-create-your-first-table.html#cb81-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">variable =</span> <span class="fu">factor</span>(variable, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;AGE&quot;</span>,</span>
<span id="cb81-34"><a href="wrangling-data-to-create-your-first-table.html#cb81-34" aria-hidden="true" tabindex="-1"></a>                                                <span class="st">&quot;TRAINING_AGE&quot;</span>, </span>
<span id="cb81-35"><a href="wrangling-data-to-create-your-first-table.html#cb81-35" aria-hidden="true" tabindex="-1"></a>                                                <span class="st">&quot;BODYMASS_T1&quot;</span>, </span>
<span id="cb81-36"><a href="wrangling-data-to-create-your-first-table.html#cb81-36" aria-hidden="true" tabindex="-1"></a>                                                <span class="st">&quot;DXA_LBM_T1&quot;</span>, </span>
<span id="cb81-37"><a href="wrangling-data-to-create-your-first-table.html#cb81-37" aria-hidden="true" tabindex="-1"></a>                                                <span class="st">&quot;DXA_FM_T1&quot;</span>, </span>
<span id="cb81-38"><a href="wrangling-data-to-create-your-first-table.html#cb81-38" aria-hidden="true" tabindex="-1"></a>                                                <span class="st">&quot;PERCENT_TYPE_II_T1&quot;</span>, </span>
<span id="cb81-39"><a href="wrangling-data-to-create-your-first-table.html#cb81-39" aria-hidden="true" tabindex="-1"></a>                                                <span class="st">&quot;SQUAT_3RM&quot;</span>, </span>
<span id="cb81-40"><a href="wrangling-data-to-create-your-first-table.html#cb81-40" aria-hidden="true" tabindex="-1"></a>                                                <span class="st">&quot;SQUAT_VOLUME&quot;</span>), </span>
<span id="cb81-41"><a href="wrangling-data-to-create-your-first-table.html#cb81-41" aria-hidden="true" tabindex="-1"></a>                                      <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;Age (years)&quot;</span>, </span>
<span id="cb81-42"><a href="wrangling-data-to-create-your-first-table.html#cb81-42" aria-hidden="true" tabindex="-1"></a>                                                <span class="st">&quot;Training age (years)&quot;</span>, </span>
<span id="cb81-43"><a href="wrangling-data-to-create-your-first-table.html#cb81-43" aria-hidden="true" tabindex="-1"></a>                                                <span class="st">&quot;Body mass (kg)&quot;</span>, </span>
<span id="cb81-44"><a href="wrangling-data-to-create-your-first-table.html#cb81-44" aria-hidden="true" tabindex="-1"></a>                                                <span class="st">&quot;DXA LBM (kg)&quot;</span>, </span>
<span id="cb81-45"><a href="wrangling-data-to-create-your-first-table.html#cb81-45" aria-hidden="true" tabindex="-1"></a>                                                <span class="st">&quot;DXA FM (kg)&quot;</span>, </span>
<span id="cb81-46"><a href="wrangling-data-to-create-your-first-table.html#cb81-46" aria-hidden="true" tabindex="-1"></a>                                                <span class="st">&quot;Type II fiber (%)&quot;</span>, </span>
<span id="cb81-47"><a href="wrangling-data-to-create-your-first-table.html#cb81-47" aria-hidden="true" tabindex="-1"></a>                                                <span class="st">&quot;3RM back squat (kg)&quot;</span>, </span>
<span id="cb81-48"><a href="wrangling-data-to-create-your-first-table.html#cb81-48" aria-hidden="true" tabindex="-1"></a>                                                <span class="st">&quot;Total back squat training volume (kg)&quot;</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb81-49"><a href="wrangling-data-to-create-your-first-table.html#cb81-49" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Sort/order the dataset</span></span>
<span id="cb81-50"><a href="wrangling-data-to-create-your-first-table.html#cb81-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(variable) <span class="sc">%&gt;%</span></span>
<span id="cb81-51"><a href="wrangling-data-to-create-your-first-table.html#cb81-51" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Use kable to output the table with appropriate caption and column names. </span></span>
<span id="cb81-52"><a href="wrangling-data-to-create-your-first-table.html#cb81-52" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">&quot;Variable&quot;</span>, <span class="st">&quot;LOW (n = 10)&quot;</span>, <span class="st">&quot;HIGH (n = 10)&quot;</span>), </span>
<span id="cb81-53"><a href="wrangling-data-to-create-your-first-table.html#cb81-53" aria-hidden="true" tabindex="-1"></a>          <span class="at">caption =</span> <span class="st">&quot;Table 1. Baseline characteristics at PRE and back squat training volume between clusters&quot;</span>)</span></code></pre></div>
</div>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="17">
<li id="fn17"><p>See for example the <a href="https://gt.rstudio.com/index.html">description of the <code>gt</code> package</a> that list a bunch of table generators.<a href="wrangling-data-to-create-your-first-table.html#fnref17" class="footnote-back">↩︎</a></p></li>
<li id="fn18"><p>All this talk about pivot, take a break and <a href="https://www.youtube.com/watch?v=L_PWbnHABsM">watch this clip</a> from the hit series “Friends,” its about “pivot!”<a href="wrangling-data-to-create-your-first-table.html#fnref18" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="creating-your-first-graph.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="writing-your-first-reproducible-report.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["quant-methods.pdf"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
